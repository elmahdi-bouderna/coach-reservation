/*! For license information please see main.34a4f270.js.LICENSE.txt */
(()=>{var e={49:(e,t)=>{"use strict";var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,x={};function v(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var j=b.prototype=new g;j.constructor=b,f(j,v.prototype),j.isPureReactComponent=!0;var y=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,a){var s,l={},r=null,i=null;if(null!=t)for(s in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(r=""+t.key),t)N.call(t,s)&&!k.hasOwnProperty(s)&&(l[s]=t[s]);var o=arguments.length-2;if(1===o)l.children=a;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];l.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps)void 0===l[s]&&(l[s]=o[s]);return{$$typeof:n,type:e,key:r,ref:i,props:l,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,s,l,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case a:o=!0}}if(o)return r=r(o=e),e=""===l?"."+E(o,0):l,y(r)?(s="",null!=e&&(s=e.replace(_,"$&/")+"/"),P(r,t,s,"",(function(e){return e}))):null!=r&&(C(r)&&(r=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,s+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(_,"$&/")+"/")+e)),t.push(r)),1;if(o=0,l=""===l?".":l+":",y(e))for(var c=0;c<e.length;c++){var d=l+E(i=e[c],c);o+=P(i,t,s,d,r)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=P(i=i.value,t,s,d=l+E(i,c++),r);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function T(e,t,n){if(null==e)return e;var a=[],s=0;return P(e,a,"","",(function(e){return t.call(n,e,s++)})),a}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},F={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:w};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=r,t.PureComponent=b,t.StrictMode=l,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=I,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),l=e.key,r=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,i=w.current),void 0!==t.key&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=a;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}return{$$typeof:n,type:e.type,key:l,ref:r,props:s,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},241:e=>{"use strict";var t=function(){};e.exports=t},340:(e,t,n)=>{"use strict";e.exports=n(761)},345:(e,t,n)=>{"use strict";var a=n(950),s=n(340);function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)r.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function f(e,t,n,a,s,l,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=r}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){x[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];x[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){x[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){x[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){x[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){x[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){x[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){x[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){x[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,a){var s=x.hasOwnProperty(t)?x[t]:null;(null!==s?0!==s.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,a)&&(n=null),a||null===s?function(e){return!!u.call(p,e)||!u.call(h,e)&&(m.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,a=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,g);x[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,g);x[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,g);x[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),x.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var j=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var A,L=Object.assign;function M(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),l=a.stack.split("\n"),r=s.length-1,i=l.length-1;1<=r&&0<=i&&s[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(s[r]!==l[i]){if(1!==r||1!==i)do{if(r--,0>--i||s[r]!==l[i]){var o="\n"+s[r].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=r&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function B(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){a=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=V(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Q(e,t);var n=H(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(a&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(l(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(l(92));if(te(n)){if(1<n.length)throw Error(l(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function le(e,t){var n=H(t.value),a=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),s=fe(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,s):e[n]=s}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(l(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(l(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(l(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(l(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var je=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,ke=null;function Se(e){if(e=bs(e)){if("function"!==typeof Ne)throw Error(l(280));var t=e.stateNode;t&&(t=ys(t),Ne(e.stateNode,e.type,t))}}function Ce(e){we?ke?ke.push(e):ke=[e]:we=e}function _e(){if(we){var e=we,t=ke;if(ke=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Te=!1;function De(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ee(e,t,n)}finally{Te=!1,(null!==we||null!==ke)&&(Pe(),_e())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var a=ys(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(l(231,t,typeof n));return n}var Oe=!1;if(d)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(de){Oe=!1}function Ie(e,t,n,a,s,l,r,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ae=!1,Le=null,Me=!1,ze=null,Ue={onError:function(e){Ae=!0,Le=e}};function Be(e,t,n,a,s,l,r,i,o){Ae=!1,Le=null,Ie.apply(Ue,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(l(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(null===s)break;var r=s.alternate;if(null===r){if(null!==(a=s.return)){n=a;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return He(s),e;if(r===a)return He(s),t;r=r.sibling}throw Error(l(188))}if(n.return!==a.return)n=s,a=r;else{for(var i=!1,o=s.child;o;){if(o===n){i=!0,n=s,a=r;break}if(o===a){i=!0,a=s,n=r;break}o=o.sibling}if(!i){for(o=r.child;o;){if(o===n){i=!0,n=r,a=s;break}if(o===a){i=!0,a=r,n=s;break}o=o.sibling}if(!i)throw Error(l(189))}}if(n.alternate!==a)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ye=s.unstable_scheduleCallback,$e=s.unstable_cancelCallback,Ke=s.unstable_shouldYield,Je=s.unstable_requestPaint,Qe=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,at=s.unstable_IdlePriority,st=null,lt=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,s=e.suspendedLanes,l=e.pingedLanes,r=268435455&n;if(0!==r){var i=r&~s;0!==i?a=ut(i):0!==(l&=r)&&(a=ut(l))}else 0!==(r=n&~s)?a=ut(r):0!==l&&(a=ut(l));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(l=t&-t)||16===s&&0!==(4194240&l)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)s=1<<(n=31-rt(t)),a|=e[n],t&=~s;return a}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-rt(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}var bt=0;function jt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,Nt,wt,kt,St,Ct=!1,_t=[],Et=null,Pt=null,Tt=null,Dt=new Map,Rt=new Map,Ot=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function At(e,t,n,a,s,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:l,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&Nt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Lt(e){var t=gs(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&Nt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);je=a,n.target.dispatchEvent(a),je=null,t.shift()}return!0}function zt(e,t,n){Mt(e)&&n.delete(t)}function Ut(){Ct=!1,null!==Et&&Mt(Et)&&(Et=null),null!==Pt&&Mt(Pt)&&(Pt=null),null!==Tt&&Mt(Tt)&&(Tt=null),Dt.forEach(zt),Rt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ut)))}function Wt(e){function t(t){return Bt(t,e)}if(0<_t.length){Bt(_t[0],e);for(var n=1;n<_t.length;n++){var a=_t[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Pt&&Bt(Pt,e),null!==Tt&&Bt(Tt,e),Dt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(a=Ot[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var qt=j.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,a){var s=bt,l=qt.transition;qt.transition=null;try{bt=1,Yt(e,t,n,a)}finally{bt=s,qt.transition=l}}function Gt(e,t,n,a){var s=bt,l=qt.transition;qt.transition=null;try{bt=4,Yt(e,t,n,a)}finally{bt=s,qt.transition=l}}function Yt(e,t,n,a){if(Ht){var s=Kt(e,t,n,a);if(null===s)Ha(e,t,a,$t,n),It(e,a);else if(function(e,t,n,a,s){switch(t){case"focusin":return Et=At(Et,e,t,n,a,s),!0;case"dragenter":return Pt=At(Pt,e,t,n,a,s),!0;case"mouseover":return Tt=At(Tt,e,t,n,a,s),!0;case"pointerover":var l=s.pointerId;return Dt.set(l,At(Dt.get(l)||null,e,t,n,a,s)),!0;case"gotpointercapture":return l=s.pointerId,Rt.set(l,At(Rt.get(l)||null,e,t,n,a,s)),!0}return!1}(s,e,t,n,a))a.stopPropagation();else if(It(e,a),4&t&&-1<Ft.indexOf(e)){for(;null!==s;){var l=bs(s);if(null!==l&&yt(l),null===(l=Kt(e,t,n,a))&&Ha(e,t,a,$t,n),l===s)break;s=l}null!==s&&a.stopPropagation()}else Ha(e,t,a,null,n)}}var $t=null;function Kt(e,t,n,a){if($t=null,null!==(e=gs(e=ye(a))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,a=n.length,s="value"in Qt?Qt.value:Qt.textContent,l=s.length;for(e=0;e<a&&n[e]===s[e];e++);var r=a-e;for(t=1;t<=r&&n[a-t]===s[l-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function sn(e){function t(t,n,a,s,l){for(var r in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(s):s[r]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:an,this.isPropagationStopped=an,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var ln,rn,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(cn),un=L({},cn,{view:0,detail:0}),mn=sn(un),hn=L({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(ln=e.screenX-on.screenX,rn=e.screenY-on.screenY):rn=ln=0,on=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),pn=sn(hn),fn=sn(L({},hn,{dataTransfer:0})),xn=sn(L({},un,{relatedTarget:0})),vn=sn(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(gn),jn=sn(L({},cn,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return kn}var Cn=L({},un,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=sn(Cn),En=sn(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(L({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Tn=sn(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Dn),On=[9,13,27,32],Fn=d&&"CompositionEvent"in window,In=null;d&&"documentMode"in document&&(In=document.documentMode);var An=d&&"TextEvent"in window&&!In,Ln=d&&(!Fn||In&&8<In&&11>=In),Mn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Vn(e,t,n,a){Ce(a),0<(t=Ga(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Gn=null,Yn=null;function $n(e){Ma(e,0)}function Kn(e){if(Y(js(e)))return e}function Jn(e,t){if("change"===e)return t}var Qn=!1;if(d){var Xn;if(d){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Xn=Zn}else Xn=!1;Qn=Xn&&(!document.documentMode||9<document.documentMode)}function ta(){Gn&&(Gn.detachEvent("onpropertychange",na),Yn=Gn=null)}function na(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];Vn(t,Yn,e,ye(e)),De($n,t)}}function aa(e,t,n){"focusin"===e?(ta(),Yn=n,(Gn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function sa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function la(e,t){if("click"===e)return Kn(t)}function ra(e,t){if("input"===e||"change"===e)return Kn(t)}var ia="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function oa(e,t){if(ia(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!u.call(t,s)||!ia(e[s],t[s]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function da(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ma(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function ha(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pa(e){var t=ma(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&ha(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(a.start,s);a=void 0===a.end?l:Math.min(a.end,s),!e.extend&&l>a&&(s=a,a=l,l=s),s=da(n,l);var r=da(n,a);s&&r&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),l>a?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fa=d&&"documentMode"in document&&11>=document.documentMode,xa=null,va=null,ga=null,ba=!1;function ja(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ba||null==xa||xa!==$(a)||("selectionStart"in(a=xa)&&ha(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ga&&oa(ga,a)||(ga=a,0<(a=Ga(va,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=xa)))}function ya(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Na={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},wa={},ka={};function Sa(e){if(wa[e])return wa[e];if(!Na[e])return e;var t,n=Na[e];for(t in n)if(n.hasOwnProperty(t)&&t in ka)return wa[e]=n[t];return e}d&&(ka=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);var Ca=Sa("animationend"),_a=Sa("animationiteration"),Ea=Sa("animationstart"),Pa=Sa("transitionend"),Ta=new Map,Da="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ra(e,t){Ta.set(e,t),o(t,[e])}for(var Oa=0;Oa<Da.length;Oa++){var Fa=Da[Oa];Ra(Fa.toLowerCase(),"on"+(Fa[0].toUpperCase()+Fa.slice(1)))}Ra(Ca,"onAnimationEnd"),Ra(_a,"onAnimationIteration"),Ra(Ea,"onAnimationStart"),Ra("dblclick","onDoubleClick"),Ra("focusin","onFocus"),Ra("focusout","onBlur"),Ra(Pa,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Aa=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function La(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,s,r,i,o,c){if(Be.apply(this,arguments),Ae){if(!Ae)throw Error(l(198));var d=Le;Ae=!1,Le=null,Me||(Me=!0,ze=d)}}(a,t,void 0,e),e.currentTarget=null}function Ma(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var l=void 0;if(t)for(var r=a.length-1;0<=r;r--){var i=a[r],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==l&&s.isPropagationStopped())break e;La(s,i,c),l=o}else for(r=0;r<a.length;r++){if(o=(i=a[r]).instance,c=i.currentTarget,i=i.listener,o!==l&&s.isPropagationStopped())break e;La(s,i,c),l=o}}}if(Me)throw e=ze,Me=!1,ze=null,e}function za(e,t){var n=t[fs];void 0===n&&(n=t[fs]=new Set);var a=e+"__bubble";n.has(a)||(qa(t,e,2,!1),n.add(a))}function Ua(e,t,n){var a=0;t&&(a|=4),qa(n,e,a,t)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function Wa(e){if(!e[Ba]){e[Ba]=!0,r.forEach((function(t){"selectionchange"!==t&&(Aa.has(t)||Ua(t,!1,e),Ua(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ba]||(t[Ba]=!0,Ua("selectionchange",!1,t))}}function qa(e,t,n,a){switch(Jt(t)){case 1:var s=Vt;break;case 4:s=Gt;break;default:s=Yt}n=s.bind(null,t,n,e),s=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),a?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ha(e,t,n,a,s){var l=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var r=a.tag;if(3===r||4===r){var i=a.stateNode.containerInfo;if(i===s||8===i.nodeType&&i.parentNode===s)break;if(4===r)for(r=a.return;null!==r;){var o=r.tag;if((3===o||4===o)&&((o=r.stateNode.containerInfo)===s||8===o.nodeType&&o.parentNode===s))return;r=r.return}for(;null!==i;){if(null===(r=gs(i)))return;if(5===(o=r.tag)||6===o){a=l=r;continue e}i=i.parentNode}}a=a.return}De((function(){var a=l,s=ye(n),r=[];e:{var i=Ta.get(e);if(void 0!==i){var o=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=_n;break;case"focusin":c="focus",o=xn;break;case"focusout":c="blur",o=xn;break;case"beforeblur":case"afterblur":o=xn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Pn;break;case Ca:case _a:case Ea:o=vn;break;case Pa:o=Tn;break;case"scroll":o=mn;break;case"wheel":o=Rn;break;case"copy":case"cut":case"paste":o=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=En}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var h,p=a;null!==p;){var f=(h=p).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==m&&(null!=(f=Re(p,m))&&d.push(Va(p,f,h)))),u)break;p=p.return}0<d.length&&(i=new o(i,c,null,n,s),r.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===je||!(c=n.relatedTarget||n.fromElement)||!gs(c)&&!c[ps])&&(o||i)&&(i=s.window===s?s:(i=s.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=a,null!==(c=(c=n.relatedTarget||n.toElement)?gs(c):null)&&(c!==(u=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=a),o!==c)){if(d=pn,f="onMouseLeave",m="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,f="onPointerLeave",m="onPointerEnter",p="pointer"),u=null==o?i:js(o),h=null==c?i:js(c),(i=new d(f,p+"leave",o,n,s)).target=u,i.relatedTarget=h,f=null,gs(s)===a&&((d=new d(m,p+"enter",c,n,s)).target=h,d.relatedTarget=u,f=d),u=f,o&&c)e:{for(m=c,p=0,h=d=o;h;h=Ya(h))p++;for(h=0,f=m;f;f=Ya(f))h++;for(;0<p-h;)d=Ya(d),p--;for(;0<h-p;)m=Ya(m),h--;for(;p--;){if(d===m||null!==m&&d===m.alternate)break e;d=Ya(d),m=Ya(m)}d=null}else d=null;null!==o&&$a(r,i,o,d,!1),null!==c&&null!==u&&$a(r,u,c,d,!0)}if("select"===(o=(i=a?js(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var x=Jn;else if(Hn(i))if(Qn)x=ra;else{x=sa;var v=aa}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(x=la);switch(x&&(x=x(e,a))?Vn(r,x,n,s):(v&&v(e,i,a),"focusout"===e&&(v=i._wrapperState)&&v.controlled&&"number"===i.type&&ee(i,"number",i.value)),v=a?js(a):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(xa=v,va=a,ga=null);break;case"focusout":ga=va=xa=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,ja(r,n,s);break;case"selectionchange":if(fa)break;case"keydown":case"keyup":ja(r,n,s)}var g;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(g=en()):(Xt="value"in(Qt=s)?Qt.value:Qt.textContent,Wn=!0)),0<(v=Ga(a,b)).length&&(b=new jn(b,e,null,n,s),r.push({event:b,listeners:v}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=An?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,Mn);case"textInput":return(e=t.data)===Mn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&Un(e,t)?(e=en(),Zt=Xt=Qt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Ga(a,"onBeforeInput")).length&&(s=new jn("onBeforeInput","beforeinput",null,n,s),r.push({event:s,listeners:a}),s.data=g))}Ma(r,t)}))}function Va(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ga(e,t){for(var n=t+"Capture",a=[];null!==e;){var s=e,l=s.stateNode;5===s.tag&&null!==l&&(s=l,null!=(l=Re(e,n))&&a.unshift(Va(e,l,s)),null!=(l=Re(e,t))&&a.push(Va(e,l,s))),e=e.return}return a}function Ya(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $a(e,t,n,a,s){for(var l=t._reactName,r=[];null!==n&&n!==a;){var i=n,o=i.alternate,c=i.stateNode;if(null!==o&&o===a)break;5===i.tag&&null!==c&&(i=c,s?null!=(o=Re(n,l))&&r.unshift(Va(n,o,i)):s||null!=(o=Re(n,l))&&r.push(Va(n,o,i))),n=n.return}0!==r.length&&e.push({event:t,listeners:r})}var Ka=/\r\n?/g,Ja=/\u0000|\uFFFD/g;function Qa(e){return("string"===typeof e?e:""+e).replace(Ka,"\n").replace(Ja,"")}function Xa(e,t,n){if(t=Qa(t),Qa(e)!==t&&n)throw Error(l(425))}function Za(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var as="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,ls="function"===typeof Promise?Promise:void 0,rs="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ls?function(e){return ls.resolve(null).then(e).catch(is)}:as;function is(e){setTimeout((function(){throw e}))}function os(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===a)return e.removeChild(s),void Wt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=s}while(n);Wt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),ms="__reactFiber$"+us,hs="__reactProps$"+us,ps="__reactContainer$"+us,fs="__reactEvents$"+us,xs="__reactListeners$"+us,vs="__reactHandles$"+us;function gs(e){var t=e[ms];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[ms]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[ms])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[ms]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function js(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(l(33))}function ys(e){return e[hs]||null}var Ns=[],ws=-1;function ks(e){return{current:e}}function Ss(e){0>ws||(e.current=Ns[ws],Ns[ws]=null,ws--)}function Cs(e,t){ws++,Ns[ws]=e.current,e.current=t}var _s={},Es=ks(_s),Ps=ks(!1),Ts=_s;function Ds(e,t){var n=e.type.contextTypes;if(!n)return _s;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s,l={};for(s in n)l[s]=t[s];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Rs(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Os(){Ss(Ps),Ss(Es)}function Fs(e,t,n){if(Es.current!==_s)throw Error(l(168));Cs(Es,t),Cs(Ps,n)}function Is(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var s in a=a.getChildContext())if(!(s in t))throw Error(l(108,q(e)||"Unknown",s));return L({},n,a)}function As(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_s,Ts=Es.current,Cs(Es,e),Cs(Ps,Ps.current),!0}function Ls(e,t,n){var a=e.stateNode;if(!a)throw Error(l(169));n?(e=Is(e,t,Ts),a.__reactInternalMemoizedMergedChildContext=e,Ss(Ps),Ss(Es),Cs(Es,e)):Ss(Ps),Cs(Ps,n)}var Ms=null,zs=!1,Us=!1;function Bs(e){null===Ms?Ms=[e]:Ms.push(e)}function Ws(){if(!Us&&null!==Ms){Us=!0;var e=0,t=bt;try{var n=Ms;for(bt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Ms=null,zs=!1}catch(s){throw null!==Ms&&(Ms=Ms.slice(e+1)),Ye(Ze,Ws),s}finally{bt=t,Us=!1}}return null}var qs=[],Hs=0,Vs=null,Gs=0,Ys=[],$s=0,Ks=null,Js=1,Qs="";function Xs(e,t){qs[Hs++]=Gs,qs[Hs++]=Vs,Vs=e,Gs=t}function Zs(e,t,n){Ys[$s++]=Js,Ys[$s++]=Qs,Ys[$s++]=Ks,Ks=e;var a=Js;e=Qs;var s=32-rt(a)-1;a&=~(1<<s),n+=1;var l=32-rt(t)+s;if(30<l){var r=s-s%5;l=(a&(1<<r)-1).toString(32),a>>=r,s-=r,Js=1<<32-rt(t)+s|n<<s|a,Qs=l+e}else Js=1<<l|n<<s|a,Qs=e}function el(e){null!==e.return&&(Xs(e,1),Zs(e,1,0))}function tl(e){for(;e===Vs;)Vs=qs[--Hs],qs[Hs]=null,Gs=qs[--Hs],qs[Hs]=null;for(;e===Ks;)Ks=Ys[--$s],Ys[$s]=null,Qs=Ys[--$s],Ys[$s]=null,Js=Ys[--$s],Ys[$s]=null}var nl=null,al=null,sl=!1,ll=null;function rl(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function il(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,nl=e,al=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,nl=e,al=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ks?{id:Js,overflow:Qs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,nl=e,al=null,!0);default:return!1}}function ol(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cl(e){if(sl){var t=al;if(t){var n=t;if(!il(e,t)){if(ol(e))throw Error(l(418));t=cs(n.nextSibling);var a=nl;t&&il(e,t)?rl(a,n):(e.flags=-4097&e.flags|2,sl=!1,nl=e)}}else{if(ol(e))throw Error(l(418));e.flags=-4097&e.flags|2,sl=!1,nl=e}}}function dl(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;nl=e}function ul(e){if(e!==nl)return!1;if(!sl)return dl(e),sl=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=al)){if(ol(e))throw ml(),Error(l(418));for(;t;)rl(e,t),t=cs(t.nextSibling)}if(dl(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){al=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}al=null}}else al=nl?cs(e.stateNode.nextSibling):null;return!0}function ml(){for(var e=al;e;)e=cs(e.nextSibling)}function hl(){al=nl=null,sl=!1}function pl(e){null===ll?ll=[e]:ll.push(e)}var fl=j.ReactCurrentBatchConfig;function xl(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(l(309));var a=n.stateNode}if(!a)throw Error(l(147,e));var s=a,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=s.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(l(284));if(!n._owner)throw Error(l(290,e))}return e}function vl(e,t){throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gl(e){return(0,e._init)(e._payload)}function bl(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function r(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=Lc(n,e.mode,a)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,a){var l=n.type;return l===w?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&gl(l)===t.type)?((a=s(t,n.props)).ref=xl(e,t,n),a.return=e,a):((a=Fc(n.type,n.key,n.props,null,e.mode,a)).ref=xl(e,t,n),a.return=e,a)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,a)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,a,l){return null===t||7!==t.tag?((t=Ic(n,e.mode,a,l)).return=e,t):((t=s(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case y:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=xl(e,null,t),n.return=e,n;case N:return(t=Mc(t,e.mode,n)).return=e,t;case R:return m(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;vl(e,t)}return null}function h(e,t,n,a){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:o(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===s?c(e,t,n,a):null;case N:return n.key===s?d(e,t,n,a):null;case R:return h(e,t,(s=n._init)(n._payload),a)}if(te(n)||I(n))return null!==s?null:u(e,t,n,a,null);vl(e,n)}return null}function p(e,t,n,a,s){if("string"===typeof a&&""!==a||"number"===typeof a)return o(t,e=e.get(n)||null,""+a,s);if("object"===typeof a&&null!==a){switch(a.$$typeof){case y:return c(t,e=e.get(null===a.key?n:a.key)||null,a,s);case N:return d(t,e=e.get(null===a.key?n:a.key)||null,a,s);case R:return p(e,t,n,(0,a._init)(a._payload),s)}if(te(a)||I(a))return u(t,e=e.get(n)||null,a,s,null);vl(t,a)}return null}function f(s,l,i,o){for(var c=null,d=null,u=l,f=l=0,x=null;null!==u&&f<i.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var v=h(s,u,i[f],o);if(null===v){null===u&&(u=x);break}e&&u&&null===v.alternate&&t(s,u),l=r(v,l,f),null===d?c=v:d.sibling=v,d=v,u=x}if(f===i.length)return n(s,u),sl&&Xs(s,f),c;if(null===u){for(;f<i.length;f++)null!==(u=m(s,i[f],o))&&(l=r(u,l,f),null===d?c=u:d.sibling=u,d=u);return sl&&Xs(s,f),c}for(u=a(s,u);f<i.length;f++)null!==(x=p(u,s,f,i[f],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),l=r(x,l,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach((function(e){return t(s,e)})),sl&&Xs(s,f),c}function x(s,i,o,c){var d=I(o);if("function"!==typeof d)throw Error(l(150));if(null==(o=d.call(o)))throw Error(l(151));for(var u=d=null,f=i,x=i=0,v=null,g=o.next();null!==f&&!g.done;x++,g=o.next()){f.index>x?(v=f,f=null):v=f.sibling;var b=h(s,f,g.value,c);if(null===b){null===f&&(f=v);break}e&&f&&null===b.alternate&&t(s,f),i=r(b,i,x),null===u?d=b:u.sibling=b,u=b,f=v}if(g.done)return n(s,f),sl&&Xs(s,x),d;if(null===f){for(;!g.done;x++,g=o.next())null!==(g=m(s,g.value,c))&&(i=r(g,i,x),null===u?d=g:u.sibling=g,u=g);return sl&&Xs(s,x),d}for(f=a(s,f);!g.done;x++,g=o.next())null!==(g=p(f,s,x,g.value,c))&&(e&&null!==g.alternate&&f.delete(null===g.key?x:g.key),i=r(g,i,x),null===u?d=g:u.sibling=g,u=g);return e&&f.forEach((function(e){return t(s,e)})),sl&&Xs(s,x),d}return function e(a,l,r,o){if("object"===typeof r&&null!==r&&r.type===w&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case y:e:{for(var c=r.key,d=l;null!==d;){if(d.key===c){if((c=r.type)===w){if(7===d.tag){n(a,d.sibling),(l=s(d,r.props.children)).return=a,a=l;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&gl(c)===d.type){n(a,d.sibling),(l=s(d,r.props)).ref=xl(a,d,r),l.return=a,a=l;break e}n(a,d);break}t(a,d),d=d.sibling}r.type===w?((l=Ic(r.props.children,a.mode,o,r.key)).return=a,a=l):((o=Fc(r.type,r.key,r.props,null,a.mode,o)).ref=xl(a,l,r),o.return=a,a=o)}return i(a);case N:e:{for(d=r.key;null!==l;){if(l.key===d){if(4===l.tag&&l.stateNode.containerInfo===r.containerInfo&&l.stateNode.implementation===r.implementation){n(a,l.sibling),(l=s(l,r.children||[])).return=a,a=l;break e}n(a,l);break}t(a,l),l=l.sibling}(l=Mc(r,a.mode,o)).return=a,a=l}return i(a);case R:return e(a,l,(d=r._init)(r._payload),o)}if(te(r))return f(a,l,r,o);if(I(r))return x(a,l,r,o);vl(a,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==l&&6===l.tag?(n(a,l.sibling),(l=s(l,r)).return=a,a=l):(n(a,l),(l=Lc(r,a.mode,o)).return=a,a=l),i(a)):n(a,l)}}var jl=bl(!0),yl=bl(!1),Nl=ks(null),wl=null,kl=null,Sl=null;function Cl(){Sl=kl=wl=null}function _l(e){var t=Nl.current;Ss(Nl),e._currentValue=t}function El(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Pl(e,t){wl=e,Sl=kl=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(gi=!0),e.firstContext=null)}function Tl(e){var t=e._currentValue;if(Sl!==e)if(e={context:e,memoizedValue:t,next:null},null===kl){if(null===wl)throw Error(l(308));kl=e,wl.dependencies={lanes:0,firstContext:e}}else kl=kl.next=e;return t}var Dl=null;function Rl(e){null===Dl?Dl=[e]:Dl.push(e)}function Ol(e,t,n,a){var s=t.interleaved;return null===s?(n.next=n,Rl(t)):(n.next=s.next,s.next=n),t.interleaved=n,Fl(e,a)}function Fl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Il=!1;function Al(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ll(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ml(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zl(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Eo)){var s=a.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),a.pending=t,Fl(e,n)}return null===(s=a.interleaved)?(t.next=t,Rl(a)):(t.next=s.next,s.next=t),a.interleaved=t,Fl(e,n)}function Ul(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Bl(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var s=null,l=null;if(null!==(n=n.firstBaseUpdate)){do{var r={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===l?s=l=r:l=l.next=r,n=n.next}while(null!==n);null===l?s=l=t:l=l.next=t}else s=l=t;return n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wl(e,t,n,a){var s=e.updateQueue;Il=!1;var l=s.firstBaseUpdate,r=s.lastBaseUpdate,i=s.shared.pending;if(null!==i){s.shared.pending=null;var o=i,c=o.next;o.next=null,null===r?l=c:r.next=c,r=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==r&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==l){var u=s.baseState;for(r=0,d=c=o=null,i=l;;){var m=i.lane,h=i.eventTime;if((a&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,f=i;switch(m=t,h=n,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(h,u,m);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(m="function"===typeof(p=f.payload)?p.call(h,u,m):p)||void 0===m)break e;u=L({},u,m);break e;case 2:Il=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=s.effects)?s.effects=[i]:m.push(i))}else h={eventTime:h,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,r|=m;if(null===(i=i.next)){if(null===(i=s.shared.pending))break;i=(m=i).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}if(null===d&&(o=u),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{r|=s.lane,s=s.next}while(s!==t)}else null===l&&(s.shared.lanes=0);Ao|=r,e.lanes=r,e.memoizedState=u}}function ql(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(null!==s){if(a.callback=null,a=n,"function"!==typeof s)throw Error(l(191,s));s.call(a)}}}var Hl={},Vl=ks(Hl),Gl=ks(Hl),Yl=ks(Hl);function $l(e){if(e===Hl)throw Error(l(174));return e}function Kl(e,t){switch(Cs(Yl,t),Cs(Gl,e),Cs(Vl,Hl),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Vl),Cs(Vl,t)}function Jl(){Ss(Vl),Ss(Gl),Ss(Yl)}function Ql(e){$l(Yl.current);var t=$l(Vl.current),n=oe(t,e.type);t!==n&&(Cs(Gl,e),Cs(Vl,n))}function Xl(e){Gl.current===e&&(Ss(Vl),Ss(Gl))}var Zl=ks(0);function er(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tr=[];function nr(){for(var e=0;e<tr.length;e++)tr[e]._workInProgressVersionPrimary=null;tr.length=0}var ar=j.ReactCurrentDispatcher,sr=j.ReactCurrentBatchConfig,lr=0,rr=null,ir=null,or=null,cr=!1,dr=!1,ur=0,mr=0;function hr(){throw Error(l(321))}function pr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ia(e[n],t[n]))return!1;return!0}function fr(e,t,n,a,s,r){if(lr=r,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ar.current=null===e||null===e.memoizedState?Xr:Zr,e=n(a,s),dr){r=0;do{if(dr=!1,ur=0,25<=r)throw Error(l(301));r+=1,or=ir=null,t.updateQueue=null,ar.current=ei,e=n(a,s)}while(dr)}if(ar.current=Qr,t=null!==ir&&null!==ir.next,lr=0,or=ir=rr=null,cr=!1,t)throw Error(l(300));return e}function xr(){var e=0!==ur;return ur=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===or?rr.memoizedState=or=e:or=or.next=e,or}function gr(){if(null===ir){var e=rr.alternate;e=null!==e?e.memoizedState:null}else e=ir.next;var t=null===or?rr.memoizedState:or.next;if(null!==t)or=t,ir=e;else{if(null===e)throw Error(l(310));e={memoizedState:(ir=e).memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},null===or?rr.memoizedState=or=e:or=or.next=e}return or}function br(e,t){return"function"===typeof t?t(e):t}function jr(e){var t=gr(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var a=ir,s=a.baseQueue,r=n.pending;if(null!==r){if(null!==s){var i=s.next;s.next=r.next,r.next=i}a.baseQueue=s=r,n.pending=null}if(null!==s){r=s.next,a=a.baseState;var o=i=null,c=null,d=r;do{var u=d.lane;if((lr&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=a):c=c.next=m,rr.lanes|=u,Ao|=u}d=d.next}while(null!==d&&d!==r);null===c?i=a:c.next=o,ia(a,t.memoizedState)||(gi=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){s=e;do{r=s.lane,rr.lanes|=r,Ao|=r,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yr(e){var t=gr(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,r=t.memoizedState;if(null!==s){n.pending=null;var i=s=s.next;do{r=e(r,i.action),i=i.next}while(i!==s);ia(r,t.memoizedState)||(gi=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,a]}function Nr(){}function wr(e,t){var n=rr,a=gr(),s=t(),r=!ia(a.memoizedState,s);if(r&&(a.memoizedState=s,gi=!0),a=a.queue,Ir(Cr.bind(null,n,a,e),[e]),a.getSnapshot!==t||r||null!==or&&1&or.memoizedState.tag){if(n.flags|=2048,Tr(9,Sr.bind(null,n,a,s,t),void 0,null),null===Po)throw Error(l(349));0!==(30&lr)||kr(n,t,s)}return s}function kr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sr(e,t,n,a){t.value=n,t.getSnapshot=a,_r(t)&&Er(e)}function Cr(e,t,n){return n((function(){_r(t)&&Er(e)}))}function _r(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ia(e,n)}catch(a){return!0}}function Er(e){var t=Fl(e,1);null!==t&&nc(t,e,1,-1)}function Pr(e){var t=vr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:e},t.queue=e,e=e.dispatch=Yr.bind(null,rr,e),[t.memoizedState,e]}function Tr(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Dr(){return gr().memoizedState}function Rr(e,t,n,a){var s=vr();rr.flags|=e,s.memoizedState=Tr(1|t,n,void 0,void 0===a?null:a)}function Or(e,t,n,a){var s=gr();a=void 0===a?null:a;var l=void 0;if(null!==ir){var r=ir.memoizedState;if(l=r.destroy,null!==a&&pr(a,r.deps))return void(s.memoizedState=Tr(t,n,l,a))}rr.flags|=e,s.memoizedState=Tr(1|t,n,l,a)}function Fr(e,t){return Rr(8390656,8,e,t)}function Ir(e,t){return Or(2048,8,e,t)}function Ar(e,t){return Or(4,2,e,t)}function Lr(e,t){return Or(4,4,e,t)}function Mr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zr(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Or(4,4,Mr.bind(null,t,e),n)}function Ur(){}function Br(e,t){var n=gr();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&pr(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Wr(e,t){var n=gr();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&pr(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function qr(e,t,n){return 0===(21&lr)?(e.baseState&&(e.baseState=!1,gi=!0),e.memoizedState=n):(ia(n,t)||(n=ft(),rr.lanes|=n,Ao|=n,e.baseState=!0),t)}function Hr(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var a=sr.transition;sr.transition={};try{e(!1),t()}finally{bt=n,sr.transition=a}}function Vr(){return gr().memoizedState}function Gr(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},$r(e))Kr(t,n);else if(null!==(n=Ol(e,t,n,a))){nc(n,e,a,ec()),Jr(n,t,a)}}function Yr(e,t,n){var a=tc(e),s={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if($r(e))Kr(t,s);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var r=t.lastRenderedState,i=l(r,n);if(s.hasEagerState=!0,s.eagerState=i,ia(i,r)){var o=t.interleaved;return null===o?(s.next=s,Rl(t)):(s.next=o.next,o.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Ol(e,t,s,a))&&(nc(n,e,a,s=ec()),Jr(n,t,a))}}function $r(e){var t=e.alternate;return e===rr||null!==t&&t===rr}function Kr(e,t){dr=cr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jr(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Qr={readContext:Tl,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},Xr={readContext:Tl,useCallback:function(e,t){return vr().memoizedState=[e,void 0===t?null:t],e},useContext:Tl,useEffect:Fr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rr(4194308,4,Mr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rr(4,2,e,t)},useMemo:function(e,t){var n=vr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=vr();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Gr.bind(null,rr,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},vr().memoizedState=e},useState:Pr,useDebugValue:Ur,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=Pr(!1),t=e[0];return e=Hr.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=rr,s=vr();if(sl){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===Po)throw Error(l(349));0!==(30&lr)||kr(a,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,Fr(Cr.bind(null,a,r,e),[e]),a.flags|=2048,Tr(9,Sr.bind(null,a,r,n,t),void 0,null),n},useId:function(){var e=vr(),t=Po.identifierPrefix;if(sl){var n=Qs;t=":"+t+"R"+(n=(Js&~(1<<32-rt(Js)-1)).toString(32)+n),0<(n=ur++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zr={readContext:Tl,useCallback:Br,useContext:Tl,useEffect:Ir,useImperativeHandle:zr,useInsertionEffect:Ar,useLayoutEffect:Lr,useMemo:Wr,useReducer:jr,useRef:Dr,useState:function(){return jr(br)},useDebugValue:Ur,useDeferredValue:function(e){return qr(gr(),ir.memoizedState,e)},useTransition:function(){return[jr(br)[0],gr().memoizedState]},useMutableSource:Nr,useSyncExternalStore:wr,useId:Vr,unstable_isNewReconciler:!1},ei={readContext:Tl,useCallback:Br,useContext:Tl,useEffect:Ir,useImperativeHandle:zr,useInsertionEffect:Ar,useLayoutEffect:Lr,useMemo:Wr,useReducer:yr,useRef:Dr,useState:function(){return yr(br)},useDebugValue:Ur,useDeferredValue:function(e){var t=gr();return null===ir?t.memoizedState=e:qr(t,ir.memoizedState,e)},useTransition:function(){return[yr(br)[0],gr().memoizedState]},useMutableSource:Nr,useSyncExternalStore:wr,useId:Vr,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ni(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),s=tc(e),l=Ml(a,s);l.payload=t,void 0!==n&&null!==n&&(l.callback=n),null!==(t=zl(e,l,s))&&(nc(t,e,s,a),Ul(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),s=tc(e),l=Ml(a,s);l.tag=1,l.payload=t,void 0!==n&&null!==n&&(l.callback=n),null!==(t=zl(e,l,s))&&(nc(t,e,s,a),Ul(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),s=Ml(n,a);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=zl(e,s,a))&&(nc(t,e,a,n),Ul(t,e,a))}};function si(e,t,n,a,s,l,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,l,r):!t.prototype||!t.prototype.isPureReactComponent||(!oa(n,a)||!oa(s,l))}function li(e,t,n){var a=!1,s=_s,l=t.contextType;return"object"===typeof l&&null!==l?l=Tl(l):(s=Rs(t)?Ts:Es.current,l=(a=null!==(a=t.contextTypes)&&void 0!==a)?Ds(e,s):_s),t=new t(n,l),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function ri(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function ii(e,t,n,a){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Al(e);var l=t.contextType;"object"===typeof l&&null!==l?s.context=Tl(l):(l=Rs(t)?Ts:Es.current,s.context=Ds(e,l)),s.state=e.memoizedState,"function"===typeof(l=t.getDerivedStateFromProps)&&(ni(e,t,l,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ai.enqueueReplaceState(s,s.state,null),Wl(e,n,s,a),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function oi(e,t){try{var n="",a=t;do{n+=B(a),a=a.return}while(a);var s=n}catch(l){s="\nError generating stack: "+l.message+"\n"+l.stack}return{value:e,source:t,stack:s,digest:null}}function ci(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ui="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,n){(n=Ml(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Ho||(Ho=!0,Vo=a),di(0,t)},n}function hi(e,t,n){(n=Ml(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var s=t.value;n.payload=function(){return a(s)},n.callback=function(){di(0,t)}}var l=e.stateNode;return null!==l&&"function"===typeof l.componentDidCatch&&(n.callback=function(){di(0,t),"function"!==typeof a&&(null===Go?Go=new Set([this]):Go.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pi(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new ui;var s=new Set;a.set(t,s)}else void 0===(s=a.get(t))&&(s=new Set,a.set(t,s));s.has(n)||(s.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function fi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xi(e,t,n,a,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ml(-1,1)).tag=2,zl(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var vi=j.ReactCurrentOwner,gi=!1;function bi(e,t,n,a){t.child=null===e?yl(t,null,n,a):jl(t,e.child,n,a)}function ji(e,t,n,a,s){n=n.render;var l=t.ref;return Pl(t,s),a=fr(e,t,n,a,l,s),n=xr(),null===e||gi?(sl&&n&&el(t),t.flags|=1,bi(e,t,a,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qi(e,t,s))}function yi(e,t,n,a,s){if(null===e){var l=n.type;return"function"!==typeof l||Rc(l)||void 0!==l.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,a,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,Ni(e,t,l,a,s))}if(l=e.child,0===(e.lanes&s)){var r=l.memoizedProps;if((n=null!==(n=n.compare)?n:oa)(r,a)&&e.ref===t.ref)return qi(e,t,s)}return t.flags|=1,(e=Oc(l,a)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,n,a,s){if(null!==e){var l=e.memoizedProps;if(oa(l,a)&&e.ref===t.ref){if(gi=!1,t.pendingProps=a=l,0===(e.lanes&s))return t.lanes=e.lanes,qi(e,t,s);0!==(131072&e.flags)&&(gi=!0)}}return Si(e,t,n,a,s)}function wi(e,t,n){var a=t.pendingProps,s=a.children,l=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Oo,Ro),Ro|=n;else{if(0===(1073741824&n))return e=null!==l?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Oo,Ro),Ro|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==l?l.baseLanes:n,Cs(Oo,Ro),Ro|=a}else null!==l?(a=l.baseLanes|n,t.memoizedState=null):a=n,Cs(Oo,Ro),Ro|=a;return bi(e,t,s,n),t.child}function ki(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Si(e,t,n,a,s){var l=Rs(n)?Ts:Es.current;return l=Ds(t,l),Pl(t,s),n=fr(e,t,n,a,l,s),a=xr(),null===e||gi?(sl&&a&&el(t),t.flags|=1,bi(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qi(e,t,s))}function Ci(e,t,n,a,s){if(Rs(n)){var l=!0;As(t)}else l=!1;if(Pl(t,s),null===t.stateNode)Wi(e,t),li(t,n,a),ii(t,n,a,s),a=!0;else if(null===e){var r=t.stateNode,i=t.memoizedProps;r.props=i;var o=r.context,c=n.contextType;"object"===typeof c&&null!==c?c=Tl(c):c=Ds(t,c=Rs(n)?Ts:Es.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate;u||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(i!==a||o!==c)&&ri(t,r,a,c),Il=!1;var m=t.memoizedState;r.state=m,Wl(t,a,r,s),o=t.memoizedState,i!==a||m!==o||Ps.current||Il?("function"===typeof d&&(ni(t,n,d,a),o=t.memoizedState),(i=Il||si(t,n,i,a,m,o,c))?(u||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),r.props=a,r.state=o,r.context=c,a=i):("function"===typeof r.componentDidMount&&(t.flags|=4194308),a=!1)}else{r=t.stateNode,Ll(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ti(t.type,i),r.props=c,u=t.pendingProps,m=r.context,"object"===typeof(o=n.contextType)&&null!==o?o=Tl(o):o=Ds(t,o=Rs(n)?Ts:Es.current);var h=n.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(i!==u||m!==o)&&ri(t,r,a,o),Il=!1,m=t.memoizedState,r.state=m,Wl(t,a,r,s);var p=t.memoizedState;i!==u||m!==p||Ps.current||Il?("function"===typeof h&&(ni(t,n,h,a),p=t.memoizedState),(c=Il||si(t,n,c,a,m,p,o)||!1)?(d||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(a,p,o),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(a,p,o)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),r.props=a,r.state=p,r.context=o,a=c):("function"!==typeof r.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return _i(e,t,n,a,l,s)}function _i(e,t,n,a,s,l){ki(e,t);var r=0!==(128&t.flags);if(!a&&!r)return s&&Ls(t,n,!1),qi(e,t,l);a=t.stateNode,vi.current=t;var i=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&r?(t.child=jl(t,e.child,null,l),t.child=jl(t,null,i,l)):bi(e,t,i,l),t.memoizedState=a.state,s&&Ls(t,n,!0),t.child}function Ei(e){var t=e.stateNode;t.pendingContext?Fs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fs(0,t.context,!1),Kl(e,t.containerInfo)}function Pi(e,t,n,a,s){return hl(),pl(s),t.flags|=256,bi(e,t,n,a),t.child}var Ti,Di,Ri,Oi,Fi={dehydrated:null,treeContext:null,retryLane:0};function Ii(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ai(e,t,n){var a,s=t.pendingProps,r=Zl.current,i=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&r)),a?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),Cs(Zl,1&r),null===e)return cl(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&s)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Ac(o,s,0,null),e=Ic(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ii(n),t.memoizedState=Fi,e):Li(t,o));if(null!==(r=e.memoizedState)&&null!==(a=r.dehydrated))return function(e,t,n,a,s,r,i){if(n)return 256&t.flags?(t.flags&=-257,Mi(e,t,i,a=ci(Error(l(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=a.fallback,s=t.mode,a=Ac({mode:"visible",children:a.children},s,0,null),(r=Ic(r,s,i,null)).flags|=2,a.return=t,r.return=t,a.sibling=r,t.child=a,0!==(1&t.mode)&&jl(t,e.child,null,i),t.child.memoizedState=Ii(i),t.memoizedState=Fi,r);if(0===(1&t.mode))return Mi(e,t,i,null);if("$!"===s.data){if(a=s.nextSibling&&s.nextSibling.dataset)var o=a.dgst;return a=o,Mi(e,t,i,a=ci(r=Error(l(419)),a,void 0))}if(o=0!==(i&e.childLanes),gi||o){if(null!==(a=Po)){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(a.suspendedLanes|i))?0:s)&&s!==r.retryLane&&(r.retryLane=s,Fl(e,s),nc(a,e,s,-1))}return fc(),Mi(e,t,i,a=ci(Error(l(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),s._reactRetry=t,null):(e=r.treeContext,al=cs(s.nextSibling),nl=t,sl=!0,ll=null,null!==e&&(Ys[$s++]=Js,Ys[$s++]=Qs,Ys[$s++]=Ks,Js=e.id,Qs=e.overflow,Ks=t),t=Li(t,a.children),t.flags|=4096,t)}(e,t,o,s,a,r,n);if(i){i=s.fallback,o=t.mode,a=(r=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&o)&&t.child!==r?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Oc(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==a?i=Oc(a,i):(i=Ic(i,o,n,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=null===(o=e.child.memoizedState)?Ii(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Fi,s}return e=(i=e.child).sibling,s=Oc(i,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Li(e,t){return(t=Ac({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mi(e,t,n,a){return null!==a&&pl(a),jl(t,e.child,null,n),(e=Li(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zi(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),El(e.return,t,n)}function Ui(e,t,n,a,s){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=n,l.tailMode=s)}function Bi(e,t,n){var a=t.pendingProps,s=a.revealOrder,l=a.tail;if(bi(e,t,a.children,n),0!==(2&(a=Zl.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zi(e,n,t);else if(19===e.tag)zi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Cs(Zl,a),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===er(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ui(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===er(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ui(t,!0,n,null,l);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ao|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hi(e,t){if(!sl)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Vi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,a|=14680064&s.subtreeFlags,a|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Gi(e,t,n){var a=t.pendingProps;switch(tl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vi(t),null;case 1:case 17:return Rs(t.type)&&Os(),Vi(t),null;case 3:return a=t.stateNode,Jl(),Ss(Ps),Ss(Es),nr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(ul(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ll&&(rc(ll),ll=null))),Di(e,t),Vi(t),null;case 5:Xl(t);var s=$l(Yl.current);if(n=t.type,null!==e&&null!=t.stateNode)Ri(e,t,n,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(l(166));return Vi(t),null}if(e=$l(Vl.current),ul(t)){a=t.stateNode,n=t.type;var r=t.memoizedProps;switch(a[ms]=t,a[hs]=r,e=0!==(1&t.mode),n){case"dialog":za("cancel",a),za("close",a);break;case"iframe":case"object":case"embed":za("load",a);break;case"video":case"audio":for(s=0;s<Ia.length;s++)za(Ia[s],a);break;case"source":za("error",a);break;case"img":case"image":case"link":za("error",a),za("load",a);break;case"details":za("toggle",a);break;case"input":J(a,r),za("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!r.multiple},za("invalid",a);break;case"textarea":se(a,r),za("invalid",a)}for(var o in ge(n,r),s=null,r)if(r.hasOwnProperty(o)){var c=r[o];"children"===o?"string"===typeof c?a.textContent!==c&&(!0!==r.suppressHydrationWarning&&Xa(a.textContent,c,e),s=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&Xa(a.textContent,c,e),s=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&za("scroll",a)}switch(n){case"input":G(a),Z(a,r,!0);break;case"textarea":G(a),re(a);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(a.onclick=Za)}a=s,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),"select"===n&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[ms]=t,e[hs]=a,Ti(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(n,a),n){case"dialog":za("cancel",e),za("close",e),s=a;break;case"iframe":case"object":case"embed":za("load",e),s=a;break;case"video":case"audio":for(s=0;s<Ia.length;s++)za(Ia[s],e);s=a;break;case"source":za("error",e),s=a;break;case"img":case"image":case"link":za("error",e),za("load",e),s=a;break;case"details":za("toggle",e),s=a;break;case"input":J(e,a),s=K(e,a),za("invalid",e);break;case"option":default:s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=L({},a,{value:void 0}),za("invalid",e);break;case"textarea":se(e,a),s=ae(e,a),za("invalid",e)}for(r in ge(n,s),c=s)if(c.hasOwnProperty(r)){var d=c[r];"style"===r?xe(e,d):"dangerouslySetInnerHTML"===r?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===r?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(i.hasOwnProperty(r)?null!=d&&"onScroll"===r&&za("scroll",e):null!=d&&b(e,r,d,o))}switch(n){case"input":G(e),Z(e,a,!1);break;case"textarea":G(e),re(e);break;case"option":null!=a.value&&e.setAttribute("value",""+H(a.value));break;case"select":e.multiple=!!a.multiple,null!=(r=a.value)?ne(e,!!a.multiple,r,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vi(t),null;case 6:if(e&&null!=t.stateNode)Oi(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(l(166));if(n=$l(Yl.current),$l(Vl.current),ul(t)){if(a=t.stateNode,n=t.memoizedProps,a[ms]=t,(r=a.nodeValue!==n)&&null!==(e=nl))switch(e.tag){case 3:Xa(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xa(a.nodeValue,n,0!==(1&e.mode))}r&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[ms]=t,t.stateNode=a}return Vi(t),null;case 13:if(Ss(Zl),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sl&&null!==al&&0!==(1&t.mode)&&0===(128&t.flags))ml(),hl(),t.flags|=98560,r=!1;else if(r=ul(t),null!==a&&null!==a.dehydrated){if(null===e){if(!r)throw Error(l(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(l(317));r[ms]=t}else hl(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vi(t),r=!1}else null!==ll&&(rc(ll),ll=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zl.current)?0===Fo&&(Fo=3):fc())),null!==t.updateQueue&&(t.flags|=4),Vi(t),null);case 4:return Jl(),Di(e,t),null===e&&Wa(t.stateNode.containerInfo),Vi(t),null;case 10:return _l(t.type._context),Vi(t),null;case 19:if(Ss(Zl),null===(r=t.memoizedState))return Vi(t),null;if(a=0!==(128&t.flags),null===(o=r.rendering))if(a)Hi(r,!1);else{if(0!==Fo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=er(e))){for(t.flags|=128,Hi(r,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(r=n).flags&=14680066,null===(o=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,e=o.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cs(Zl,1&Zl.current|2),t.child}e=e.sibling}null!==r.tail&&Qe()>Wo&&(t.flags|=128,a=!0,Hi(r,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=er(o))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hi(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!sl)return Vi(t),null}else 2*Qe()-r.renderingStartTime>Wo&&1073741824!==n&&(t.flags|=128,a=!0,Hi(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=r.last)?n.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Qe(),t.sibling=null,n=Zl.current,Cs(Zl,a?1&n|2:1&n),t):(Vi(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Ro)&&(Vi(t),6&t.subtreeFlags&&(t.flags|=8192)):Vi(t),null;case 24:case 25:return null}throw Error(l(156,t.tag))}function Yi(e,t){switch(tl(t),t.tag){case 1:return Rs(t.type)&&Os(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jl(),Ss(Ps),Ss(Es),nr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xl(t),null;case 13:if(Ss(Zl),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));hl()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(Zl),null;case 4:return Jl(),null;case 10:return _l(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ti=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Di=function(){},Ri=function(e,t,n,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,$l(Vl.current);var l,r=null;switch(n){case"input":s=K(e,s),a=K(e,a),r=[];break;case"select":s=L({},s,{value:void 0}),a=L({},a,{value:void 0}),r=[];break;case"textarea":s=ae(e,s),a=ae(e,a),r=[];break;default:"function"!==typeof s.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(d in ge(n,a),n=null,s)if(!a.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var o=s[d];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in a){var c=a[d];if(o=null!=s?s[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(r||(r=[]),r.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(r=r||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&za("scroll",e),r||o===c||(r=[])):(r=r||[]).push(d,c))}n&&(r=r||[]).push("style",n);var d=r;(t.updateQueue=d)&&(t.flags|=4)}},Oi=function(e,t,n,a){n!==a&&(t.flags|=4)};var $i=!1,Ki=!1,Ji="function"===typeof WeakSet?WeakSet:Set,Qi=null;function Xi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){kc(e,t,a)}else n.current=null}function Zi(e,t,n){try{n()}catch(a){kc(e,t,a)}}var eo=!1;function to(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var s=a=a.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,void 0!==l&&Zi(t,n,l)}s=s.next}while(s!==a)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function ao(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ms],delete t[hs],delete t[fs],delete t[xs],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lo(e){return 5===e.tag||3===e.tag||4===e.tag}function ro(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function io(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(io(e,t,n),e=e.sibling;null!==e;)io(e,t,n),e=e.sibling}function oo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function mo(e,t,n){for(n=n.child;null!==n;)ho(e,t,n),n=n.sibling}function ho(e,t,n){if(lt&&"function"===typeof lt.onCommitFiberUnmount)try{lt.onCommitFiberUnmount(st,n)}catch(i){}switch(n.tag){case 5:Ki||Xi(n,t);case 6:var a=co,s=uo;co=null,mo(e,t,n),uo=s,null!==(co=a)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?os(e.parentNode,n):1===e.nodeType&&os(e,n),Wt(e)):os(co,n.stateNode));break;case 4:a=co,s=uo,co=n.stateNode.containerInfo,uo=!0,mo(e,t,n),co=a,uo=s;break;case 0:case 11:case 14:case 15:if(!Ki&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){s=a=a.next;do{var l=s,r=l.destroy;l=l.tag,void 0!==r&&(0!==(2&l)||0!==(4&l))&&Zi(n,t,r),s=s.next}while(s!==a)}mo(e,t,n);break;case 1:if(!Ki&&(Xi(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(i){kc(n,t,i)}mo(e,t,n);break;case 21:mo(e,t,n);break;case 22:1&n.mode?(Ki=(a=Ki)||null!==n.memoizedState,mo(e,t,n),Ki=a):mo(e,t,n);break;default:mo(e,t,n)}}function po(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ji),t.forEach((function(t){var a=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}function fo(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var s=n[a];try{var r=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(l(160));ho(r,i,s),co=null,uo=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){kc(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xo(t,e),t=t.sibling}function xo(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fo(t,e),vo(e),4&a){try{to(3,e,e.return),no(3,e)}catch(x){kc(e,e.return,x)}try{to(5,e,e.return)}catch(x){kc(e,e.return,x)}}break;case 1:fo(t,e),vo(e),512&a&&null!==n&&Xi(n,n.return);break;case 5:if(fo(t,e),vo(e),512&a&&null!==n&&Xi(n,n.return),32&e.flags){var s=e.stateNode;try{me(s,"")}catch(x){kc(e,e.return,x)}}if(4&a&&null!=(s=e.stateNode)){var r=e.memoizedProps,i=null!==n?n.memoizedProps:r,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===r.type&&null!=r.name&&Q(s,r),be(o,i);var d=be(o,r);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?xe(s,m):"dangerouslySetInnerHTML"===u?ue(s,m):"children"===u?me(s,m):b(s,u,m,d)}switch(o){case"input":X(s,r);break;case"textarea":le(s,r);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var p=r.value;null!=p?ne(s,!!r.multiple,p,!1):h!==!!r.multiple&&(null!=r.defaultValue?ne(s,!!r.multiple,r.defaultValue,!0):ne(s,!!r.multiple,r.multiple?[]:"",!1))}s[hs]=r}catch(x){kc(e,e.return,x)}}break;case 6:if(fo(t,e),vo(e),4&a){if(null===e.stateNode)throw Error(l(162));s=e.stateNode,r=e.memoizedProps;try{s.nodeValue=r}catch(x){kc(e,e.return,x)}}break;case 3:if(fo(t,e),vo(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(x){kc(e,e.return,x)}break;case 4:default:fo(t,e),vo(e);break;case 13:fo(t,e),vo(e),8192&(s=e.child).flags&&(r=null!==s.memoizedState,s.stateNode.isHidden=r,!r||null!==s.alternate&&null!==s.alternate.memoizedState||(Bo=Qe())),4&a&&po(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ki=(d=Ki)||u,fo(t,e),Ki=d):fo(t,e),vo(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Qi=e,u=e.child;null!==u;){for(m=Qi=u;null!==Qi;){switch(p=(h=Qi).child,h.tag){case 0:case 11:case 14:case 15:to(4,h,h.return);break;case 1:Xi(h,h.return);var f=h.stateNode;if("function"===typeof f.componentWillUnmount){a=h,n=h.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(x){kc(a,n,x)}}break;case 5:Xi(h,h.return);break;case 22:if(null!==h.memoizedState){yo(m);continue}}null!==p?(p.return=h,Qi=p):yo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{s=m.stateNode,d?"function"===typeof(r=s.style).setProperty?r.setProperty("display","none","important"):r.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=fe("display",i))}catch(x){kc(e,e.return,x)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){kc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:fo(t,e),vo(e),4&a&&po(e);case 21:}}function vo(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(lo(n)){var a=n;break e}n=n.return}throw Error(l(160))}switch(a.tag){case 5:var s=a.stateNode;32&a.flags&&(me(s,""),a.flags&=-33),oo(e,ro(e),s);break;case 3:case 4:var r=a.stateNode.containerInfo;io(e,ro(e),r);break;default:throw Error(l(161))}}catch(i){kc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function go(e,t,n){Qi=e,bo(e,t,n)}function bo(e,t,n){for(var a=0!==(1&e.mode);null!==Qi;){var s=Qi,l=s.child;if(22===s.tag&&a){var r=null!==s.memoizedState||$i;if(!r){var i=s.alternate,o=null!==i&&null!==i.memoizedState||Ki;i=$i;var c=Ki;if($i=r,(Ki=o)&&!c)for(Qi=s;null!==Qi;)o=(r=Qi).child,22===r.tag&&null!==r.memoizedState?No(s):null!==o?(o.return=r,Qi=o):No(s);for(;null!==l;)Qi=l,bo(l,t,n),l=l.sibling;Qi=s,$i=i,Ki=c}jo(e)}else 0!==(8772&s.subtreeFlags)&&null!==l?(l.return=s,Qi=l):jo(e)}}function jo(e){for(;null!==Qi;){var t=Qi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ki||no(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Ki)if(null===n)a.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ti(t.type,n.memoizedProps);a.componentDidUpdate(s,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&ql(t,r,a);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ql(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Wt(m)}}}break;default:throw Error(l(163))}Ki||512&t.flags&&ao(t)}catch(h){kc(t,t.return,h)}}if(t===e){Qi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qi=n;break}Qi=t.return}}function yo(e){for(;null!==Qi;){var t=Qi;if(t===e){Qi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qi=n;break}Qi=t.return}}function No(e){for(;null!==Qi;){var t=Qi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){kc(t,n,o)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var s=t.return;try{a.componentDidMount()}catch(o){kc(t,s,o)}}var l=t.return;try{ao(t)}catch(o){kc(t,l,o)}break;case 5:var r=t.return;try{ao(t)}catch(o){kc(t,r,o)}}}catch(o){kc(t,t.return,o)}if(t===e){Qi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Qi=i;break}Qi=t.return}}var wo,ko=Math.ceil,So=j.ReactCurrentDispatcher,Co=j.ReactCurrentOwner,_o=j.ReactCurrentBatchConfig,Eo=0,Po=null,To=null,Do=0,Ro=0,Oo=ks(0),Fo=0,Io=null,Ao=0,Lo=0,Mo=0,zo=null,Uo=null,Bo=0,Wo=1/0,qo=null,Ho=!1,Vo=null,Go=null,Yo=!1,$o=null,Ko=0,Jo=0,Qo=null,Xo=-1,Zo=0;function ec(){return 0!==(6&Eo)?Qe():-1!==Xo?Xo:Xo=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==Do?Do&-Do:null!==fl.transition?(0===Zo&&(Zo=ft()),Zo):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,a){if(50<Jo)throw Jo=0,Qo=null,Error(l(185));vt(e,n,a),0!==(2&Eo)&&e===Po||(e===Po&&(0===(2&Eo)&&(Lo|=n),4===Fo&&ic(e,Do)),ac(e,a),1===n&&0===Eo&&0===(1&t.mode)&&(Wo=Qe()+500,zs&&Ws()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var r=31-rt(l),i=1<<r,o=s[r];-1===o?0!==(i&n)&&0===(i&a)||(s[r]=ht(i,t)):o<=t&&(e.expiredLanes|=i),l&=~i}}(e,t);var a=mt(e,e===Po?Do:0);if(0===a)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){zs=!0,Bs(e)}(oc.bind(null,e)):Bs(oc.bind(null,e)),rs((function(){0===(6&Eo)&&Ws()})),n=null;else{switch(jt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Pc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Xo=-1,Zo=0,0!==(6&Eo))throw Error(l(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var a=mt(e,e===Po?Do:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=xc(e,a);else{t=a;var s=Eo;Eo|=2;var r=pc();for(Po===e&&Do===t||(qo=null,Wo=Qe()+500,mc(e,t));;)try{gc();break}catch(o){hc(e,o)}Cl(),So.current=r,Eo=s,null!==To?t=0:(Po=null,Do=0,t=Fo)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(a=s,t=lc(e,s))),1===t)throw n=Io,mc(e,0),ic(e,a),ac(e,Qe()),n;if(6===t)ic(e,a);else{if(s=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var s=n[a],l=s.getSnapshot;s=s.value;try{if(!ia(l(),s))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=xc(e,a))&&(0!==(r=pt(e))&&(a=r,t=lc(e,r))),1===t))throw n=Io,mc(e,0),ic(e,a),ac(e,Qe()),n;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(l(345));case 2:case 5:yc(e,Uo,qo);break;case 3:if(ic(e,a),(130023424&a)===a&&10<(t=Bo+500-Qe())){if(0!==mt(e,0))break;if(((s=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=as(yc.bind(null,e,Uo,qo),t);break}yc(e,Uo,qo);break;case 4:if(ic(e,a),(4194240&a)===a)break;for(t=e.eventTimes,s=-1;0<a;){var i=31-rt(a);r=1<<i,(i=t[i])>s&&(s=i),a&=~r}if(a=s,10<(a=(120>(a=Qe()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*ko(a/1960))-a)){e.timeoutHandle=as(yc.bind(null,e,Uo,qo),a);break}yc(e,Uo,qo);break;default:throw Error(l(329))}}}return ac(e,Qe()),e.callbackNode===n?sc.bind(null,e):null}function lc(e,t){var n=zo;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Uo,Uo=n,null!==t&&rc(t)),e}function rc(e){null===Uo?Uo=e:Uo.push.apply(Uo,e)}function ic(e,t){for(t&=~Mo,t&=~Lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),a=1<<n;e[n]=-1,t&=~a}}function oc(e){if(0!==(6&Eo))throw Error(l(327));Nc();var t=mt(e,0);if(0===(1&t))return ac(e,Qe()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var a=pt(e);0!==a&&(t=a,n=lc(e,a))}if(1===n)throw n=Io,mc(e,0),ic(e,t),ac(e,Qe()),n;if(6===n)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yc(e,Uo,qo),ac(e,Qe()),null}function cc(e,t){var n=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=n)&&(Wo=Qe()+500,zs&&Ws())}}function dc(e){null!==$o&&0===$o.tag&&0===(6&Eo)&&Nc();var t=Eo;Eo|=1;var n=_o.transition,a=bt;try{if(_o.transition=null,bt=1,e)return e()}finally{bt=a,_o.transition=n,0===(6&(Eo=t))&&Ws()}}function uc(){Ro=Oo.current,Ss(Oo)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==To)for(n=To.return;null!==n;){var a=n;switch(tl(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Os();break;case 3:Jl(),Ss(Ps),Ss(Es),nr();break;case 5:Xl(a);break;case 4:Jl();break;case 13:case 19:Ss(Zl);break;case 10:_l(a.type._context);break;case 22:case 23:uc()}n=n.return}if(Po=e,To=e=Oc(e.current,null),Do=Ro=t,Fo=0,Io=null,Mo=Lo=Ao=0,Uo=zo=null,null!==Dl){for(t=0;t<Dl.length;t++)if(null!==(a=(n=Dl[t]).interleaved)){n.interleaved=null;var s=a.next,l=n.pending;if(null!==l){var r=l.next;l.next=s,a.next=r}n.pending=a}Dl=null}return e}function hc(e,t){for(;;){var n=To;try{if(Cl(),ar.current=Qr,cr){for(var a=rr.memoizedState;null!==a;){var s=a.queue;null!==s&&(s.pending=null),a=a.next}cr=!1}if(lr=0,or=ir=rr=null,dr=!1,ur=0,Co.current=null,null===n||null===n.return){Fo=1,Io=t,To=null;break}e:{var r=e,i=n.return,o=n,c=t;if(t=Do,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=fi(i);if(null!==p){p.flags&=-257,xi(p,i,o,0,t),1&p.mode&&pi(r,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var x=new Set;x.add(c),t.updateQueue=x}else f.add(c);break e}if(0===(1&t)){pi(r,d,t),fc();break e}c=Error(l(426))}else if(sl&&1&o.mode){var v=fi(i);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),xi(v,i,o,0,t),pl(oi(c,o));break e}}r=c=oi(c,o),4!==Fo&&(Fo=2),null===zo?zo=[r]:zo.push(r),r=i;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,Bl(r,mi(0,c,t));break e;case 1:o=c;var g=r.type,b=r.stateNode;if(0===(128&r.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Go||!Go.has(b)))){r.flags|=65536,t&=-t,r.lanes|=t,Bl(r,hi(r,o,t));break e}}r=r.return}while(null!==r)}jc(n)}catch(j){t=j,To===n&&null!==n&&(To=n=n.return);continue}break}}function pc(){var e=So.current;return So.current=Qr,null===e?Qr:e}function fc(){0!==Fo&&3!==Fo&&2!==Fo||(Fo=4),null===Po||0===(268435455&Ao)&&0===(268435455&Lo)||ic(Po,Do)}function xc(e,t){var n=Eo;Eo|=2;var a=pc();for(Po===e&&Do===t||(qo=null,mc(e,t));;)try{vc();break}catch(s){hc(e,s)}if(Cl(),Eo=n,So.current=a,null!==To)throw Error(l(261));return Po=null,Do=0,Fo}function vc(){for(;null!==To;)bc(To)}function gc(){for(;null!==To&&!Ke();)bc(To)}function bc(e){var t=wo(e.alternate,e,Ro);e.memoizedProps=e.pendingProps,null===t?jc(e):To=t,Co.current=null}function jc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gi(n,t,Ro)))return void(To=n)}else{if(null!==(n=Yi(n,t)))return n.flags&=32767,void(To=n);if(null===e)return Fo=6,void(To=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(To=t);To=t=e}while(null!==t);0===Fo&&(Fo=5)}function yc(e,t,n){var a=bt,s=_o.transition;try{_o.transition=null,bt=1,function(e,t,n,a){do{Nc()}while(null!==$o);if(0!==(6&Eo))throw Error(l(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-rt(n),l=1<<s;t[s]=0,a[s]=-1,e[s]=-1,n&=~l}}(e,r),e===Po&&(To=Po=null,Do=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yo||(Yo=!0,Pc(tt,(function(){return Nc(),null}))),r=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||r){r=_o.transition,_o.transition=null;var i=bt;bt=1;var o=Eo;Eo|=4,Co.current=null,function(e,t){if(es=Ht,ha(e=ma())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var s=a.anchorOffset,r=a.focusNode;a=a.focusOffset;try{n.nodeType,r.nodeType}catch(y){n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==n||0!==s&&3!==m.nodeType||(o=i+s),m!==r||0!==a&&3!==m.nodeType||(c=i+a),3===m.nodeType&&(i+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===n&&++d===s&&(o=i),h===r&&++u===a&&(c=i),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Ht=!1,Qi=t;null!==Qi;)if(e=(t=Qi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qi=e;else for(;null!==Qi;){t=Qi;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var x=f.memoizedProps,v=f.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:ti(t.type,x),v);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var j=t.stateNode.containerInfo;1===j.nodeType?j.textContent="":9===j.nodeType&&j.documentElement&&j.removeChild(j.documentElement);break;default:throw Error(l(163))}}catch(y){kc(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,Qi=e;break}Qi=t.return}f=eo,eo=!1}(e,n),xo(n,e),pa(ts),Ht=!!es,ts=es=null,e.current=n,go(n,e,s),Je(),Eo=o,bt=i,_o.transition=r}else e.current=n;if(Yo&&(Yo=!1,$o=e,Ko=s),r=e.pendingLanes,0===r&&(Go=null),function(e){if(lt&&"function"===typeof lt.onCommitFiberRoot)try{lt.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Qe()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],a(s.value,{componentStack:s.stack,digest:s.digest});if(Ho)throw Ho=!1,e=Vo,Vo=null,e;0!==(1&Ko)&&0!==e.tag&&Nc(),r=e.pendingLanes,0!==(1&r)?e===Qo?Jo++:(Jo=0,Qo=e):Jo=0,Ws()}(e,t,n,a)}finally{_o.transition=s,bt=a}return null}function Nc(){if(null!==$o){var e=jt(Ko),t=_o.transition,n=bt;try{if(_o.transition=null,bt=16>e?16:e,null===$o)var a=!1;else{if(e=$o,$o=null,Ko=0,0!==(6&Eo))throw Error(l(331));var s=Eo;for(Eo|=4,Qi=e.current;null!==Qi;){var r=Qi,i=r.child;if(0!==(16&Qi.flags)){var o=r.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Qi=d;null!==Qi;){var u=Qi;switch(u.tag){case 0:case 11:case 15:to(8,u,r)}var m=u.child;if(null!==m)m.return=u,Qi=m;else for(;null!==Qi;){var h=(u=Qi).sibling,p=u.return;if(so(u),u===d){Qi=null;break}if(null!==h){h.return=p,Qi=h;break}Qi=p}}}var f=r.alternate;if(null!==f){var x=f.child;if(null!==x){f.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(null!==x)}}Qi=r}}if(0!==(2064&r.subtreeFlags)&&null!==i)i.return=r,Qi=i;else e:for(;null!==Qi;){if(0!==(2048&(r=Qi).flags))switch(r.tag){case 0:case 11:case 15:to(9,r,r.return)}var g=r.sibling;if(null!==g){g.return=r.return,Qi=g;break e}Qi=r.return}}var b=e.current;for(Qi=b;null!==Qi;){var j=(i=Qi).child;if(0!==(2064&i.subtreeFlags)&&null!==j)j.return=i,Qi=j;else e:for(i=b;null!==Qi;){if(0!==(2048&(o=Qi).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(N){kc(o,o.return,N)}if(o===i){Qi=null;break e}var y=o.sibling;if(null!==y){y.return=o.return,Qi=y;break e}Qi=o.return}}if(Eo=s,Ws(),lt&&"function"===typeof lt.onPostCommitFiberRoot)try{lt.onPostCommitFiberRoot(st,e)}catch(N){}a=!0}return a}finally{bt=n,_o.transition=t}}return!1}function wc(e,t,n){e=zl(e,t=mi(0,t=oi(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),ac(e,t))}function kc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Go||!Go.has(a))){t=zl(t,e=hi(t,e=oi(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),ac(t,e));break}}t=t.return}}function Sc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Po===e&&(Do&n)===n&&(4===Fo||3===Fo&&(130023424&Do)===Do&&500>Qe()-Bo?mc(e,0):Mo|=n),ac(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Fl(e,t))&&(vt(e,t,n),ac(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(l(314))}null!==a&&a.delete(t),Cc(e,n)}function Pc(e,t){return Ye(e,t)}function Tc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,a){return new Tc(e,t,n,a)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,a,s,r){var i=2;if(a=e,"function"===typeof e)Rc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return Ic(n.children,s,r,t);case k:i=8,s|=8;break;case S:return(e=Dc(12,n,t,2|s)).elementType=S,e.lanes=r,e;case P:return(e=Dc(13,n,t,s)).elementType=P,e.lanes=r,e;case T:return(e=Dc(19,n,t,s)).elementType=T,e.lanes=r,e;case O:return Ac(n,s,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case _:i=9;break e;case E:i=11;break e;case D:i=14;break e;case R:i=16,a=null;break e}throw Error(l(130,null==e?e:typeof e,""))}return(t=Dc(i,n,t,s)).elementType=e,t.type=a,t.lanes=r,t}function Ic(e,t,n,a){return(e=Dc(7,e,a,t)).lanes=n,e}function Ac(e,t,n,a){return(e=Dc(22,e,a,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,a,s,l,r,i,o){return e=new zc(e,t,n,i,o),1===t?(t=1,!0===l&&(t|=8)):t=0,l=Dc(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Al(l),e}function Bc(e){if(!e)return _s;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(l(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(l(171))}if(1===e.tag){var n=e.type;if(Rs(n))return Is(e,n,t)}return t}function Wc(e,t,n,a,s,l,r,i,o){return(e=Uc(n,a,!0,e,0,l,0,i,o)).context=Bc(null),n=e.current,(l=Ml(a=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,zl(n,l,s),e.current.lanes=s,vt(e,s,a),ac(e,a),e}function qc(e,t,n,a){var s=t.current,l=ec(),r=tc(s);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ml(l,r)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=zl(s,t,r))&&(nc(e,s,r,l),Ul(e,s,r)),r}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}wo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)gi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return gi=!1,function(e,t,n){switch(t.tag){case 3:Ei(t),hl();break;case 5:Ql(t);break;case 1:Rs(t.type)&&As(t);break;case 4:Kl(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;Cs(Nl,a._currentValue),a._currentValue=s;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Cs(Zl,1&Zl.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ai(e,t,n):(Cs(Zl,1&Zl.current),null!==(e=qi(e,t,n))?e.sibling:null);Cs(Zl,1&Zl.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Bi(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cs(Zl,Zl.current),a)break;return null;case 22:case 23:return t.lanes=0,wi(e,t,n)}return qi(e,t,n)}(e,t,n);gi=0!==(131072&e.flags)}else gi=!1,sl&&0!==(1048576&t.flags)&&Zs(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Wi(e,t),e=t.pendingProps;var s=Ds(t,Es.current);Pl(t,n),s=fr(null,t,a,e,s,n);var r=xr();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(a)?(r=!0,As(t)):r=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Al(t),s.updater=ai,t.stateNode=s,s._reactInternals=t,ii(t,a,e,n),t=_i(null,t,a,!0,r,n)):(t.tag=0,sl&&r&&el(t),bi(null,t,s,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Wi(e,t),e=t.pendingProps,a=(s=a._init)(a._payload),t.type=a,s=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===D)return 14}return 2}(a),e=ti(a,e),s){case 0:t=Si(null,t,a,e,n);break e;case 1:t=Ci(null,t,a,e,n);break e;case 11:t=ji(null,t,a,e,n);break e;case 14:t=yi(null,t,a,ti(a.type,e),n);break e}throw Error(l(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,Si(e,t,a,s=t.elementType===a?s:ti(a,s),n);case 1:return a=t.type,s=t.pendingProps,Ci(e,t,a,s=t.elementType===a?s:ti(a,s),n);case 3:e:{if(Ei(t),null===e)throw Error(l(387));a=t.pendingProps,s=(r=t.memoizedState).element,Ll(e,t),Wl(t,a,null,n);var i=t.memoizedState;if(a=i.element,r.isDehydrated){if(r={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Pi(e,t,a,n,s=oi(Error(l(423)),t));break e}if(a!==s){t=Pi(e,t,a,n,s=oi(Error(l(424)),t));break e}for(al=cs(t.stateNode.containerInfo.firstChild),nl=t,sl=!0,ll=null,n=yl(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hl(),a===s){t=qi(e,t,n);break e}bi(e,t,a,n)}t=t.child}return t;case 5:return Ql(t),null===e&&cl(t),a=t.type,s=t.pendingProps,r=null!==e?e.memoizedProps:null,i=s.children,ns(a,s)?i=null:null!==r&&ns(a,r)&&(t.flags|=32),ki(e,t),bi(e,t,i,n),t.child;case 6:return null===e&&cl(t),null;case 13:return Ai(e,t,n);case 4:return Kl(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=jl(t,null,a,n):bi(e,t,a,n),t.child;case 11:return a=t.type,s=t.pendingProps,ji(e,t,a,s=t.elementType===a?s:ti(a,s),n);case 7:return bi(e,t,t.pendingProps,n),t.child;case 8:case 12:return bi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,r=t.memoizedProps,i=s.value,Cs(Nl,a._currentValue),a._currentValue=i,null!==r)if(ia(r.value,i)){if(r.children===s.children&&!Ps.current){t=qi(e,t,n);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var o=r.dependencies;if(null!==o){i=r.child;for(var c=o.firstContext;null!==c;){if(c.context===a){if(1===r.tag){(c=Ml(-1,n&-n)).tag=2;var d=r.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}r.lanes|=n,null!==(c=r.alternate)&&(c.lanes|=n),El(r.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===r.tag)i=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(i=r.return))throw Error(l(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),El(i,n,t),i=r.sibling}else i=r.child;if(null!==i)i.return=r;else for(i=r;null!==i;){if(i===t){i=null;break}if(null!==(r=i.sibling)){r.return=i.return,i=r;break}i=i.return}r=i}bi(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,Pl(t,n),a=a(s=Tl(s)),t.flags|=1,bi(e,t,a,n),t.child;case 14:return s=ti(a=t.type,t.pendingProps),yi(e,t,a,s=ti(a.type,s),n);case 15:return Ni(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:ti(a,s),Wi(e,t),t.tag=1,Rs(a)?(e=!0,As(t)):e=!1,Pl(t,n),li(t,a,s),ii(t,a,s,n),_i(null,t,a,!0,e,n);case 19:return Bi(e,t,n);case 22:return wi(e,t,n)}throw Error(l(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,a,s){var l=n._reactRootContainer;if(l){var r=l;if("function"===typeof s){var i=s;s=function(){var e=Hc(r);i.call(e)}}qc(t,r,e,s)}else r=function(e,t,n,a,s){if(s){if("function"===typeof a){var l=a;a=function(){var e=Hc(r);l.call(e)}}var r=Wc(t,a,e,0,null,!1,0,"",Xc);return e._reactRootContainer=r,e[ps]=r.current,Wa(8===e.nodeType?e.parentNode:e),dc(),r}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof a){var i=a;a=function(){var e=Hc(o);i.call(e)}}var o=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=o,e[ps]=o.current,Wa(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,o,n,a)})),o}(n,t,e,s,a);return Hc(r)}Kc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));qc(e,t,null,null)},Kc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[ps]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(gt(t,1|n),ac(t,Qe()),0===(6&Eo)&&(Wo=Qe()+500,Ws()))}break;case 13:dc((function(){var t=Fl(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},Nt=function(e){if(13===e.tag){var t=Fl(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),n=Fl(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},kt=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ne=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=ys(a);if(!s)throw Error(l(90));Y(a),X(a,s)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[bs,js,ys,Ce,_e,cc]},td={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{st=ad.inject(nd),lt=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(l(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(l(299));var n=!1,a="",s=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,a,s),e[ps]=t.current,Wa(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(l(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(l(405));var a=null!=n&&n.hydratedSources||null,s=!1,r="",i=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,s,0,r,i),e[ps]=t.current,Wa(e),a)for(e=0;e<a.length;e++)s=(s=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Kc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(l(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(l(40));return!!e._reactRootContainer&&(dc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ps]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Qc(n))throw Error(l(200));if(null==e||void 0===e._reactInternals)throw Error(l(38));return Zc(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,n)=>{"use strict";var a=n(119);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},414:(e,t,n)=>{"use strict";e.exports=n(654)},488:(e,t,n)=>{"use strict";var a=n(959);function s(){}function l(){}l.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,l,r){if(r!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:s};return n.PropTypes=n,n}},654:(e,t,n)=>{"use strict";var a=n(950),s=Symbol.for("react.element"),l=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,l={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,a)&&!o.hasOwnProperty(a)&&(l[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===l[a]&&(l[a]=t[a]);return{$$typeof:s,type:e,key:c,ref:d,props:l,_owner:i.current}}t.Fragment=l,t.jsx=c,t.jsxs=c},738:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=r(e,l(n)))}return e}function l(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=r(t,n));return t}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,s=e[a];if(!(0<l(s,t)))break e;e[a]=t,e[n]=s,n=a}}function a(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,s=e.length,r=s>>>1;a<r;){var i=2*(a+1)-1,o=e[i],c=i+1,d=e[c];if(0>l(o,n))c<s&&0>l(d,o)?(e[a]=d,e[c]=n,a=c):(e[a]=o,e[i]=n,a=i);else{if(!(c<s&&0>l(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,h=3,p=!1,f=!1,x=!1,v="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=a(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function y(e){if(x=!1,j(e),!f)if(null!==a(c))f=!0,O(N);else{var t=a(d);null!==t&&F(y,t.startTime-e)}}function N(e,n){f=!1,x&&(x=!1,g(C),C=-1),p=!0;var l=h;try{for(j(n),m=a(c);null!==m&&(!(m.expirationTime>n)||e&&!P());){var r=m.callback;if("function"===typeof r){m.callback=null,h=m.priorityLevel;var i=r(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?m.callback=i:m===a(c)&&s(c),j(n)}else s(c);m=a(c)}if(null!==m)var o=!0;else{var u=a(d);null!==u&&F(y,u.startTime-n),o=!1}return o}finally{m=null,h=l,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,C=-1,_=5,E=-1;function P(){return!(t.unstable_now()-E<_)}function T(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?w():(k=!1,S=null)}}else k=!1}if("function"===typeof b)w=function(){b(T)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=T,w=function(){R.postMessage(null)}}else w=function(){v(T,0)};function O(e){S=e,k||(k=!0,w())}function F(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,O(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,s,l){var r=t.unstable_now();switch("object"===typeof l&&null!==l?l="number"===typeof(l=l.delay)&&0<l?r+l:r:l=r,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:l,expirationTime:i=l+i,sortIndex:-1},l>r?(e.sortIndex=l,n(d,e),null===a(c)&&e===a(d)&&(x?(g(C),C=-1):x=!0,F(y,l-r))):(e.sortIndex=i,n(c,e),f||p||(f=!0,O(N))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},942:(e,t,n)=>{e.exports=n(488)()},949:e=>{"use strict";e.exports=function(e,t,n,a,s,l,r,i){if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,a,s,l,r,i],d=0;(o=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},950:(e,t,n)=>{"use strict";e.exports=n(49)},959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,s){if(1&s&&(a=this(a)),8&s)return a;if("object"===typeof a&&a){if(4&s&&a.__esModule)return a;if(16&s&&"function"===typeof a.then)return a}var l=Object.create(null);n.r(l);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&s&&a;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>r[e]=()=>a[e]));return r.default=()=>a,n.d(l,r),l}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Ht,hasStandardBrowserEnv:()=>Gt,hasStandardBrowserWebWorkerEnv:()=>Yt,navigator:()=>Vt,origin:()=>$t});var t,a=n(950),s=n.t(a,2),l=n(352),r=n(119),i=n.t(r,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,a){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function x(e,n,a,s){void 0===s&&(s={});let{window:l=document.defaultView,v5Compat:r=!1}=s,i=l.history,u=t.Pop,f=null,x=v();function v(){return(i.state||{idx:null}).idx}function g(){u=t.Pop;let e=v(),n=null==e?null:e-x;x=e,f&&f({action:u,location:j.location,delta:n})}function b(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==x&&(x=0,i.replaceState(o({},i.state,{idx:x}),""));let j={get action(){return u},get location(){return e(l,i)},listen(e){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(c,g),f=e,()=>{l.removeEventListener(c,g),f=null}},createHref:e=>n(l,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){u=t.Push;let s=h(j.location,e,n);a&&a(s,e),x=v()+1;let o=m(s,x),c=j.createHref(s);try{i.pushState(o,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;l.location.assign(c)}r&&f&&f({action:u,location:j.location,delta:1})},replace:function(e,n){u=t.Replace;let s=h(j.location,e,n);a&&a(s,e),x=v();let l=m(s,x),o=j.createHref(s);i.replaceState(l,"",o),r&&f&&f({action:u,location:j.location,delta:0})},go:e=>i.go(e)};return j}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,a){let s=O(("string"===typeof t?f(t):t).pathname||"/",n);if(null==s)return null;let l=j(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(l);let r=null;for(let i=0;null==r&&i<l.length;++i){let e=R(s);r=T(l[i],e,a)}return r}function j(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let s=(e,s,l)=>{let r={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};r.relativePath.startsWith("/")&&(d(r.relativePath.startsWith(a),'Absolute route path "'+r.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),r.relativePath=r.relativePath.slice(a.length));let i=M([a,r.relativePath]),o=n.concat(r);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),j(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:P(i,e.index),routesMeta:o})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of y(e.path))s(e,t,a);else s(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(0===a.length)return s?[l,""]:[l];let r=y(a.join("/")),i=[];return i.push(...r.map((e=>""===e?l:[l,e].join("/")))),s&&i.push(...r),i.map((t=>e.startsWith("/")&&""===t?"/":t))}const N=/^:[\w-]+$/,w=3,k=2,S=1,C=10,_=-2,E=e=>"*"===e;function P(e,t){let n=e.split("/"),a=n.length;return n.some(E)&&(a+=_),t&&(a+=k),n.filter((e=>!E(e))).reduce(((e,t)=>e+(N.test(t)?w:""===t?S:C)),a)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,s={},l="/",r=[];for(let i=0;i<a.length;++i){let e=a[i],o=i===a.length-1,c="/"===l?t:t.slice(l.length)||"/",d=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!a[a.length-1].route.index&&(d=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),r.push({params:s,pathname:M([l,d.pathname]),pathnameBase:z(M([l,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(l=M([l,d.pathnameBase]))}return r}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(a.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let l=new RegExp(s,t?void 0:"i");return[l,a]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],r=l.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:a.reduce(((e,t,n)=>{let{paramName:a,isOptional:s}=t;if("*"===a){let e=i[n]||"";r=l.slice(0,l.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[n];return e[a]=s&&!o?void 0:(o||"").replace(/%2F/g,"/"),e}),{}),pathname:l,pathnameBase:r,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function F(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function A(e,t){let n=I(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function L(e,t,n,a){let s;void 0===a&&(a=!1),"string"===typeof e?s=f(e):(s=o({},e),d(!s.pathname||!s.pathname.includes("?"),F("?","pathname","search",s)),d(!s.pathname||!s.pathname.includes("#"),F("#","pathname","hash",s)),d(!s.search||!s.search.includes("#"),F("#","search","hash",s)));let l,r=""===e||""===s.pathname,i=r?"/":s.pathname;if(null==i)l=n;else{let e=t.length-1;if(!a&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}l=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:s=""}="string"===typeof e?f(e):e,l=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:l,search:U(a),hash:B(s)}}(s,l),u=i&&"/"!==i&&i.endsWith("/"),m=(r||"."===i)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!m||(c.pathname+="/"),c}const M=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],H=(new Set(q),["get",...q]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},V.apply(this,arguments)}const G=a.createContext(null);const Y=a.createContext(null);const $=a.createContext(null);const K=a.createContext(null);const J=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=a.createContext(null);function X(){return null!=a.useContext(K)}function Z(){return X()||d(!1),a.useContext(K).location}function ee(e){a.useContext($).static||a.useLayoutEffect(e)}function te(){let{isDataRoute:e}=a.useContext(J);return e?function(){let{router:e}=ue(ce.UseNavigateStable),t=he(de.UseNavigateStable),n=a.useRef(!1);ee((()=>{n.current=!0}));let s=a.useCallback((function(a,s){void 0===s&&(s={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,V({fromRouteId:t},s)))}),[e,t]);return s}():function(){X()||d(!1);let e=a.useContext(G),{basename:t,future:n,navigator:s}=a.useContext($),{matches:l}=a.useContext(J),{pathname:r}=Z(),i=JSON.stringify(A(l,n.v7_relativeSplatPath)),o=a.useRef(!1);ee((()=>{o.current=!0}));let c=a.useCallback((function(n,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof n)return void s.go(n);let l=L(n,JSON.parse(i),r,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:M([t,l.pathname])),(a.replace?s.replace:s.push)(l,a.state,a)}),[t,s,i,r,e]);return c}()}function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:s}=a.useContext($),{matches:l}=a.useContext(J),{pathname:r}=Z(),i=JSON.stringify(A(l,s.v7_relativeSplatPath));return a.useMemo((()=>L(e,JSON.parse(i),r,"path"===n)),[e,i,r,n])}function ae(e,n,s,l){X()||d(!1);let{navigator:r}=a.useContext($),{matches:i}=a.useContext(J),o=i[i.length-1],c=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let m,h=Z();if(n){var p;let e="string"===typeof n?f(n):n;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),m=e}else m=h;let x=m.pathname||"/",v=x;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=g(e,{pathname:v});let j=oe(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([u,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:M([u,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,s,l);return n&&j?a.createElement(K.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:t.Pop}},j):j}function se(){let e=function(){var e;let t=a.useContext(Q),n=me(de.UseRouteError),s=he(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[s]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:l},n):null,null)}const le=a.createElement(se,null);class re extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(J.Provider,{value:this.props.routeContext},a.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:n,children:s}=e,l=a.useContext(G);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(J.Provider,{value:t},s)}function oe(e,t,n,s){var l;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===s&&(s=null),null==e){var r;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(r=s)&&r.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,o=null==(l=n)?void 0:l.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id])));e>=0||d(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let a=0;a<i.length;a++){let e=i[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:a}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||s){c=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight(((e,s,l)=>{let r,d=!1,m=null,h=null;var p;n&&(r=o&&s.route.id?o[s.route.id]:void 0,m=s.route.errorElement||le,c&&(u<0&&0===l?(p="route-fallback",!1||pe[p]||(pe[p]=!0),d=!0,h=null):u===l&&(d=!0,h=s.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,l+1)),x=()=>{let t;return t=r?m:d?h:s.route.Component?a.createElement(s.route.Component,null):s.route.element?s.route.element:e,a.createElement(ie,{match:s,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===l)?a.createElement(re,{location:n.location,revalidation:n.revalidation,component:m,error:r,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ue(e){let t=a.useContext(G);return t||d(!1),t}function me(e){let t=a.useContext(Y);return t||d(!1),t}function he(e){let t=function(){let e=a.useContext(J);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const pe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function xe(e){let{to:t,replace:n,state:s,relative:l}=e;X()||d(!1);let{future:r,static:i}=a.useContext($),{matches:o}=a.useContext(J),{pathname:c}=Z(),u=te(),m=L(t,A(o,r.v7_relativeSplatPath),c,"path"===l),h=JSON.stringify(m);return a.useEffect((()=>u(JSON.parse(h),{replace:n,state:s,relative:l})),[u,h,l,n,s]),null}function ve(e){d(!1)}function ge(e){let{basename:n="/",children:s=null,location:l,navigationType:r=t.Pop,navigator:i,static:o=!1,future:c}=e;X()&&d(!1);let u=n.replace(/^\/*/,"/"),m=a.useMemo((()=>({basename:u,navigator:i,static:o,future:V({v7_relativeSplatPath:!1},c)})),[u,c,i,o]);"string"===typeof l&&(l=f(l));let{pathname:h="/",search:p="",hash:x="",state:v=null,key:g="default"}=l,b=a.useMemo((()=>{let e=O(h,u);return null==e?null:{location:{pathname:e,search:p,hash:x,state:v,key:g},navigationType:r}}),[u,h,p,x,v,g,r]);return null==b?null:a.createElement($.Provider,{value:m},a.createElement(K.Provider,{children:s,value:b}))}function be(e){let{children:t,location:n}=e;return ae(je(t),n)}new Promise((()=>{}));a.Component;function je(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,((e,s)=>{if(!a.isValidElement(e))return;let l=[...t,s];if(e.type===a.Fragment)return void n.push.apply(n,je(e.props.children,l));e.type!==ve&&d(!1),e.props.index&&e.props.children&&d(!1);let r={id:e.props.id||l.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(r.children=je(e.props.children,l)),n.push(r)})),n}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ye.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,a,s={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}function we(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map((e=>[n,e])):[[n,a]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(am){}new Map;const Se=s.startTransition;i.flushSync,s.useId;function Ce(e){let{basename:t,children:n,future:s,window:l}=e,r=a.useRef();null==r.current&&(r.current=function(e){return void 0===e&&(e={}),x((function(e,t){let{pathname:n,search:a,hash:s}=e.location;return h("",{pathname:n,search:a,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,e)}({window:l,v5Compat:!0}));let i=r.current,[o,c]=a.useState({action:i.action,location:i.location}),{v7_startTransition:d}=s||{},u=a.useCallback((e=>{d&&Se?Se((()=>c(e))):c(e)}),[c,d]);return a.useLayoutEffect((()=>i.listen(u)),[i,u]),a.useEffect((()=>fe(s)),[s]),a.createElement(ge,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:i,future:s})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=a.forwardRef((function(e,t){let n,{onClick:s,relative:l,reloadDocument:r,replace:i,state:o,target:c,to:u,preventScrollReset:m,viewTransition:h}=e,f=Ne(e,ke),{basename:x}=a.useContext($),v=!1;if("string"===typeof u&&Ee.test(u)&&(n=u,_e))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,x);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(am){}let g=function(e,t){let{relative:n}=void 0===t?{}:t;X()||d(!1);let{basename:s,navigator:l}=a.useContext($),{hash:r,pathname:i,search:o}=ne(e,{relative:n}),c=i;return"/"!==s&&(c="/"===i?s:M([s,i])),l.createHref({pathname:c,search:o,hash:r})}(u,{relative:l}),b=function(e,t){let{target:n,replace:s,state:l,preventScrollReset:r,relative:i,viewTransition:o}=void 0===t?{}:t,c=te(),d=Z(),u=ne(e,{relative:i});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==s?s:p(d)===p(u);c(e,{replace:n,state:l,preventScrollReset:r,relative:i,viewTransition:o})}}),[d,c,u,s,l,n,e,r,i,o])}(u,{replace:i,state:o,target:c,preventScrollReset:m,relative:l,viewTransition:h});return a.createElement("a",ye({},f,{href:n||g,onClick:v||r?s:function(e){s&&s(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Te,De;function Re(e){let t=a.useRef(we(e)),n=a.useRef(!1),s=Z(),l=a.useMemo((()=>function(e,t){let n=we(e);return t&&t.forEach(((e,a)=>{n.has(a)||t.getAll(a).forEach((e=>{n.append(a,e)}))})),n}(s.search,n.current?null:t.current)),[s.search]),r=te(),i=a.useCallback(((e,t)=>{const a=we("function"===typeof e?e(l):e);n.current=!0,r("?"+a,t)}),[r,l]);return[l,i]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(De||(De={}));function Oe(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}function Fe(e,t){if(null==e)return{};var n,a,s=Oe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Ae(e){var t=function(e,t){if("object"!=Ie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Ie(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ie(t)?t:t+""}function Le(e,t,n){return(t=Ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t){return function(){return e.apply(t,arguments)}}const{toString:Be}=Object.prototype,{getPrototypeOf:We}=Object,{iterator:qe,toStringTag:He}=Symbol,Ve=(Ge=Object.create(null),e=>{const t=Be.call(e);return Ge[t]||(Ge[t]=t.slice(8,-1).toLowerCase())});var Ge;const Ye=e=>(e=e.toLowerCase(),t=>Ve(t)===e),$e=e=>t=>typeof t===e,{isArray:Ke}=Array,Je=$e("undefined");const Qe=Ye("ArrayBuffer");const Xe=$e("string"),Ze=$e("function"),et=$e("number"),tt=e=>null!==e&&"object"===typeof e,nt=e=>{if("object"!==Ve(e))return!1;const t=We(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(He in e)&&!(qe in e)},at=Ye("Date"),st=Ye("File"),lt=Ye("Blob"),rt=Ye("FileList"),it=Ye("URLSearchParams"),[ot,ct,dt,ut]=["ReadableStream","Request","Response","Headers"].map(Ye);function mt(e,t){let n,a,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ke(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const a=s?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let r;for(n=0;n<l;n++)r=a[n],t.call(null,e[r],r,e)}}function ht(e,t){t=t.toLowerCase();const n=Object.keys(e);let a,s=n.length;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const pt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ft=e=>!Je(e)&&e!==pt;const xt=(vt="undefined"!==typeof Uint8Array&&We(Uint8Array),e=>vt&&e instanceof vt);var vt;const gt=Ye("HTMLFormElement"),bt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),jt=Ye("RegExp"),yt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};mt(n,((n,s)=>{let l;!1!==(l=t(n,s,e))&&(a[s]=l||n)})),Object.defineProperties(e,a)};const Nt=Ye("AsyncFunction"),wt=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],pt.addEventListener("message",(e=>{let{source:t,data:s}=e;t===pt&&s===n&&a.length&&a.shift()()}),!1),e=>{a.push(e),pt.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,Ze(pt.postMessage)),kt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(pt):"undefined"!==typeof process&&process.nextTick||wt,St={isArray:Ke,isArrayBuffer:Qe,isBuffer:function(e){return null!==e&&!Je(e)&&null!==e.constructor&&!Je(e.constructor)&&Ze(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ze(e.append)&&("formdata"===(t=Ve(e))||"object"===t&&Ze(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Qe(e.buffer),t},isString:Xe,isNumber:et,isBoolean:e=>!0===e||!1===e,isObject:tt,isPlainObject:nt,isReadableStream:ot,isRequest:ct,isResponse:dt,isHeaders:ut,isUndefined:Je,isDate:at,isFile:st,isBlob:lt,isRegExp:jt,isFunction:Ze,isStream:e=>tt(e)&&Ze(e.pipe),isURLSearchParams:it,isTypedArray:xt,isFileList:rt,forEach:mt,merge:function e(){const{caseless:t}=ft(this)&&this||{},n={},a=(a,s)=>{const l=t&&ht(n,s)||s;nt(n[l])&&nt(a)?n[l]=e(n[l],a):nt(a)?n[l]=e({},a):Ke(a)?n[l]=a.slice():n[l]=a};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&mt(arguments[s],a);return n},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return mt(t,((t,a)=>{n&&Ze(t)?e[a]=Ue(t,n):e[a]=t}),{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let s,l,r;const i={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),l=s.length;l-- >0;)r=s[l],a&&!a(r,e,t)||i[r]||(t[r]=e[r],i[r]=!0);e=!1!==n&&We(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ve,kindOfTest:Ye,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(Ke(e))return e;let t=e.length;if(!et(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[qe]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:gt,hasOwnProperty:bt,hasOwnProp:bt,reduceDescriptors:yt,freezeMethods:e=>{yt(e,((t,n)=>{if(Ze(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];Ze(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach((e=>{n[e]=!0}))};return Ke(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ht,global:pt,isContextDefined:ft,isSpecCompliantForm:function(e){return!!(e&&Ze(e.append)&&"FormData"===e[He]&&e[qe])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(tt(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[a]=e;const s=Ke(e)?[]:{};return mt(e,((e,t)=>{const l=n(e,a+1);!Je(l)&&(s[t]=l)})),t[a]=void 0,s}}return e};return n(e,0)},isAsyncFn:Nt,isThenable:e=>e&&(tt(e)||Ze(e))&&Ze(e.then)&&Ze(e.catch),setImmediate:wt,asap:kt,isIterable:e=>null!=e&&Ze(e[qe])};function Ct(e,t,n,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}St.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:St.toJSONObject(this.config),code:this.code,status:this.status}}});const _t=Ct.prototype,Et={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Et[e]={value:e}})),Object.defineProperties(Ct,Et),Object.defineProperty(_t,"isAxiosError",{value:!0}),Ct.from=(e,t,n,a,s,l)=>{const r=Object.create(_t);return St.toFlatObject(e,r,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Ct.call(r,e.message,t,n,a,s),r.cause=e,r.name=e.name,l&&Object.assign(r,l),r};const Pt=Ct;function Tt(e){return St.isPlainObject(e)||St.isArray(e)}function Dt(e){return St.endsWith(e,"[]")?e.slice(0,-2):e}function Rt(e,t,n){return e?e.concat(t).map((function(e,t){return e=Dt(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Ot=St.toFlatObject(St,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Ft=function(e,t,n){if(!St.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=St.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!St.isUndefined(t[e])}))).metaTokens,s=n.visitor||c,l=n.dots,r=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&St.isSpecCompliantForm(t);if(!St.isFunction(s))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(St.isDate(e))return e.toISOString();if(!i&&St.isBlob(e))throw new Pt("Blob is not supported. Use a Buffer instead.");return St.isArrayBuffer(e)||St.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let i=e;if(e&&!s&&"object"===typeof e)if(St.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(St.isArray(e)&&function(e){return St.isArray(e)&&!e.some(Tt)}(e)||(St.isFileList(e)||St.endsWith(n,"[]"))&&(i=St.toArray(e)))return n=Dt(n),i.forEach((function(e,a){!St.isUndefined(e)&&null!==e&&t.append(!0===r?Rt([n],a,l):null===r?n:n+"[]",o(e))})),!1;return!!Tt(e)||(t.append(Rt(s,n,l),o(e)),!1)}const d=[],u=Object.assign(Ot,{defaultVisitor:c,convertValue:o,isVisitable:Tt});if(!St.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!St.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+a.join("."));d.push(n),St.forEach(n,(function(n,l){!0===(!(St.isUndefined(n)||null===n)&&s.call(t,n,St.isString(l)?l.trim():l,a,u))&&e(n,a?a.concat(l):[l])})),d.pop()}}(e),t};function It(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function At(e,t){this._pairs=[],e&&Ft(e,this,t)}const Lt=At.prototype;Lt.append=function(e,t){this._pairs.push([e,t])},Lt.toString=function(e){const t=e?function(t){return e.call(this,t,It)}:It;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Mt=At;function zt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ut(e,t,n){if(!t)return e;const a=n&&n.encode||zt;St.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let l;if(l=s?s(t,n):St.isURLSearchParams(t)?t.toString():new Mt(t,n).toString(a),l){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+l}return e}const Bt=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){St.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Wt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Mt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ht="undefined"!==typeof window&&"undefined"!==typeof document,Vt="object"===typeof navigator&&navigator||void 0,Gt=Ht&&(!Vt||["ReactNative","NativeScript","NS"].indexOf(Vt.product)<0),Yt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,$t=Ht&&window.location.href||"http://localhost",Kt=ze(ze({},e),qt);const Jt=function(e){function t(e,n,a,s){let l=e[s++];if("__proto__"===l)return!0;const r=Number.isFinite(+l),i=s>=e.length;if(l=!l&&St.isArray(a)?a.length:l,i)return St.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!r;a[l]&&St.isObject(a[l])||(a[l]=[]);return t(e,n,a[l],s)&&St.isArray(a[l])&&(a[l]=function(e){const t={},n=Object.keys(e);let a;const s=n.length;let l;for(a=0;a<s;a++)l=n[a],t[l]=e[l];return t}(a[l])),!r}if(St.isFormData(e)&&St.isFunction(e.entries)){const n={};return St.forEachEntry(e,((e,a)=>{t(function(e){return St.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),a,n,0)})),n}return null};const Qt={transitional:Wt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,s=St.isObject(e);s&&St.isHTMLForm(e)&&(e=new FormData(e));if(St.isFormData(e))return a?JSON.stringify(Jt(e)):e;if(St.isArrayBuffer(e)||St.isBuffer(e)||St.isStream(e)||St.isFile(e)||St.isBlob(e)||St.isReadableStream(e))return e;if(St.isArrayBufferView(e))return e.buffer;if(St.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ft(e,new Kt.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,a){return Kt.isNode&&St.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((l=St.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ft(l?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||a?(t.setContentType("application/json",!1),function(e,t,n){if(St.isString(e))try{return(t||JSON.parse)(e),St.trim(e)}catch(am){if("SyntaxError"!==am.name)throw am}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Qt.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(St.isResponse(e)||St.isReadableStream(e))return e;if(e&&St.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(am){if(n){if("SyntaxError"===am.name)throw Pt.from(am,Pt.ERR_BAD_RESPONSE,this,null,this.response);throw am}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kt.classes.FormData,Blob:Kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};St.forEach(["delete","get","head","post","put","patch"],(e=>{Qt.headers[e]={}}));const Xt=Qt,Zt=St.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),en=Symbol("internals");function tn(e){return e&&String(e).trim().toLowerCase()}function nn(e){return!1===e||null==e?e:St.isArray(e)?e.map(nn):String(e)}function an(e,t,n,a,s){return St.isFunction(a)?a.call(this,t,n):(s&&(t=n),St.isString(t)?St.isString(a)?-1!==t.indexOf(a):St.isRegExp(a)?a.test(t):void 0:void 0)}class sn{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function s(e,t,n){const s=tn(t);if(!s)throw new Error("header name must be a non-empty string");const l=St.findKey(a,s);(!l||void 0===a[l]||!0===n||void 0===n&&!1!==a[l])&&(a[l||t]=nn(e))}const l=(e,t)=>St.forEach(e,((e,n)=>s(e,n,t)));if(St.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(St.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))l((e=>{const t={};let n,a,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),a=e.substring(s+1).trim(),!n||t[n]&&Zt[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)})),t})(e),t);else if(St.isObject(e)&&St.isIterable(e)){let n,a,s={};for(const t of e){if(!St.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[a=t[0]]=(n=s[a])?St.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}l(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=tn(e)){const n=St.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(St.isFunction(t))return t.call(this,e,n);if(St.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=tn(e)){const n=St.findKey(this,e);return!(!n||void 0===this[n]||t&&!an(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function s(e){if(e=tn(e)){const s=St.findKey(n,e);!s||t&&!an(0,n[s],s,t)||(delete n[s],a=!0)}}return St.isArray(e)?e.forEach(s):s(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const s=t[n];e&&!an(0,this[s],s,e,!0)||(delete this[s],a=!0)}return a}normalize(e){const t=this,n={};return St.forEach(this,((a,s)=>{const l=St.findKey(n,s);if(l)return t[l]=nn(a),void delete t[s];const r=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(s):String(s).trim();r!==s&&delete t[s],t[r]=nn(a),n[r]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return St.forEach(this,((n,a)=>{null!=n&&!1!==n&&(t[a]=e&&St.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[en]=this[en]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=tn(e);t[a]||(!function(e,t){const n=St.toCamelCase(" "+t);["get","set","has"].forEach((a=>{Object.defineProperty(e,a+n,{value:function(e,n,s){return this[a].call(this,t,e,n,s)},configurable:!0})}))}(n,e),t[a]=!0)}return St.isArray(e)?e.forEach(a):a(e),this}}sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),St.reduceDescriptors(sn.prototype,((e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}})),St.freezeMethods(sn);const ln=sn;function rn(e,t){const n=this||Xt,a=t||n,s=ln.from(a.headers);let l=a.data;return St.forEach(e,(function(e){l=e.call(n,l,s.normalize(),t?t.status:void 0)})),s.normalize(),l}function on(e){return!(!e||!e.__CANCEL__)}function cn(e,t,n){Pt.call(this,null==e?"canceled":e,Pt.ERR_CANCELED,t,n),this.name="CanceledError"}St.inherits(cn,Pt,{__CANCEL__:!0});const dn=cn;function un(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new Pt("Request failed with status code "+n.status,[Pt.ERR_BAD_REQUEST,Pt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const mn=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let s,l=0,r=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=a[r];s||(s=o),n[l]=i,a[l]=o;let d=r,u=0;for(;d!==l;)u+=n[d++],d%=e;if(l=(l+1)%e,l===r&&(r=(r+1)%e),o-s<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const hn=function(e,t){let n,a,s=0,l=1e3/t;const r=function(t){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=l,n=null,a&&(clearTimeout(a),a=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=l?r(o,e):(n=o,a||(a=setTimeout((()=>{a=null,r(n)}),l-t)))},()=>n&&r(n)]},pn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const s=mn(50,250);return hn((n=>{const l=n.loaded,r=n.lengthComputable?n.total:void 0,i=l-a,o=s(i);a=l;e({loaded:l,total:r,progress:r?l/r:void 0,bytes:i,rate:o||void 0,estimated:o&&r&&l<=r?(r-l)/o:void 0,event:n,lengthComputable:null!=r,[t?"download":"upload"]:!0})}),n)},fn=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},xn=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return St.asap((()=>e(...n)))},vn=Kt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Kt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Kt.origin),Kt.navigator&&/(msie|trident)/i.test(Kt.navigator.userAgent)):()=>!0,gn=Kt.hasStandardBrowserEnv?{write(e,t,n,a,s,l){const r=[e+"="+encodeURIComponent(t)];St.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),St.isString(a)&&r.push("path="+a),St.isString(s)&&r.push("domain="+s),!0===l&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function bn(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const jn=e=>e instanceof ln?ze({},e):e;function yn(e,t){t=t||{};const n={};function a(e,t,n,a){return St.isPlainObject(e)&&St.isPlainObject(t)?St.merge.call({caseless:a},e,t):St.isPlainObject(t)?St.merge({},t):St.isArray(t)?t.slice():t}function s(e,t,n,s){return St.isUndefined(t)?St.isUndefined(e)?void 0:a(void 0,e,0,s):a(e,t,0,s)}function l(e,t){if(!St.isUndefined(t))return a(void 0,t)}function r(e,t){return St.isUndefined(t)?St.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function i(n,s,l){return l in t?a(n,s):l in e?a(void 0,n):void 0}const o={url:l,method:l,data:l,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:i,headers:(e,t,n)=>s(jn(e),jn(t),0,!0)};return St.forEach(Object.keys(Object.assign({},e,t)),(function(a){const l=o[a]||s,r=l(e[a],t[a],a);St.isUndefined(r)&&l!==i||(n[a]=r)})),n}const Nn=e=>{const t=yn({},e);let n,{data:a,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:r,headers:i,auth:o}=t;if(t.headers=i=ln.from(i),t.url=Ut(bn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),St.isFormData(a))if(Kt.hasStandardBrowserEnv||Kt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(n=i.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(Kt.hasStandardBrowserEnv&&(s&&St.isFunction(s)&&(s=s(t)),s||!1!==s&&vn(t.url))){const e=l&&r&&gn.read(r);e&&i.set(l,e)}return t},wn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const a=Nn(e);let s=a.data;const l=ln.from(a.headers).normalize();let r,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=a;function p(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(r),a.signal&&a.signal.removeEventListener("abort",r)}let f=new XMLHttpRequest;function x(){if(!f)return;const a=ln.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());un((function(e){t(e),p()}),(function(e){n(e),p()}),{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:a,config:e,request:f}),f=null}f.open(a.method.toUpperCase(),a.url,!0),f.timeout=a.timeout,"onloadend"in f?f.onloadend=x:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(x)},f.onabort=function(){f&&(n(new Pt("Request aborted",Pt.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new Pt("Network Error",Pt.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const s=a.transitional||Wt;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new Pt(t,s.clarifyTimeoutError?Pt.ETIMEDOUT:Pt.ECONNABORTED,e,f)),f=null},void 0===s&&l.setContentType(null),"setRequestHeader"in f&&St.forEach(l.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),St.isUndefined(a.withCredentials)||(f.withCredentials=!!a.withCredentials),u&&"json"!==u&&(f.responseType=a.responseType),h&&([o,d]=pn(h,!0),f.addEventListener("progress",o)),m&&f.upload&&([i,c]=pn(m),f.upload.addEventListener("progress",i),f.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(r=t=>{f&&(n(!t||t.type?new dn(null,e,f):t),f.abort(),f=null)},a.cancelToken&&a.cancelToken.subscribe(r),a.signal&&(a.signal.aborted?r():a.signal.addEventListener("abort",r)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);v&&-1===Kt.protocols.indexOf(v)?n(new Pt("Unsupported protocol "+v+":",Pt.ERR_BAD_REQUEST,e)):f.send(s||null)}))},kn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const s=function(e){if(!n){n=!0,r();const t=e instanceof Error?e:this.reason;a.abort(t instanceof Pt?t:new dn(t instanceof Error?t.message:t))}};let l=t&&setTimeout((()=>{l=null,s(new Pt("timeout ".concat(t," of ms exceeded"),Pt.ETIMEDOUT))}),t);const r=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:i}=a;return i.unsubscribe=()=>St.asap(r),i}};function Sn(e,t){this.v=e,this.k=t}function Cn(e){return function(){return new _n(e.apply(this,arguments))}}function _n(e){var t,n;function a(t,n){try{var l=e[t](n),r=l.value,i=r instanceof Sn;Promise.resolve(i?r.v:r).then((function(n){if(i){var o="return"===t?"return":"next";if(!r.k||n.done)return a(o,n);n=e[o](n).value}s(l.done?"return":"normal",n)}),(function(e){a("throw",e)}))}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise((function(l,r){var i={key:e,arg:s,resolve:l,reject:r,next:null};n?n=n.next=i:(t=n=i,a(e,s))}))},"function"!=typeof e.return&&(this.return=void 0)}function En(e){return new Sn(e,0)}function Pn(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise((function(n){n(e[t](a))})),{done:!1,value:new Sn(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function Tn(e){var t,n,a,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new Dn(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Dn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Dn=function(e){this.s=e,this.n=e.next},Dn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Dn(e)}_n.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},_n.prototype.next=function(e){return this._invoke("next",e)},_n.prototype.throw=function(e){return this._invoke("throw",e)},_n.prototype.return=function(e){return this._invoke("return",e)};const Rn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,s=0;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},On=function(){var e=Cn((function*(e,t){var n,a=!1,s=!1;try{for(var l,r=Tn(Fn(e));a=!(l=yield En(r.next())).done;a=!1){const e=l.value;yield*Pn(Tn(Rn(e,t)))}}catch(i){s=!0,n=i}finally{try{a&&null!=r.return&&(yield En(r.return()))}finally{if(s)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),Fn=function(){var e=Cn((function*(e){if(e[Symbol.asyncIterator])return void(yield*Pn(Tn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield En(t.read());if(e)break;yield n}}finally{yield En(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),In=(e,t,n,a)=>{const s=On(e,t);let l,r=0,i=e=>{l||(l=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await s.next();if(t)return i(),void e.close();let l=a.byteLength;if(n){let e=r+=l;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw i(t),t}},cancel:e=>(i(e),s.return())},{highWaterMark:2})},An="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ln=An&&"function"===typeof ReadableStream,Mn=An&&("function"===typeof TextEncoder?(zn=new TextEncoder,e=>zn.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var zn;const Un=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(am){return!1}},Bn=Ln&&Un((()=>{let e=!1;const t=new Request(Kt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Wn=Ln&&Un((()=>St.isReadableStream(new Response("").body))),qn={stream:Wn&&(e=>e.body)};var Hn;An&&(Hn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!qn[e]&&(qn[e]=St.isFunction(Hn[e])?t=>t[e]():(t,n)=>{throw new Pt("Response type '".concat(e,"' is not supported"),Pt.ERR_NOT_SUPPORT,n)})})));const Vn=async(e,t)=>{const n=St.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(St.isBlob(e))return e.size;if(St.isSpecCompliantForm(e)){const t=new Request(Kt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return St.isArrayBufferView(e)||St.isArrayBuffer(e)?e.byteLength:(St.isURLSearchParams(e)&&(e+=""),St.isString(e)?(await Mn(e)).byteLength:void 0)})(t):n},Gn=An&&(async e=>{let{url:t,method:n,data:a,signal:s,cancelToken:l,timeout:r,onDownloadProgress:i,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=Nn(e);c=c?(c+"").toLowerCase():"text";let h,p=kn([s,l&&l.toAbortSignal()],r);const f=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(o&&Bn&&"get"!==n&&"head"!==n&&0!==(x=await Vn(d,a))){let e,n=new Request(t,{method:"POST",body:a,duplex:"half"});if(St.isFormData(a)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=fn(x,pn(xn(o)));a=In(n.body,65536,e,t)}}St.isString(u)||(u=u?"include":"omit");const s="credentials"in Request.prototype;h=new Request(t,ze(ze({},m),{},{signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:s?u:void 0}));let l=await fetch(h);const r=Wn&&("stream"===c||"response"===c);if(Wn&&(i||r&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=l[t]}));const t=St.toFiniteNumber(l.headers.get("content-length")),[n,a]=i&&fn(t,pn(xn(i),!0))||[];l=new Response(In(l.body,65536,n,(()=>{a&&a(),f&&f()})),e)}c=c||"text";let v=await qn[St.findKey(qn,c)||"text"](l,e);return!r&&f&&f(),await new Promise(((t,n)=>{un(t,n,{data:v,headers:ln.from(l.headers),status:l.status,statusText:l.statusText,config:e,request:h})}))}catch(v){if(f&&f(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new Pt("Network Error",Pt.ERR_NETWORK,e,h),{cause:v.cause||v});throw Pt.from(v,v&&v.code,e,h)}}),Yn={http:null,xhr:wn,fetch:Gn};St.forEach(Yn,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(am){}Object.defineProperty(e,"adapterName",{value:t})}}));const $n=e=>"- ".concat(e),Kn=e=>St.isFunction(e)||null===e||!1===e,Jn=e=>{e=St.isArray(e)?e:[e];const{length:t}=e;let n,a;const s={};for(let l=0;l<t;l++){let t;if(n=e[l],a=n,!Kn(n)&&(a=Yn[(t=String(n)).toLowerCase()],void 0===a))throw new Pt("Unknown adapter '".concat(t,"'"));if(a)break;s[t||"#"+l]=a}if(!a){const e=Object.entries(s).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map($n).join("\n"):" "+$n(e[0]):"as no adapter specified";throw new Pt("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return a};function Qn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dn(null,e)}function Xn(e){Qn(e),e.headers=ln.from(e.headers),e.data=rn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Jn(e.adapter||Xt.adapter)(e).then((function(t){return Qn(e),t.data=rn.call(e,e.transformResponse,t),t.headers=ln.from(t.headers),t}),(function(t){return on(t)||(Qn(e),t&&t.response&&(t.response.data=rn.call(e,e.transformResponse,t.response),t.response.headers=ln.from(t.response.headers))),Promise.reject(t)}))}const Zn="1.9.0",ea={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ea[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ta={};ea.transitional=function(e,t,n){function a(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,l)=>{if(!1===e)throw new Pt(a(s," has been removed"+(t?" in "+t:"")),Pt.ERR_DEPRECATED);return t&&!ta[s]&&(ta[s]=!0,console.warn(a(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,l)}},ea.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const na={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Pt("options must be an object",Pt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const l=a[s],r=t[l];if(r){const t=e[l],n=void 0===t||r(t,l,e);if(!0!==n)throw new Pt("option "+l+" must be "+n,Pt.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Pt("Unknown option "+l,Pt.ERR_BAD_OPTION)}},validators:ea},aa=na.validators;class sa{constructor(e){this.defaults=e||{},this.interceptors={request:new Bt,response:new Bt}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(am){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=yn(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:s}=t;void 0!==n&&na.assertOptions(n,{silentJSONParsing:aa.transitional(aa.boolean),forcedJSONParsing:aa.transitional(aa.boolean),clarifyTimeoutError:aa.transitional(aa.boolean)},!1),null!=a&&(St.isFunction(a)?t.paramsSerializer={serialize:a}:na.assertOptions(a,{encode:aa.function,serialize:aa.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),na.assertOptions(t,{baseUrl:aa.spelling("baseURL"),withXsrfToken:aa.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=s&&St.merge(s.common,s[t.method]);s&&St.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=ln.concat(l,s);const r=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));const o=[];let c;this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)}));let d,u=0;if(!i){const e=[Xn.bind(this),void 0];for(e.unshift.apply(e,r),e.push.apply(e,o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=r.length;let m=t;for(u=0;u<d;){const e=r[u++],t=r[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=Xn.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return Ut(bn((e=yn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}St.forEach(["delete","get","head","options"],(function(e){sa.prototype[e]=function(t,n){return this.request(yn(n||{},{method:e,url:t,data:(n||{}).data}))}})),St.forEach(["post","put","patch"],(function(e){function t(t){return function(n,a,s){return this.request(yn(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}sa.prototype[e]=t(),sa.prototype[e+"Form"]=t(!0)}));const la=sa;class ra{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const a=new Promise((e=>{n.subscribe(e),t=e})).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e((function(e,a,s){n.reason||(n.reason=new dn(e,a,s),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ra((function(t){e=t})),cancel:e}}}const ia=ra;const oa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oa).forEach((e=>{let[t,n]=e;oa[n]=t}));const ca=oa;const da=function e(t){const n=new la(t),a=Ue(la.prototype.request,n);return St.extend(a,la.prototype,n,{allOwnKeys:!0}),St.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(yn(t,n))},a}(Xt);da.Axios=la,da.CanceledError=dn,da.CancelToken=ia,da.isCancel=on,da.VERSION=Zn,da.toFormData=Ft,da.AxiosError=Pt,da.Cancel=da.CanceledError,da.all=function(e){return Promise.all(e)},da.spread=function(e){return function(t){return e.apply(null,t)}},da.isAxiosError=function(e){return St.isObject(e)&&!0===e.isAxiosError},da.mergeConfig=yn,da.AxiosHeaders=ln,da.formToJSON=e=>Jt(St.isHTMLForm(e)?new FormData(e):e),da.getAdapter=Jn,da.HttpStatusCode=ca,da.default=da;const ua=da,ma=e=>{try{if(!e)return null;const t=e.split(".");if(3!==t.length)return null;const n=t[1];return JSON.parse(atob(n.replace(/-/g,"+").replace(/_/g,"/")))}catch(t){return console.error("Error decoding JWT:",t),null}},ha=e=>{try{const t=ma(e);if(!t||!t.exp)return!0;const n=Math.floor(Date.now()/1e3);return t.exp<n}catch(t){return console.error("Error checking token expiration:",t),!0}},pa=e=>{try{const t=(e=>{try{const t=ma(e);return t&&t.exp?1e3*t.exp:null}catch(t){return console.error("Error getting token expiration:",t),null}})(e);if(!t)return 0;const n=t-Date.now();return Math.max(0,n)}catch(t){return console.error("Error calculating time until expiration:",t),0}},fa=()=>{const e=localStorage.getItem("clientToken"),t=localStorage.getItem("adminToken"),n=localStorage.getItem("coachToken"),a={clientToken:{exists:!!e,expired:!!e&&ha(e),timeRemaining:e?pa(e):0},adminToken:{exists:!!t,expired:!!t&&ha(t),timeRemaining:t?pa(t):0},coachToken:{exists:!!n,expired:!!n&&ha(n),timeRemaining:n?pa(n):0}};return console.log("Token validation results:",a),a},xa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"invalid";if(console.log("Auth error: ".concat(t," on path ").concat(e)),e.startsWith("/admin")?(localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),console.log("Cleared admin tokens due to auth error")):e.startsWith("/coach")?(localStorage.removeItem("coachToken"),localStorage.removeItem("coachUser"),console.log("Cleared coach tokens due to auth error")):(localStorage.removeItem("clientToken"),localStorage.removeItem("clientUser"),console.log("Cleared client tokens due to auth error")),localStorage.removeItem("token"),localStorage.removeItem("user"),window.authLogout){const n=e.startsWith("/admin")?"admin":e.startsWith("/coach")?"coach":"client";window.authLogout(n,t)}if(!e.includes("/login")){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname;return e.startsWith("/admin")?"/admin/login":e.startsWith("/coach")?"/coach/login":"/login"}(e),a=new URL(n,window.location.origin);"expired"===t&&a.searchParams.set("reason","session_expired"),window.location.href=a.toString()}},va=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname,t=null;return t=e.startsWith("/admin")?localStorage.getItem("adminToken")||localStorage.getItem("token"):e.startsWith("/coach")?localStorage.getItem("coachToken")||localStorage.getItem("token"):localStorage.getItem("clientToken")||localStorage.getItem("token"),t&&ha(t)?(console.log("Token is expired, triggering auth error"),xa(e,"expired"),null):t};ua.defaults.baseURL="",ua.interceptors.request.use((e=>{const t=va();if(t){if(ha(t))return console.log("Token expired during request preparation"),xa(window.location.pathname,"expired"),Promise.reject(new Error("Token expired"));e.headers.Authorization="Bearer ".concat(t)}return e}),(e=>Promise.reject(e))),ua.interceptors.response.use((e=>e),(e=>{var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)){var n,a;const t=null===(n=e.config)||void 0===n||null===(a=n.headers)||void 0===a?void 0:a.Authorization,s=null===t||void 0===t?void 0:t.replace("Bearer ","");s&&ha(s)?(console.log("Request failed due to expired token"),xa(window.location.pathname,"expired")):(console.log("Request failed due to invalid token"),xa(window.location.pathname,"invalid"))}return Promise.reject(e)}));const ga=ua;var ba=n(414);const ja=["token"],ya=(0,a.createContext)(),Na=e=>{let{children:t}=e;const[n,s]=(0,a.useState)(null),[l,r]=(0,a.useState)(null),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)({}),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expired";console.log("Auto-logout triggered for ".concat(e,": ").concat(t)),"client"!==e&&"all"!==e||(localStorage.removeItem("clientToken"),localStorage.removeItem("clientUser"),s(null)),"admin"!==e&&"all"!==e||(localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),r(null)),"coach"!==e&&"all"!==e||(localStorage.removeItem("coachToken"),localStorage.removeItem("coachUser"),o(null)),delete ga.defaults.headers.common.Authorization,"expired"===t&&console.log("Session expired. Please log in again.")},p=()=>{const e=fa(),t={};if(Object.values(u).forEach((e=>{e&&clearTimeout(e)})),e.clientToken.exists&&!e.clientToken.expired){const n=e.clientToken.timeRemaining;n>0&&(t.client=setTimeout((()=>{console.log("Client token expired - auto logout"),h("client","expired")}),n),console.log("Client token expires in ".concat(Math.round(n/1e3/60)," minutes")))}if(e.adminToken.exists&&!e.adminToken.expired){const n=e.adminToken.timeRemaining;n>0&&(t.admin=setTimeout((()=>{console.log("Admin token expired - auto logout"),h("admin","expired")}),n),console.log("Admin token expires in ".concat(Math.round(n/1e3/60)," minutes")))}if(e.coachToken.exists&&!e.coachToken.expired){const n=e.coachToken.timeRemaining;n>0&&(t.coach=setTimeout((()=>{console.log("Coach token expired - auto logout"),h("coach","expired")}),n),console.log("Coach token expires in ".concat(Math.round(n/1e3/60)," minutes")))}m(t)};(0,a.useEffect)((()=>(window.authLogout=h,()=>{delete window.authLogout})),[]),(0,a.useEffect)((()=>{(async()=>{try{(()=>{const e=fa();e.clientToken.exists&&e.clientToken.expired&&(localStorage.removeItem("clientToken"),localStorage.removeItem("clientUser"),console.log("Removed expired client token")),e.adminToken.exists&&e.adminToken.expired&&(localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),console.log("Removed expired admin token")),e.coachToken.exists&&e.coachToken.expired&&(localStorage.removeItem("coachToken"),localStorage.removeItem("coachUser"),console.log("Removed expired coach token"))})();const e=window.location.pathname,t=e.startsWith("/coach"),n=e.startsWith("/admin"),a=localStorage.getItem("clientToken"),l=JSON.parse(localStorage.getItem("clientUser")||"null"),i=localStorage.getItem("adminToken"),c=JSON.parse(localStorage.getItem("adminUser")||"null"),d=localStorage.getItem("coachToken"),u=JSON.parse(localStorage.getItem("coachUser")||"null");s(null),o(null),delete ga.defaults.headers.common.Authorization;const m=a&&!ha(a),h=i&&!ha(i),f=d&&!ha(d);t?f&&u?(console.log("Setting coach user for coach path",u),o(ze(ze({},u),{},{role:"coach"})),s(ze(ze({},u),{},{role:"coach"})),ga.defaults.headers.common.Authorization="Bearer ".concat(d)):(console.log("No valid coach token or user data found"),d&&!f&&(localStorage.removeItem("coachToken"),localStorage.removeItem("coachUser"))):n?h&&c?(r(c),ga.defaults.headers.common.Authorization="Bearer ".concat(i)):(r(null),i&&!h&&(localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"))):(m&&l?(s(l),ga.defaults.headers.common.Authorization="Bearer ".concat(a)):(s(null),a&&!m&&(localStorage.removeItem("clientToken"),localStorage.removeItem("clientUser"))),h&&c?r(c):i&&!h&&(localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser")),o(null)),p()}catch(e){console.error("Error initializing auth context:",e),localStorage.removeItem("clientToken"),localStorage.removeItem("clientUser"),localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),localStorage.removeItem("lastLoginType")}finally{d(!1)}})()}),[]);const f=e=>{if(console.log("Updating points for user:",e),"admin"===e.role)console.log("Updating admin user points from",null===l||void 0===l?void 0:l.points,"to",e.points),r(e),localStorage.setItem("adminUser",JSON.stringify(e));else{console.log("Updating client user points from","solo: ".concat(null===n||void 0===n?void 0:n.solo_points,", team: ").concat(null===n||void 0===n?void 0:n.team_points),"to","solo: ".concat(e.solo_points,", team: ").concat(e.team_points)),s((t=>ze(ze({},t),{},{points:e.points,solo_points:e.solo_points,team_points:e.team_points})));const t=ze(ze({},JSON.parse(localStorage.getItem("clientUser")||"{}")),{},{points:e.points,solo_points:e.solo_points,team_points:e.team_points});localStorage.setItem("clientUser",JSON.stringify(t)),console.log("Points updated successfully")}window.dispatchEvent(new CustomEvent("pointsUpdated",{detail:{userType:"admin"===e.role?"admin":"client",points:e.points}}))};window.updateUserPoints=f,(0,a.useEffect)((()=>()=>{Object.values(u).forEach((e=>{e&&clearTimeout(e)}))}),[u]);const x={currentUser:n,adminUser:l,coachUser:i,setCurrentUser:s,setAdminUser:r,setCoachUser:o,loading:c,login:async(e,t)=>{try{const n=await ga.post("/api/auth/login",{matricule:e,password:t}),{token:a,userId:s,role:l,points:i,username:o,matricule:c}=n.data;if("admin"!==l)throw new Error("This login is for admins only");const d={id:s,username:o,matricule:c,role:l,points:i||0};return localStorage.setItem("adminToken",a),localStorage.setItem("adminUser",JSON.stringify(d)),localStorage.setItem("lastLoginType","admin"),ga.defaults.headers.common.Authorization="Bearer ".concat(a),r(d),p(),d}catch(n){throw console.error("Admin login error:",n),n}},logout:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";console.log("Logging out:",e),Object.values(u).forEach((e=>{e&&clearTimeout(e)})),m({}),delete ga.defaults.headers.common.Authorization,"all"!==e&&"client"!==e&&"user"!==e||(localStorage.removeItem("clientToken"),localStorage.removeItem("clientUser"),s(null),console.log("Client/user logged out")),"all"!==e&&"coach"!==e||(localStorage.removeItem("coachToken"),localStorage.removeItem("coachUser"),o(null),window.location.pathname.startsWith("/coach")&&s(null),console.log("Coach logged out")),"all"!==e&&"admin"!==e||(localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),r(null),window.location.pathname.startsWith("/admin")&&s(null),console.log("Admin logged out"));const t=window.location.pathname;if(t.startsWith("/coach")){const e=localStorage.getItem("coachToken");e&&(ga.defaults.headers.common.Authorization="Bearer ".concat(e))}else if(t.startsWith("/admin")){const e=localStorage.getItem("adminToken");e&&(ga.defaults.headers.common.Authorization="Bearer ".concat(e))}else{const e=localStorage.getItem("clientToken");e&&(ga.defaults.headers.common.Authorization="Bearer ".concat(e))}console.log("Logout completed")},register:async e=>{try{const t=await ga.post("/api/auth/register",e),{token:n,user:a}=t.data;return localStorage.setItem("clientToken",n),localStorage.setItem("clientUser",JSON.stringify(a)),localStorage.setItem("lastLoginType","client"),ga.defaults.headers.common.Authorization="Bearer ".concat(n),s(a),p(),a}catch(t){throw console.error("Registration error:",t),t}},clientLogin:async(e,t)=>{try{const n=await ga.post("/api/auth/client-login",{email:e,password:t}),{token:a,userId:l,role:r,points:i,solo_points:o,team_points:c,username:d,matricule:u,full_name:m,email:h,phone:f,age:x,gender:v,goal:g}=n.data,b={id:l,username:d,matricule:u,email:h,role:r,points:i||0,solo_points:o||0,team_points:c||0,full_name:m,phone:f,age:x,gender:v,goal:g};return localStorage.setItem("clientToken",a),localStorage.setItem("clientUser",JSON.stringify(b)),localStorage.setItem("lastLoginType","client"),ga.defaults.headers.common.Authorization="Bearer ".concat(a),s(b),p(),b}catch(n){throw console.error("Client login error:",n),n}},coachLogin:async(e,t)=>{try{const n=(await ga.post("/api/auth/coach-login",{matricule:e,password:t})).data,{token:a}=n,l=Fe(n,ja);localStorage.setItem("coachToken",a),localStorage.setItem("coachUser",JSON.stringify(ze(ze({},l),{},{role:"coach"}))),ga.defaults.headers.common.Authorization="Bearer ".concat(a);const r=ze(ze({},l),{},{role:"coach"});return o(r),window.location.pathname.startsWith("/coach")?s(r):s(null),p(),l}catch(n){throw console.error("Coach login error:",n),n}},updatePoints:f,autoLogout:h,isAdmin:"admin"===(null===l||void 0===l?void 0:l.role),isCoach:window.location.pathname.startsWith("/coach")&&"coach"===(null===i||void 0===i?void 0:i.role),isUser:!window.location.pathname.startsWith("/coach")&&!window.location.pathname.startsWith("/admin")&&localStorage.getItem("clientToken")&&"user"===(null===n||void 0===n?void 0:n.role)};return(0,ba.jsx)(ya.Provider,{value:x,children:!c&&t})},wa=e=>{let{showAdminLink:t=!1,showCoachLink:n=!1}=e;const{currentUser:s,adminUser:l,coachUser:r,logout:i,isAdmin:o,isCoach:c}=(0,a.useContext)(ya),[d,u]=(0,a.useState)((null===s||void 0===s?void 0:s.points)||0),m=te();(0,a.useEffect)((()=>{s&&u(s.points||0);const e=e=>{console.log("Points updated event received in Navbar:",e.detail),"client"===e.detail.userType&&u(e.detail.points)};return window.addEventListener("pointsUpdated",e),()=>{window.removeEventListener("pointsUpdated",e)}}),[s]);const h=window.location.pathname,p=h.startsWith("/coach"),f=e=>{i(e),m("admin"===e?"/admin/login":"coach"===e?"/coach/login":"/",{replace:!0})};return t?(0,ba.jsx)("nav",{className:"navbar navbar-expand-lg",style:{backgroundColor:"var(--bg-dark)"},children:(0,ba.jsxs)("div",{className:"container",children:[(0,ba.jsxs)(Pe,{className:"navbar-brand d-flex align-items-center",to:"/admin",children:[(0,ba.jsx)("img",{src:"/logo_white.png",alt:"Suite Coaching Logo",height:"40",className:"me-2"}),(0,ba.jsx)("span",{style:{color:"var(--primary-color)",fontWeight:"bold"},children:"Suite Coaching"})]}),(0,ba.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav",style:{backgroundColor:"var(--highlight-color)"},children:(0,ba.jsx)("span",{className:"navbar-toggler-icon"})}),"        ",(0,ba.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:(0,ba.jsxs)("ul",{className:"navbar-nav ms-auto",children:[!l&&(0,ba.jsx)("li",{className:"nav-item",children:(0,ba.jsx)("div",{className:"d-flex align-items-center",children:(0,ba.jsxs)(Pe,{className:"btn login-button me-2",to:"/admin/login",children:[(0,ba.jsx)("i",{className:"fas fa-sign-in-alt me-1"})," Admin"]})})}),l?(0,ba.jsxs)("li",{className:"nav-item dropdown",children:[(0,ba.jsxs)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",style:{color:"#333333"},children:[(0,ba.jsx)("i",{className:"fas fa-user-circle me-1"}),l.username]}),(0,ba.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarDropdown",style:{backgroundColor:"#f8f9fa",borderColor:"#0099CC"},children:[(0,ba.jsx)("li",{children:(0,ba.jsxs)("span",{className:"dropdown-item-text text-muted",children:[(0,ba.jsx)("i",{className:"fas fa-id-card me-2"}),"Matricule: ",l.matricule]})}),(0,ba.jsx)("li",{children:(0,ba.jsx)("hr",{className:"dropdown-divider"})}),o&&(0,ba.jsx)("li",{children:(0,ba.jsxs)(Pe,{className:"dropdown-item",to:"/admin",style:{color:"#333333"},children:[(0,ba.jsx)("i",{className:"fas fa-cogs me-2"}),"Admin Panel"]})}),(0,ba.jsx)("li",{children:(0,ba.jsxs)("button",{className:"dropdown-item",onClick:()=>f("admin"),style:{color:"#333333"},children:[(0,ba.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"Logout"]})})]})]}):null]})})]})}):(0,ba.jsx)("nav",{className:"navbar navbar-expand-lg ".concat(p?"d-none d-md-block":""),style:{backgroundColor:"var(--bg-dark)",color:"var(--primary-color)"},children:(0,ba.jsxs)("div",{className:"container",children:[(0,ba.jsxs)(Pe,{className:"navbar-brand d-flex align-items-center",to:p&&r?"/coach":"/",children:[(0,ba.jsx)("img",{src:"/logo_white.png",alt:"Suite Coaching Logo",height:"40",className:"me-2"}),(0,ba.jsx)("span",{style:{color:"var(--primary-color)",fontWeight:"bold"},children:"Suite Coaching"})]}),(0,ba.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarClientNav",style:{backgroundColor:"var(--secondary-color)"},children:(0,ba.jsx)("span",{className:"navbar-toggler-icon"})}),(0,ba.jsx)("div",{className:"collapse navbar-collapse",id:"navbarClientNav",children:(0,ba.jsxs)("ul",{className:"navbar-nav ms-auto",children:["              ",p||n||!s||"user"!==s.role?p&&r&&"coach"===r.role?(0,ba.jsxs)("li",{className:"nav-item dropdown",children:[(0,ba.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarCoachDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",style:{color:"var(--primary-color)"},children:(0,ba.jsxs)("div",{className:"d-flex align-items-center",children:[(0,ba.jsx)("img",{src:r.photo||"https://via.placeholder.com/60x60?text=Coach",alt:r.name,className:"rounded-circle me-2",style:{width:"55px",height:"55px",objectFit:"cover",border:"2px solid var(--primary-color)"}}),(0,ba.jsx)("span",{children:r.name||r.username})]})}),(0,ba.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarCoachDropdown",style:{backgroundColor:"var(--secondary-color)",borderColor:"var(--highlight-color)"},children:[(0,ba.jsx)("li",{children:(0,ba.jsxs)("span",{className:"dropdown-item-text",children:[(0,ba.jsx)("i",{className:"fas fa-id-badge me-2"}),r.matricule]})}),(0,ba.jsx)("li",{children:(0,ba.jsx)("hr",{className:"dropdown-divider",style:{borderColor:"var(--highlight-color)",opacity:.2}})}),(0,ba.jsx)("li",{children:(0,ba.jsxs)("button",{className:"dropdown-item",onClick:()=>f("coach"),style:{color:"var(--primary-color)"},children:[(0,ba.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"Logout"]})})]})]}):(0,ba.jsxs)("div",{className:"d-flex",children:[!p&&(0,ba.jsx)("li",{className:"nav-item me-2",children:(0,ba.jsxs)(Pe,{className:"nav-link",to:"/login",style:{color:"var(--primary-color)"},children:[(0,ba.jsx)("i",{className:"fas fa-sign-in-alt me-1"})," Client Login"]})}),p&&!h.includes("/coach/login")&&(0,ba.jsx)("li",{className:"nav-item",children:(0,ba.jsxs)(Pe,{className:"nav-link",to:"/coach/login",style:{color:"var(--primary-color)"},children:[(0,ba.jsx)("i",{className:"fas fa-user-tie me-1"})," Coach Login"]})})]}):(0,ba.jsxs)("li",{className:"nav-item dropdown",children:[(0,ba.jsxs)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarClientDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",style:{color:"var(--primary-color)"},children:[(0,ba.jsx)("i",{className:"fas fa-user-circle me-1"}),s.username]}),(0,ba.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarClientDropdown",style:{backgroundColor:"var(--secondary-color)",borderColor:"var(--highlight-color)"},children:[(0,ba.jsx)("li",{children:(0,ba.jsxs)("span",{className:"dropdown-item-text",children:[(0,ba.jsx)("i",{className:"fas fa-envelope me-2"}),s.email]})}),(0,ba.jsx)("li",{children:(0,ba.jsxs)("span",{className:"dropdown-item-text",children:[(0,ba.jsx)("i",{className:"fas fa-star me-2",style:{color:"var(--highlight-color)"}}),"Points: ",d,(0,ba.jsx)("small",{className:"ms-2",style:{color:"var(--highlight-color)"},children:"(Updates instantly)"})]})}),(0,ba.jsx)("li",{children:(0,ba.jsx)("hr",{className:"dropdown-divider",style:{borderColor:"var(--highlight-color)",opacity:.2}})}),(0,ba.jsx)("li",{children:(0,ba.jsxs)(Pe,{className:"dropdown-item",to:"/profile",style:{color:"var(--primary-color)"},children:[(0,ba.jsx)("i",{className:"fas fa-user me-2"}),"My Profile"]})}),(0,ba.jsx)("li",{children:(0,ba.jsxs)(Pe,{className:"dropdown-item",to:"/packs",style:{color:"var(--primary-color)"},children:[(0,ba.jsx)("i",{className:"fas fa-gift me-2"}),"View Packs"]})}),(0,ba.jsx)("li",{children:(0,ba.jsxs)("button",{className:"dropdown-item",onClick:()=>f("client"),style:{color:"var(--primary-color)"},children:[(0,ba.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"Logout"]})})]})]})]})})]})})},ka=e=>{let{children:t,showAdminLink:n=!1,showCoachLink:s=!1}=e;const[l,r]=(0,a.useState)(window.innerWidth<768);return(0,a.useEffect)((()=>{const e=()=>{r(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,ba.jsxs)(ba.Fragment,{children:[!l&&(0,ba.jsx)(wa,{showAdminLink:n,showCoachLink:s}),t]})},Sa=()=>{const[e,t]=(0,a.useState)(!1),[n,s]=(0,a.useState)(null),{currentUser:l,adminUser:r,coachUser:i,logout:o}=(0,a.useContext)(ya);(0,a.useEffect)((()=>{const e=()=>{const e=fa(),n=window.location.pathname;let a=null,l="";if(n.startsWith("/admin")&&e.adminToken.exists?(a=e.adminToken,l="admin"):n.startsWith("/coach")&&e.coachToken.exists?(a=e.coachToken,l="coach"):e.clientToken.exists&&(a=e.clientToken,l="client"),a&&!a.expired){const e=a.timeRemaining,n=Math.floor(e/1e3/60);n<=15&&n>0?(s({userType:l,minutesRemaining:n,timeRemaining:e}),t(!0)):t(!1)}else t(!1)};e();const n=setInterval(e,6e4);return()=>clearInterval(n)}),[l,r,i]);return e&&n?(0,ba.jsxs)("div",{className:"alert alert-warning position-fixed",style:{top:"20px",right:"20px",zIndex:9999,maxWidth:"400px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"},children:[(0,ba.jsxs)("div",{className:"d-flex align-items-center",children:[(0,ba.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),(0,ba.jsxs)("div",{className:"flex-grow-1",children:[(0,ba.jsx)("strong",{children:"Session Expiring Soon!"}),(0,ba.jsxs)("div",{className:"small",children:["Your ",n.userType," session will expire in ",n.minutesRemaining," minute",1!==n.minutesRemaining?"s":"","."]})]})]}),(0,ba.jsxs)("div",{className:"mt-2",children:[(0,ba.jsx)("button",{className:"btn btn-warning btn-sm me-2",onClick:()=>{t(!1),console.log("Session extension requested - would typically refresh token here")},children:"Stay Logged In"}),(0,ba.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>{const e=(null===n||void 0===n?void 0:n.userType)||"all";o(e)},children:"Logout Now"})]})]}):null},Ca=ua.create({baseURL:"https://coachreservation-0caad91c51ab.herokuapp.com/",withCredentials:!0,headers:{"Content-Type":"application/json"}});Ca.interceptors.request.use((e=>{const t=va();return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),Ca.interceptors.response.use((e=>e),(e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&xa(),Promise.reject(e)}));const _a=Ca,Ea=e=>{let{coach:t,onReserve:n}=e;return(0,ba.jsx)("div",{className:"col-md-6 col-lg-4 mb-4 fade-in",children:(0,ba.jsx)("div",{className:"card h-100 coach-card",style:{borderColor:"var(--highlight-color)"},children:(0,ba.jsxs)("div",{className:"card-body text-center",children:[(0,ba.jsxs)("div",{className:"position-relative d-inline-block",children:[(0,ba.jsx)("img",{src:t.photo,alt:t.name,className:"coach-photo mb-3"}),(0,ba.jsx)("span",{className:"position-absolute bottom-0 end-0 bg-success text-white rounded-circle p-2 shadow-sm",children:(0,ba.jsx)("i",{className:"fas fa-check-circle"})})]}),(0,ba.jsx)("h5",{className:"card-title",style:{color:"var(--secondary-color)"},children:t.name}),(0,ba.jsxs)("h6",{className:"card-subtitle mb-2",style:{color:"var(--highlight-color)"},children:[(0,ba.jsx)("i",{className:"fas fa-award me-1"}),t.specialty]}),(0,ba.jsx)("div",{className:"card-text mb-3",style:{color:"var(--text-color)"},children:t.bio}),(0,ba.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,ba.jsxs)("button",{className:"btn",onClick:()=>n(t),style:{backgroundColor:"var(--highlight-color)",color:"white"},children:[(0,ba.jsx)("i",{className:"far fa-calendar-alt me-2"}),"R\xe9server une S\xe9ance"]})})]})})})},Pa=["confirmPassword","goals"],Ta=e=>{let{coach:t,onClose:n,onRegisterSuccess:s,initialData:l={}}=e;const{register:r}=(0,a.useContext)(ya),i=te(),[o,c]=(0,a.useState)({username:"",email:l.email||"",password:"",confirmPassword:"",full_name:l.full_name||"",phone:l.phone||"",age:l.age||"",gender:l.gender||"",goals:l.goal?l.goal.split(", "):[]});(0,a.useEffect)((()=>{c((e=>ze(ze({},e),{},{email:l.email||e.email,full_name:l.full_name||e.full_name,phone:l.phone||e.phone,age:l.age||e.age,gender:l.gender||e.gender,goals:l.goal?l.goal.split(", "):e.goals})))}),[l]);const[d,u]=(0,a.useState)(!1),[m,h]=(0,a.useState)(""),p=e=>{const{name:t,value:n,type:a,checked:s}=e.target;c("goalCheckbox"===t?e=>{const t=[...e.goals];if(s)t.includes(n)||t.push(n);else{const e=t.indexOf(n);e>-1&&t.splice(e,1)}return ze(ze({},e),{},{goals:t})}:e=>ze(ze({},e),{},{[t]:n}))};return(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"modal-backdrop",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.85)",zIndex:1e4}}),(0,ba.jsx)("div",{className:"modal show d-block",tabIndex:"-1",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:10001,paddingTop:"30px",overflow:"auto"},children:(0,ba.jsxs)("div",{className:"modal-dialog modal-lg",style:{marginTop:"50px",position:"relative"},children:[(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",children:["            ",(0,ba.jsxs)("h5",{className:"modal-title",children:[(0,ba.jsx)("i",{className:"fas fa-user-plus me-2"}),"S'inscrire pour r\xe9server avec ",null===t||void 0===t?void 0:t.name]}),(0,ba.jsx)("button",{type:"button",className:"btn-close",onClick:n})]}),(0,ba.jsxs)("div",{className:"modal-body",children:[m&&(0,ba.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,ba.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),m]}),(0,ba.jsx)("p",{className:"text-muted mb-4",children:"Cr\xe9ez un compte pour r\xe9server facilement des s\xe9ances avec nos coachs. Vos informations seront enregistr\xe9es pour les r\xe9servations futures."}),(0,ba.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h(""),o.password!==o.confirmPassword?(h("Les mots de passe ne correspondent pas"),0):o.password.length<6?(h("Le mot de passe doit comporter au moins 6 caract\xe8res"),0):o.email.includes("@")||(h("Veuillez entrer une adresse e-mail valide"),0)){u(!0);try{const{confirmPassword:e,goals:t}=o,n=Fe(o,Pa),a=t.join(", ");console.log("Submitting registration data:",ze(ze({},n),{},{goal:a}));const l=await r(ze(ze({},n),{},{goal:a}));console.log("Registration successful:",l),s&&s(l)}catch(m){var t,n;console.error("Registration error:",m);const a=(null===(t=m.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"\xc9chec de l'inscription. Veuillez r\xe9essayer.";console.log("Error details:",a),h(a)}finally{u(!1)}}},children:[(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-6",children:["                  ",(0,ba.jsx)("h6",{className:"mb-3",children:"Informations du compte"}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{htmlFor:"username",className:"form-label",children:"Nom d'utilisateur"}),(0,ba.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",value:o.username,onChange:p,required:!0})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),(0,ba.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",value:o.email,onChange:p,required:!0})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{htmlFor:"password",className:"form-label",children:"Mot de passe"}),(0,ba.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",value:o.password,onChange:p,required:!0})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirmer le mot de passe"}),(0,ba.jsx)("input",{type:"password",className:"form-control",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:p,required:!0})]})]}),(0,ba.jsxs)("div",{className:"col-md-6",children:[(0,ba.jsx)("h6",{className:"mb-3",children:"Informations personnelles"}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{htmlFor:"full_name",className:"form-label",children:"Nom complet"}),(0,ba.jsx)("input",{type:"text",className:"form-control",id:"full_name",name:"full_name",value:o.full_name,onChange:p,required:!0})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Num\xe9ro de t\xe9l\xe9phone"}),(0,ba.jsx)("input",{type:"tel",className:"form-control",id:"phone",name:"phone",value:o.phone,onChange:p,required:!0})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{htmlFor:"age",className:"form-label",children:"\xc2ge"}),(0,ba.jsx)("input",{type:"number",className:"form-control",id:"age",name:"age",value:o.age,onChange:p,min:"1",max:"120",required:!0})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:["                        ",(0,ba.jsx)("label",{htmlFor:"gender",className:"form-label",children:"Genre"}),(0,ba.jsxs)("select",{className:"form-select",id:"gender",name:"gender",value:o.gender,onChange:p,required:!0,children:[(0,ba.jsx)("option",{value:"",children:"S\xe9lectionner"}),(0,ba.jsx)("option",{value:"male",children:"Homme"}),(0,ba.jsx)("option",{value:"female",children:"Femme"}),(0,ba.jsx)("option",{value:"other",children:"Autre"})]})]})})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Quels sont vos objectifs?"}),(0,ba.jsx)("div",{className:"goal-checkboxes border rounded p-3",style:{maxHeight:"200px",overflowY:"auto"},children:["correction de la posture","prise de masse","perte de poids","preparation physique","strongman","Renforcement musculaire","Tonification"].map(((e,t)=>(0,ba.jsxs)("div",{className:"form-check",children:[(0,ba.jsx)("input",{className:"form-check-input",type:"checkbox",id:"goal-".concat(t),name:"goalCheckbox",value:e,checked:o.goals.includes(e),onChange:p}),(0,ba.jsx)("label",{className:"form-check-label",htmlFor:"goal-".concat(t),children:e.charAt(0).toUpperCase()+e.slice(1)})]},t)))}),(0,ba.jsx)("small",{className:"form-text text-muted",children:"S\xe9lectionnez un ou plusieurs objectifs"})]})]})]}),(0,ba.jsx)("div",{className:"mt-4 text-center",children:(0,ba.jsx)("button",{type:"submit",className:"btn btn-primary px-5",disabled:d,children:d?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"                      Inscription en cours..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-user-plus me-2"}),"S'inscrire et continuer"]})})}),(0,ba.jsxs)("div",{className:"mt-3 text-center",children:["                ",(0,ba.jsxs)("p",{className:"mb-0",children:["Vous avez d\xe9j\xe0 un compte? ",(0,ba.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),i("/client/login")},children:"Connectez-vous ici"})]})]})]})]})]}),"      "]})})]})},Da=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:n="success",duration:a=5e3,title:s}=t,l=new CustomEvent("show-toast",{detail:{message:e,type:n,duration:a,title:s}});window.dispatchEvent(l)},Ra=()=>{const[e,t]=(0,a.useState)([]);if((0,a.useEffect)((()=>{const e=e=>{const{message:n,type:a="success",duration:s=5e3,title:l}=e.detail,r=Date.now();t((e=>[...e,{id:r,message:n,type:a,title:l}])),setTimeout((()=>{t((e=>e.filter((e=>e.id!==r))))}),s)};return window.addEventListener("show-toast",e),()=>{window.removeEventListener("show-toast",e)}}),[]),0===e.length)return null;const n=e=>{switch(e){case"success":default:return{backgroundColor:"#4CAF50",borderLeft:"5px solid #2E7D32"};case"error":return{backgroundColor:"#F44336",borderLeft:"5px solid #B71C1C"};case"warning":return{backgroundColor:"#FF9800",borderLeft:"5px solid #E65100"};case"info":return{backgroundColor:"#1e293b",borderLeft:"5px solid var(--highlight-color)"}}},s=e=>{switch(e){case"success":return"fas fa-check-circle";case"error":return"fas fa-exclamation-circle";case"warning":return"fas fa-exclamation-triangle";case"info":return"fas fa-info-circle";default:return"fas fa-bell"}};return(0,ba.jsx)("div",{className:"toast-container",style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999},children:e.map((e=>(0,ba.jsx)("div",{className:"toast show animate__animated animate__fadeIn",style:ze(ze({},n(e.type)),{},{color:"white",padding:"15px 20px",marginTop:"10px",borderRadius:"4px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",minWidth:"300px",opacity:1,transition:"all 0.3s ease",transform:"translateX(0)",animation:"fadeIn 0.3s"}),children:(0,ba.jsxs)("div",{className:"d-flex align-items-center",children:[(0,ba.jsx)("div",{className:"me-3",children:(0,ba.jsx)("i",{className:"".concat(s(e.type)," fa-lg")})}),(0,ba.jsxs)("div",{style:{flex:1},children:[e.title&&(0,ba.jsx)("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:e.title}),(0,ba.jsx)("div",{children:e.message})]}),(0,ba.jsx)("button",{type:"button",className:"btn-close ms-auto",onClick:()=>t((t=>t.filter((t=>t.id!==e.id)))),style:{color:"white"},"aria-label":"Close"})]})},e.id)))})},Oa=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(a)},Fa=e=>{const t="string"===typeof e?new Date(e):e,n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(a,"-").concat(s)},Ia=e=>e===Oa(),Aa=e=>{const t=new Date(e+"T00:00:00"),n=new Date;return n.setHours(0,0,0,0),t>=n},La=e=>{try{return new Date(e+"T00:00:00").toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(t){return console.error("Error formatting date:",t),e}},Ma=e=>{let{coach:t,onClose:n,onSuccess:s}=e;const[l,r]=(0,a.useState)({full_name:"",email:"",phone:"",age:"",gender:"",selectedSlot:null,session_type:"normal"}),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(null),[h,p]=(0,a.useState)([]),[f,x]=(0,a.useState)(new Date),[v,g]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!1),[y,N]=(0,a.useState)(!1),[w,k]=(0,a.useState)(!1),{currentUser:S,isUser:C,updatePoints:_}=(0,a.useContext)(ya),[E,P]=(0,a.useState)(0);(0,a.useEffect)((()=>{if(S&&C){D(),r((e=>ze(ze({},e),{},{full_name:S.full_name||"",email:S.email||"",phone:S.phone||"",age:S.age||"",gender:S.gender||""})));const e=S.points||0;e<1&&(Da("Vous avez besoin d'au moins 1 cr\xe9dit pour r\xe9server une s\xe9ance. Vous avez actuellement ".concat(e," cr\xe9dits. Veuillez contacter l'administrateur pour ajouter plus de cr\xe9dits."),{type:"warning",title:"Cr\xe9dits Insuffisants",duration:8e3}),n())}else N(!0)}),[t.id,S,C,n]);const T=async()=>{g(!0);try{console.log("\n=== RESERVATION FORM: Fetching availability for coach ".concat(t.id," (").concat(t.name,") ===")),console.log("Current date in browser:",Oa()),console.log("API URL being used:",ga.defaults.baseURL),(()=>{const e=new Date;console.log("=== DATE DEBUG INFO ==="),console.log("Browser timezone:",Intl.DateTimeFormat().resolvedOptions().timeZone),console.log("Current local date (new Date()):",e.toString()),console.log("Current UTC date (toISOString):",e.toISOString()),console.log("Current local date (our function):",Oa()),console.log("UTC date string:",e.toISOString().split("T")[0]),console.log("Local date string:",Fa(e)),console.log("Difference between UTC and local:",e.toISOString().split("T")[0]===Oa()?"Same":"Different"),console.log("=== END DEBUG INFO ===")})();if(!await M())throw new Error("Server is not responding");const e=await ga.get("/api/coaches/".concat(t.id,"/availability?session_type=").concat(l.session_type));if(console.log('\ud83d\udd0d FRONTEND DEBUG: Requesting session_type: "'.concat(l.session_type,'"')),console.log("\ud83d\udd0d FRONTEND DEBUG: Full API URL: /api/coaches/".concat(t.id,"/availability?session_type=").concat(l.session_type)),console.log("Availability response for ".concat(l.session_type," sessions: Found ").concat(e.data.length," slots")),e.data.length>0){console.log("All slots received:"),e.data.forEach(((e,t)=>{console.log("".concat(t+1,". Date: ").concat(e.date,", Time: ").concat(e.start_time,"-").concat(e.end_time,", Type: ").concat(e.session_type,", Duration: ").concat(e.duration,"min, ID: ").concat(e.id));try{const t=Fa(new Date(e.date)),n=Aa(t);console.log("   - Slot date parsed: ".concat(t)),console.log("   - Is in future: ".concat(n?"Yes":"No"))}catch(n){console.log("   - Error parsing date: ".concat(n.message))}}));const t=l.session_type,n=[...new Set(e.data.map((e=>e.session_type)))];console.log('\ud83d\udd0d FRONTEND: Requested session type: "'.concat(t,'"')),console.log("\ud83d\udd0d FRONTEND: Received session types: ".concat(JSON.stringify(n))),1===n.length&&n[0]===t?console.log("\u2705 FRONTEND: Session types match - all good!"):(console.log("\u274c FRONTEND: SESSION TYPE MISMATCH DETECTED!"),console.log('   - Expected: "'.concat(t,'"')),console.log("   - Got: ".concat(JSON.stringify(n))))}else console.log("No available slots found for this coach. This may be due to:"),console.log("1. No slots have been created for this coach"),console.log("2. All slots are in the past (before current date)"),console.log("3. All slots are already booked"),console.log("4. Server/database issues");const n=e.data.filter((e=>{try{const t=Fa(new Date(e.date));return Aa(t)}catch(t){return console.error("Error filtering slot:",t),!1}}));if(0===n.length)return console.log("2. All slots are in the past (before current date)"),void Da("Aucun cr\xe9neau disponible pour ce coach.",{type:"warning",title:"Aucun Cr\xe9neau Disponible",duration:8e3});o(n);const a=[...new Set(n.map((e=>Fa(new Date(e.date)))))].sort();d(a),console.log("Raw availability data:",e.data),console.log("Filtered future slots:",n),console.log("Sample raw slot:",e.data[0]),console.log("Unique dates extracted:",a),console.log("Sample date format check:",a[0]),console.log("Current local date for comparison:",Oa()),console.log("=== End of availability fetch ===\n")}catch(i){var e,n,a,s,r;console.error("Error fetching availability:",i),console.error("Error details:",{message:i.message,status:null===(e=i.response)||void 0===e?void 0:e.status,statusText:null===(n=i.response)||void 0===n?void 0:n.statusText,data:null===(a=i.response)||void 0===a?void 0:a.data});let t="Impossible de charger les cr\xe9neaux horaires disponibles.",l="Erreur de Chargement";"Server is not responding"!==i.message&&"NETWORK_ERROR"!==i.code&&i.response?500===(null===(s=i.response)||void 0===s?void 0:s.status)?(t="Erreur interne du serveur. Nos \xe9quipes techniques ont \xe9t\xe9 notifi\xe9es. Veuillez r\xe9essayer dans quelques minutes.",l="Erreur Serveur"):404===(null===(r=i.response)||void 0===r?void 0:r.status)&&(t="Coach non trouv\xe9 ou aucun cr\xe9neau configur\xe9 pour ce coach.",l="Coach Introuvable"):(t="Le serveur ne r\xe9pond pas. V\xe9rifiez votre connexion internet ou r\xe9essayez dans quelques minutes.",l="Erreur de Connexion"),Da(t,{type:"error",title:l,duration:8e3})}finally{g(!1)}},D=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{await T()}catch(t){e<3?(console.log("Retrying... Attempt ".concat(e+1,"/").concat(3)),P(e),setTimeout((()=>D(e+1)),2e3*e)):(P(3),console.log("Max retries reached"))}},R=e=>{const{name:n,value:a}=e.target;r((e=>ze(ze({},e),{},{[n]:a}))),"session_type"===n&&(console.log('\ud83d\udd0d FRONTEND DEBUG: Session type changed to: "'.concat(a,'"')),m(null),p([]),r((e=>ze(ze({},e),{},{[n]:a,selectedSlot:null}))),console.log('\ud83d\udd0d FRONTEND DEBUG: Form data updated with session_type: "'.concat(a,'"')),setTimeout((()=>{(async e=>{if(t&&e){console.log('\n\ud83d\udd0d FRONTEND: fetchAvailabilityWithSessionType called with sessionType: "'.concat(e,'"'));try{g(!0);const n=await ga.get("/api/coaches/".concat(t.id,"/availability?session_type=").concat(e));if(console.log('\ud83d\udd0d FRONTEND DEBUG: Direct session type request: "'.concat(e,'"')),console.log("\ud83d\udd0d FRONTEND DEBUG: API URL: /api/coaches/".concat(t.id,"/availability?session_type=").concat(e)),console.log("Availability response for ".concat(e," sessions: Found ").concat(n.data.length," slots")),n.data.length>0){console.log('\ud83d\udd0d FRONTEND: First 3 slots received for "'.concat(e,'":')),n.data.slice(0,3).forEach(((e,t)=>{console.log("  ".concat(t+1,". ").concat(e.start_time,"-").concat(e.end_time," (").concat(e.session_type,", ").concat(e.duration,"min)"))}));const t=e,a=[...new Set(n.data.map((e=>e.session_type)))];console.log('\ud83d\udd0d FRONTEND: Requested session type: "'.concat(t,'"')),console.log("\ud83d\udd0d FRONTEND: Received session types: ".concat(JSON.stringify(a))),1===a.length&&a[0]===t?console.log("\u2705 FRONTEND: Session types match - all good!"):(console.log("\u274c FRONTEND: SESSION TYPE MISMATCH DETECTED!"),console.log('   - Expected: "'.concat(t,'"')),console.log("   - Got: ".concat(JSON.stringify(a))))}const a=n.data.filter((e=>{try{const t=Fa(new Date(e.date));return Aa(t)}catch(t){return console.log("Error parsing date for slot ".concat(e.id,": ").concat(t.message)),!1}}));if(0===a.length&&n.data.length>0)return void Da("Tous les cr\xe9neaux pour ce coach sont dans le pass\xe9. Veuillez contacter l'administrateur pour ajouter de nouveaux cr\xe9neaux.",{type:"warning",title:"Aucun Cr\xe9neau Futur",duration:8e3});o(a);const s=[...new Set(a.map((e=>Fa(new Date(e.date)))))].sort();d(s)}catch(a){var n;console.error("Error fetching availability for ".concat(e,":"),a);let t="Impossible de charger les cr\xe9neaux disponibles. Veuillez r\xe9essayer.",s="Erreur de Chargement";"ECONNABORTED"===a.code?(t="La connexion a expir\xe9. Veuillez v\xe9rifier votre connexion internet et r\xe9essayer.",s="Connexion Expir\xe9e"):404===(null===(n=a.response)||void 0===n?void 0:n.status)&&(t="Coach non trouv\xe9 ou aucun cr\xe9neau configur\xe9 pour ce coach.",s="Coach Introuvable"),Da(t,{type:"error",title:s,duration:8e3})}finally{g(!1)}}})(a)}),100))},O=e=>{try{if(console.log('Formatting time: "'.concat(e,'"')),!e)return console.warn("Invalid time string (empty or undefined)"),"Invalid time";if("string"===typeof e&&/^\d{2}:\d{2}:\d{2}$/.test(e)){const[t,n]=e.split(":");return new Date(2e3,0,1,t,n).toLocaleTimeString("fr-FR",{hour:"numeric",minute:"2-digit",hour12:!0})}const t=new Date("2000-01-01T".concat(e));return isNaN(t.getTime())?(console.warn('Invalid time string: "'.concat(e,'"')),"Invalid time"):t.toLocaleTimeString("fr-FR",{hour:"numeric",minute:"2-digit",hour12:!1})}catch(t){return console.error("Error formatting time:",t,"Time string:",e),"Error formatting time"}},F=()=>{x((e=>{const t=new Date(e);return t.setMonth(e.getMonth()-1),t}))},I=()=>{x((e=>{const t=new Date(e);return t.setMonth(e.getMonth()+1),t}))},A=()=>{x(new Date)},L=e=>{console.log("=== CALENDAR DAY CLICK DEBUG ==="),console.log("Day data:",e),console.log("Available dates:",c),console.log("Date selection loading:",w),e?w?console.log("\u274c Already loading"):(console.log("\u2705 Proceeding with date selection for:",e.dateString),(async e=>{if(console.log("=== DATE SELECTION DEBUG ==="),console.log("Selected date:",e),console.log("Date selection loading:",w),console.log("Available dates:",c),console.log("Is date in available dates?",c.includes(e)),console.log("All availability data:",i),w)console.log("Already loading, skipping...");else{k(!0);try{await new Promise((e=>setTimeout(e,200))),m(e);const t=i.filter((t=>{const n=Fa(new Date(t.date)),a=e;return console.log("Checking slot: ".concat(t.date," -> ").concat(n," === ").concat(a," ? ").concat(n===a)),n===a}));console.log("Time slots for date:",t),console.log("Number of slots found:",t.length),p(t),r((e=>ze(ze({},e),{},{selectedSlot:null}))),console.log("Date selection completed successfully"),console.log("Selected date state updated to:",e),console.log("Time slots state updated to:",t)}catch(t){console.error("Error selecting date:",t),Da("Erreur lors de la s\xe9lection de la date",{type:"error",title:"Erreur",duration:4e3})}finally{k(!1),console.log("=== END DATE SELECTION DEBUG ===")}}})(e.dateString),console.log("=== END CALENDAR DAY CLICK DEBUG ===")):console.log("\u274c No day data")},M=async()=>{try{const e=await ga.get("/api/health");return console.log("Server health check response:",e.status),200===e.status}catch(e){return console.error("Server connection test failed:",e.message),!1}};return(0,ba.jsx)(ba.Fragment,{children:(0,ba.jsx)("div",{className:"reservation-modal modal fade show",style:{display:"block",position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:10001,overflow:"auto"},children:(0,ba.jsx)("div",{className:"modal-dialog modal-lg",children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",children:[(0,ba.jsxs)("h5",{className:"modal-title",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-plus me-2"}),y?"S'inscrire pour r\xe9server avec ".concat(t.name):"R\xe9server une s\xe9ance avec ".concat(t.name)]}),(0,ba.jsx)("button",{type:"button",className:"btn-close",onClick:n})]}),(0,ba.jsx)("div",{className:"modal-body",children:y?(0,ba.jsx)(Ta,{coach:t,initialData:{email:l.email,full_name:l.full_name,phone:l.phone,age:l.age,gender:l.gender},onClose:n,onRegisterSuccess:e=>{r((t=>ze(ze({},t),{},{full_name:e.full_name||t.full_name,email:e.email||t.email,phone:e.phone||t.phone,age:e.age||t.age,gender:e.gender||t.gender,selectedSlot:null}))),m(null),p([]),N(!1),T()}}):(0,ba.jsxs)(ba.Fragment,{children:["                  ",(0,ba.jsxs)("div",{className:"payment-notice",children:[(0,ba.jsx)("strong",{children:"Avis de paiement:"})," Le paiement s'effectue \xe0 notre bureau. Aucun paiement en ligne n'est requis pour le moment."]}),(0,ba.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u)if(l.selectedSlot){if(S&&C){const e=S.points||0;if(e<1)return void Da("Vous avez besoin d'au moins 1 cr\xe9dit pour r\xe9server une s\xe9ance. Vous avez actuellement ".concat(e," cr\xe9dits. Veuillez contacter l'administrateur pour ajouter plus de cr\xe9dits."),{type:"warning",title:"Cr\xe9dits Insuffisants",duration:8e3})}j(!0);try{const e=(e=>{if("string"===typeof e&&e.match(/^\d{4}-\d{2}-\d{2}$/))return e;const t=new Date(e),n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(a,"-").concat(s)})(l.selectedSlot.date),a={coach_id:t.id,date:e,time:l.selectedSlot.start_time,session_type:l.session_type};S&&C&&(a.user_id=S.userId||S.id),console.log("=== RESERVATION DEBUG ==="),console.log("Selected slot:",l.selectedSlot),console.log("Original date:",l.selectedSlot.date),console.log("Formatted date:",e),console.log("Reservation data being sent:",a),console.log("========================");const r=await ga.post("/api/reserve",a);if(console.log("Reservation response:",r.data),void 0!==r.data.remaining_points&&S){const e=ze(ze({},S),{},{points:r.data.remaining_points}),t=ze(ze({},JSON.parse(localStorage.getItem("clientUser")||"{}")),{},{points:r.data.remaining_points});localStorage.setItem("clientUser",JSON.stringify(t)),_&&(console.log("Updating points in AuthContext:",r.data.remaining_points),_(e)),window.dispatchEvent(new CustomEvent("pointsUpdated",{detail:{points:r.data.remaining_points}})),"bilan"===l.session_type?Da(r.data.message||"Votre s\xe9ance bilan (25 minutes) a \xe9t\xe9 r\xe9serv\xe9e avec succ\xe8s! Cette s\xe9ance est gratuite.",{type:"success",title:"S\xe9ance Bilan Confirm\xe9e",duration:7e3}):Da("R\xe9servation cr\xe9\xe9e avec succ\xe8s! 1 cr\xe9dit a \xe9t\xe9 d\xe9duit de votre compte. Votre nouveau solde est de ".concat(r.data.remaining_points," cr\xe9dits."),{type:"success",title:"R\xe9servation Confirm\xe9e",duration:7e3})}else"bilan"===l.session_type?Da(r.data.message||"Votre s\xe9ance bilan (25 minutes) a \xe9t\xe9 r\xe9serv\xe9e avec succ\xe8s! Cette s\xe9ance est gratuite.",{type:"success",title:"S\xe9ance Bilan Confirm\xe9e",duration:5e3}):Da("R\xe9servation cr\xe9\xe9e avec succ\xe8s!",{type:"success",title:"R\xe9servation Confirm\xe9e",duration:5e3});s(),n()}catch(c){var a,r,i,o;console.error("Error creating reservation:",c),console.log("Error response:",null===(a=c.response)||void 0===a?void 0:a.data),console.log("Error status:",null===(r=c.response)||void 0===r?void 0:r.status),console.log("Full error response:",c.response),Da((null===(i=c.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.error)||"\xc9chec de la cr\xe9ation de la r\xe9servation. Veuillez r\xe9essayer.",{type:"error",title:"Erreur de R\xe9servation",duration:8e3})}finally{j(!1)}}else Da("Veuillez s\xe9lectionner un cr\xe9neau horaire",{type:"warning",title:"S\xe9lection Requise",duration:4e3});else Da("Veuillez d'abord s\xe9lectionner une date",{type:"warning",title:"S\xe9lection Requise",duration:4e3})},children:[S&&(0,ba.jsxs)("div",{className:"alert alert-success mb-4",children:[(0,ba.jsx)("i",{className:"fas fa-user-check me-2"}),(0,ba.jsxs)("strong",{children:["Bienvenue, ",S.full_name||S.username,"!"]}),(0,ba.jsxs)("span",{className:"mt-2 d-block",children:[(0,ba.jsx)("i",{className:"fas fa-coins me-2"}),(0,ba.jsx)("strong",{children:"Cr\xe9dits disponibles:"})," ",S.points||0,(0,ba.jsxs)("small",{className:"ms-2 text-muted",children:["(","bilan"===l.session_type?"Les s\xe9ances bilan (25 minutes) sont gratuites pour les utilisateurs enregistr\xe9s":"Chaque s\xe9ance normale co\xfbte 1 cr\xe9dit",")"]})]})]}),(0,ba.jsxs)("div",{className:"mb-4",children:[(0,ba.jsxs)("label",{className:"form-label",children:[(0,ba.jsx)("i",{className:"fas fa-clock me-2 text-primary"}),"Type de s\xe9ance *"]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsx)("div",{className:"session-type-card ".concat("normal"===l.session_type?"selected":""),onClick:()=>R({target:{name:"session_type",value:"normal"}}),style:{cursor:"pointer",border:"2px solid",borderColor:"normal"===l.session_type?"#007bff":"#dee2e6",borderRadius:"8px",padding:"15px",backgroundColor:"normal"===l.session_type?"#f8f9fa":"white",transition:"all 0.3s ease"},children:(0,ba.jsxs)("div",{className:"d-flex align-items-center",children:[(0,ba.jsx)("input",{type:"radio",name:"session_type",value:"normal",checked:"normal"===l.session_type,onChange:R,className:"form-check-input me-3"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h6",{className:"mb-1",children:"S\xe9ance Normale"}),(0,ba.jsxs)("small",{className:"text-muted",children:["55 minutes \u2022 ",S?"1 cr\xe9dit":"Payant"]})]})]})})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsx)("div",{className:"session-type-card ".concat("bilan"===l.session_type?"selected":""),onClick:()=>R({target:{name:"session_type",value:"bilan"}}),style:{cursor:"pointer",border:"2px solid",borderColor:"bilan"===l.session_type?"#28a745":"#dee2e6",borderRadius:"8px",padding:"15px",backgroundColor:"bilan"===l.session_type?"#f8f9fa":"white",transition:"all 0.3s ease"},children:(0,ba.jsxs)("div",{className:"d-flex align-items-center",children:[(0,ba.jsx)("input",{type:"radio",name:"session_type",value:"bilan",checked:"bilan"===l.session_type,onChange:R,className:"form-check-input me-3"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h6",{className:"mb-1",children:"S\xe9ance Bilan"}),(0,ba.jsxs)("small",{className:"text-muted",children:["25 minutes \u2022 ",S?"Gratuit":"Gratuit pour les invit\xe9s"]}),"bilan"===l.session_type&&(0,ba.jsx)("div",{className:"mt-1",children:(0,ba.jsx)("span",{className:"badge bg-success",children:"GRATUIT"})})]})]})})})]})]}),(0,ba.jsx)("div",{className:"reservation-steps mb-4",children:(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-4",children:(0,ba.jsxs)("div",{className:"step-indicator completed",children:[(0,ba.jsx)("div",{className:"step-number",children:"1"}),(0,ba.jsx)("div",{className:"step-label",children:"Type de s\xe9ance"})]})}),(0,ba.jsx)("div",{className:"col-4",children:(0,ba.jsxs)("div",{className:"step-indicator ".concat(u?"completed":"active"),children:[(0,ba.jsx)("div",{className:"step-number",children:"2"}),(0,ba.jsx)("div",{className:"step-label",children:"Choisir une date"})]})}),(0,ba.jsx)("div",{className:"col-4",children:(0,ba.jsxs)("div",{className:"step-indicator ".concat(u&&!l.selectedSlot?"active":u&&l.selectedSlot?"completed":""),children:[(0,ba.jsx)("div",{className:"step-number",children:"3"}),(0,ba.jsx)("div",{className:"step-label",children:"Choisir l'heure"})]})})]})}),(0,ba.jsx)("div",{className:"mb-4",children:u?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"selected-date-info mb-3",children:(0,ba.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,ba.jsxs)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{l.selectedSlot?window.confirm("\xcates-vous s\xfbr de vouloir changer la date ? Votre s\xe9lection de cr\xe9neau horaire sera perdue.")&&(m(null),p([]),r((e=>ze(ze({},e),{},{selectedSlot:null})))):(m(null),p([]),r((e=>ze(ze({},e),{},{selectedSlot:null}))))},children:[(0,ba.jsx)("i",{className:"fas fa-arrow-left me-1"})," Changer la date"]}),(0,ba.jsxs)("div",{className:"text-end",children:[(0,ba.jsx)("small",{className:"text-muted",children:"Date s\xe9lectionn\xe9e:"}),(0,ba.jsx)("div",{className:"fw-bold text-primary",children:La(u)})]})]})}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsxs)("label",{className:"form-label",children:[(0,ba.jsx)("i",{className:"fas fa-clock me-2 text-primary"}),"S\xe9lectionnez un cr\xe9neau horaire *"]}),(0,ba.jsx)("div",{className:"mb-2",children:(0,ba.jsxs)("small",{className:"text-muted",children:["Cr\xe9neaux disponibles pour le ",La(u)]})})]}),(0,ba.jsx)("div",{className:"available-slots time-slots-container row",children:h.map(((e,t)=>{var n;return(0,ba.jsx)("div",{className:"col-md-6 mb-2",children:(0,ba.jsx)("div",{className:"availability-slot ".concat((null===(n=l.selectedSlot)||void 0===n?void 0:n.id)===e.id?"selected":""),onClick:()=>(e=>{console.log("Selected slot:",e),r((t=>ze(ze({},t),{},{selectedSlot:e})))})(e),children:(0,ba.jsxs)("div",{className:"d-flex align-items-center",children:[(0,ba.jsx)("div",{className:"me-3",children:(0,ba.jsx)("i",{className:"far fa-clock fa-2x"})}),(0,ba.jsx)("div",{children:(0,ba.jsxs)("span",{className:"time-range",children:[O(e.start_time)," - ",O(e.end_time)]})})]})})},t)}))})]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("label",{className:"form-label",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-alt me-2 text-primary"}),"S\xe9lectionnez une date pour votre s\xe9ance ","bilan"===l.session_type?"bilan (25min)":"normale (55min)"," *"]}),(0,ba.jsx)("div",{className:"mb-3",children:(0,ba.jsx)("small",{className:"text-muted",children:"Cliquez sur une date disponible pour voir les cr\xe9neaux horaires"})}),v?(0,ba.jsx)("div",{className:"text-center p-4",style:{minHeight:"200px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,ba.jsxs)("div",{className:"logo-animation-wrapper",children:[(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"jumping-logo",style:{maxWidth:"80px",maxHeight:"80px"}}),(0,ba.jsx)("div",{className:"logo-shadow",style:{width:"70px",height:"8px"}})]})}):(0,ba.jsxs)(ba.Fragment,{children:[0===c.length&&(0,ba.jsxs)("div",{className:"alert alert-info mb-3",children:[(0,ba.jsx)("i",{className:"fas fa-info-circle me-2"}),(0,ba.jsx)("strong",{children:"Aucune date disponible pour ce coach."}),(0,ba.jsx)("br",{}),(0,ba.jsx)("small",{children:"Vous pouvez parcourir le calendrier ci-dessous. Veuillez nous contacter pour organiser un horaire de s\xe9ance personnalis\xe9."}),(0,ba.jsx)("div",{className:"mt-2",children:(0,ba.jsxs)("button",{type:"button",className:"btn btn-outline-info btn-sm",onClick:()=>D(),disabled:v,children:[(0,ba.jsx)("i",{className:"fas fa-refresh me-1"}),v?(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"jumping-logo",style:{maxWidth:"15px",maxHeight:"15px"}}):"R\xe9essayer"]})})]}),(0,ba.jsx)("div",{className:"calendar-legend mb-3",children:(0,ba.jsxs)("div",{className:"d-flex justify-content-center gap-3 flex-wrap",children:[(0,ba.jsxs)("div",{className:"legend-item",children:[(0,ba.jsx)("div",{className:"legend-color available"}),(0,ba.jsx)("small",{children:"Disponible"})]}),(0,ba.jsxs)("div",{className:"legend-item",children:[(0,ba.jsx)("div",{className:"legend-color today"}),(0,ba.jsx)("small",{children:"Aujourd'hui"})]}),(0,ba.jsxs)("div",{className:"legend-item",children:[(0,ba.jsx)("div",{className:"legend-color unavailable"}),(0,ba.jsx)("small",{children:"Indisponible"})]})]})}),(0,ba.jsx)("div",{className:"calendar-container",children:(()=>{const e=(()=>{console.log("=== CALENDAR GENERATION DEBUG ==="),console.log("Available dates:",c);const e=new Date;e.setHours(0,0,0,0);const t=Oa(),n=f.getFullYear(),a=f.getMonth();console.log("Current calendar month:",n,a+1);const s=new Date(n,a,1),l=new Date(n,a+1,0).getDate(),r=s.getDay(),o=0===r?6:r-1,d=[];let u=[];for(let i=0;i<o;i++)u.push(null);for(let p=1;p<=l;p++){const e="".concat(n,"-").concat(String(a+1).padStart(2,"0"),"-").concat(String(p).padStart(2,"0")),s=c.includes(e),l=s?i.filter((t=>Fa(new Date(t.date))===e)).length:0,r=new Date(n,a,p);console.log("Day ".concat(p,": ").concat(e," - Available: ").concat(s,", Slots: ").concat(l)),u.push({day:p,dateString:e,isAvailable:s,slotsCount:l,isToday:e===t,isPast:!Aa(e),isWeekend:0===r.getDay()||6===r.getDay()}),7===u.length&&(d.push(u),u=[])}for(;u.length<7&&u.length>0;)u.push(null);u.length>0&&d.push(u);const m=new Date(n,a,1),h=new Date(e.getFullYear(),e.getMonth(),1);return console.log("=== END CALENDAR GENERATION DEBUG ==="),{month:f.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),weeks:d,canGoPrevious:m>=h,canGoNext:!0}})();return e?(0,ba.jsxs)("div",{className:"calendar-month",children:[(0,ba.jsxs)("div",{className:"calendar-header",children:[(0,ba.jsx)("button",{type:"button",className:"btn btn-outline-light btn-sm calendar-nav-btn",onClick:F,disabled:!e.canGoPrevious,children:(0,ba.jsx)("i",{className:"fas fa-chevron-left"})}),(0,ba.jsx)("h6",{className:"month-title",children:e.month}),(0,ba.jsx)("button",{type:"button",className:"btn btn-outline-light btn-sm calendar-nav-btn",onClick:I,disabled:!e.canGoNext,children:(0,ba.jsx)("i",{className:"fas fa-chevron-right"})})]}),(0,ba.jsxs)("div",{className:"calendar-grid",children:[(0,ba.jsx)("div",{className:"calendar-day-headers",children:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map((e=>(0,ba.jsx)("div",{className:"day-header",children:e},e)))}),(0,ba.jsx)("div",{className:"calendar-days",children:e.weeks.map(((e,t)=>(0,ba.jsx)("div",{className:"calendar-week",children:e.map(((e,n)=>(0,ba.jsx)("div",{className:"calendar-day ".concat(e?"".concat(e.isAvailable?"available":"unavailable"," ").concat(e.isToday?"today":""," ").concat(e.isPast?"past":""," ").concat(e.isWeekend?"weekend":""," ").concat(u===e.dateString?"selected":""):"empty"," ").concat(w?"selecting":""),onClick:()=>L(e),style:{cursor:"pointer",pointerEvents:"auto",zIndex:10},children:e&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"day-number",children:e.day}),e.isAvailable&&(0,ba.jsxs)("span",{className:"slots-count",children:[e.slotsCount," slot",e.slotsCount>1?"s":""]}),e.isToday&&(0,ba.jsx)("span",{className:"today-indicator",children:"Aujourd'hui"})]})},"".concat(t,"-").concat(n))))},t)))})]}),(0,ba.jsx)("div",{className:"calendar-footer",children:(0,ba.jsxs)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:A,children:[(0,ba.jsx)("i",{className:"fas fa-calendar-day me-1"}),"Aujourd'hui"]})})]}):null})()})]})]})}),(0,ba.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[(0,ba.jsxs)("button",{type:"button",className:"btn btn-outline-secondary",onClick:n,children:[(0,ba.jsx)("i",{className:"fas fa-times me-1"})," Annuler"]}),u&&(0,ba.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:b||!l.selectedSlot,children:b?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Traitement en cours..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-check-circle me-1"})," Confirmer la r\xe9servation"]})})]})]})]})})]})})})})},za=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[l,r]=(0,a.useState)("");return(0,a.useEffect)((()=>{(async()=>{try{s(!0);const e=await ua.get("/api/packs");t(e.data),s(!1)}catch(e){console.error("Error fetching packs:",e),r("Failed to load available packs. Please try again later."),s(!1)}})()}),[]),n?(0,ba.jsx)("div",{className:"text-center py-5",style:{minHeight:"300px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,ba.jsxs)("div",{className:"logo-animation-wrapper",children:[(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"jumping-logo",style:{maxWidth:"100px",maxHeight:"100px"}}),(0,ba.jsx)("div",{className:"logo-shadow"})]})}):l?(0,ba.jsx)("div",{className:"alert alert-danger",role:"alert",children:l}):(0,ba.jsxs)("div",{className:"public-packs-section py-5",children:[(0,ba.jsxs)("div",{className:"section-header text-center mb-5",children:[(0,ba.jsx)("h2",{className:"section-title",children:"Nos Packs"}),(0,ba.jsx)("p",{className:"section-subtitle",children:"D\xe9couvrez nos offres adapt\xe9es \xe0 vos besoins"})]}),(0,ba.jsxs)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:[e.map((e=>(0,ba.jsx)("div",{className:"col",children:(0,ba.jsxs)("div",{className:"card h-100 pack-card",children:[(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsxs)("h5",{className:"card-title",children:[e.name,(0,ba.jsxs)("span",{className:"badge bg-primary float-end",children:[e.points," points"]})]}),(0,ba.jsx)("div",{className:"text-center",children:(0,ba.jsxs)("div",{className:"price-tag",children:[(0,ba.jsx)("i",{className:"fas fa-tag me-2"}),e.price," DH"]})}),(0,ba.jsx)("ul",{className:"pack-features",children:e.description?e.description.split("\n").map(((e,t)=>e.trim()?(0,ba.jsxs)("li",{children:[(0,ba.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),e.trim()]},t):null)):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("li",{children:[(0,ba.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),e.points," points de coaching"]}),(0,ba.jsxs)("li",{children:[(0,ba.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),"R\xe9servez quand vous voulez"]}),(0,ba.jsxs)("li",{children:[(0,ba.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),"Acc\xe8s \xe0 tous les coachs"]})]})})]}),(0,ba.jsx)("div",{className:"card-footer",children:(0,ba.jsxs)("a",{href:"/login",className:"btn btn-primary w-100",children:[(0,ba.jsx)("i",{className:"fas fa-shopping-cart me-2"}),"Obtenir ce Pack"]})})]})},e.id))),0===e.length&&(0,ba.jsx)("div",{className:"col-12 text-center",children:(0,ba.jsxs)("div",{className:"alert alert-info",children:[(0,ba.jsx)("i",{className:"fas fa-info-circle me-2"}),"Aucun pack disponible pour le moment. Veuillez nous contacter pour plus d'informations."]})})]})]})};let Ua=null,Ba=null;const Wa="show-confirm-dialog",qa="hide-confirm-dialog",Ha=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((n,a)=>{const{title:s="Confirmation Required",confirmText:l="Confirm",cancelText:r="Cancel",type:i="warning"}=t;Ua=()=>n(!0),Ba=()=>n(!1);const o=new CustomEvent(Wa,{detail:{message:e,title:s,confirmText:l,cancelText:r,type:i}});window.dispatchEvent(o)}))},Va=()=>{const[e,t]=(0,a.useState)(!1),[n,s]=(0,a.useState)({message:"",title:"Confirmation Required",confirmText:"Confirm",cancelText:"Cancel",type:"warning"});(0,a.useEffect)((()=>{const e=e=>{const{message:n,title:a,confirmText:l,cancelText:r,type:i}=e.detail;s({message:n,title:a,confirmText:l,cancelText:r,type:i}),t(!0)},n=()=>{t(!1)};return window.addEventListener(Wa,e),window.addEventListener(qa,n),()=>{window.removeEventListener(Wa,e),window.removeEventListener(qa,n)}}),[]);const l=(e=>{switch(e){case"warning":default:return{headerColor:"#FF9800",headerBg:"#FFF3E0",borderColor:"#FF9800",icon:"fas fa-exclamation-triangle"};case"danger":return{headerColor:"#F44336",headerBg:"#FFEBEE",borderColor:"#F44336",icon:"fas fa-exclamation-circle"};case"info":return{headerColor:"var(--highlight-color)",headerBg:"#1e1e1e",borderColor:"var(--highlight-color)",icon:"fas fa-info-circle"};case"success":return{headerColor:"#4CAF50",headerBg:"#E8F5E9",borderColor:"#4CAF50",icon:"fas fa-check-circle"}}})(n.type);return e?(0,ba.jsx)("div",{className:"confirm-dialog-backdrop",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,animation:"fadeIn 0.2s ease-out"},children:(0,ba.jsxs)("div",{className:"confirm-dialog",style:{backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",width:"90%",maxWidth:"450px",overflow:"hidden",animation:"zoomIn 0.2s ease-out",border:"1px solid ".concat(l.borderColor)},children:[(0,ba.jsxs)("div",{className:"confirm-dialog-header",style:{padding:"16px 20px",backgroundColor:l.headerBg,color:l.headerColor,fontWeight:"bold",fontSize:"1.1rem",display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(l.borderColor)},children:[(0,ba.jsx)("i",{className:"".concat(l.icon," me-2")}),n.title]}),(0,ba.jsx)("div",{className:"confirm-dialog-body",style:{padding:"20px",fontSize:"1rem",lineHeight:"1.5"},children:n.message}),(0,ba.jsxs)("div",{className:"confirm-dialog-footer",style:{padding:"12px 20px",display:"flex",justifyContent:"flex-end",gap:"10px",borderTop:"1px solid #eee"},children:[(0,ba.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>{t(!1),Ba&&(Ba(),Ua=null,Ba=null)},style:{fontSize:"0.9rem",fontWeight:"500"},children:n.cancelText}),(0,ba.jsx)("button",{className:"btn ".concat("danger"===n.type?"btn-danger":"success"===n.type?"btn-success":"info"===n.type?"btn-info":"btn-warning"),onClick:()=>{t(!1),Ua&&(Ua(),Ua=null,Ba=null)},style:{fontSize:"0.9rem",fontWeight:"500"},children:n.confirmText})]})]})}):null},Ga=()=>{const{currentUser:e,updatePoints:t,logout:n}=(0,a.useContext)(ya),s=te(),[l,r]=(0,a.useState)(!0),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null);(0,a.useEffect)((()=>{h()}),[]);const h=async()=>{r(!0);try{const e=await ua.get("/api/group-courses");o(e.data)}catch(e){console.error("Error fetching group courses:",e),Da("Failed to load group courses. Please try again.",{type:"error",title:"Loading Error",duration:5e3})}finally{r(!1)}},p=e=>e?new Date(e).toLocaleDateString():"N/A",f=e=>{if(!e)return"N/A";try{const[t,n]=e.split(":");return new Date(2e3,0,1,t,n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(am){return e}};return l?(0,ba.jsxs)("div",{className:"text-center my-5",children:[(0,ba.jsx)("div",{className:"spinner-border",role:"status",children:(0,ba.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,ba.jsx)("p",{className:"mt-2",children:"Loading group courses..."})]}):0===i.length?(0,ba.jsx)("div",{className:"alert alert-info my-4",children:"No group courses available at the moment. Please check back later."}):(0,ba.jsxs)("div",{className:"group-courses-container",children:[(0,ba.jsx)("div",{className:"mobile-nav-bar",children:(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,ba.jsxs)("div",{className:"mobile-user-info d-flex align-items-center",children:[(0,ba.jsx)("div",{className:"mobile-profile-picture",children:(0,ba.jsx)("i",{className:"fas fa-user-circle"})}),(0,ba.jsxs)("div",{className:"mobile-user-details",children:[(0,ba.jsx)("div",{className:"mobile-user-name",children:(null===e||void 0===e?void 0:e.username)||"Guest"}),e&&(0,ba.jsxs)("div",{className:"mobile-points-display",children:[(0,ba.jsxs)("span",{className:"points-item",children:[(0,ba.jsx)("i",{className:"fas fa-star"})," SI: ",e.solo_points||0]}),(0,ba.jsxs)("span",{className:"points-item",children:[(0,ba.jsx)("i",{className:"fas fa-users"})," SE: ",e.team_points||0]})]})]})]}),(0,ba.jsx)("div",{className:"mobile-nav-actions",children:(0,ba.jsx)("button",{className:"mobile-logout-btn",onClick:()=>{n("user"),s("/",{replace:!0})},title:"Logout",style:{background:"rgba(255, 255, 255, 0.15)",border:"2px solid rgba(255, 255, 255, 0.3)",borderRadius:"50%",width:"45px",height:"45px",color:"white",fontSize:"1.1rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,ba.jsx)("i",{className:"fas fa-sign-out-alt"})})})]})}),(0,ba.jsxs)("h2",{className:"section-title mb-4",children:[(0,ba.jsx)("i",{className:"fas fa-users me-2"}),"Group Courses"]}),(0,ba.jsx)("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:i.map((t=>{const n=((e,t)=>{if(!e||!t)return!1;const n=new Date,a=new Date(e),[s,l]=t.split(":").map(Number);return a.setHours(s,l,0,0),a>n})(t.date,t.time),a=(e=>e.current_participants>=e.max_participants)(t);return(0,ba.jsx)("div",{className:"col",children:(0,ba.jsxs)("div",{className:"card h-100",style:{border:"1px solid #e3f2fd",borderRadius:"12px",backgroundColor:"#fafffe",boxShadow:"0 2px 8px rgba(135, 206, 235, 0.15)",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 16px rgba(135, 206, 235, 0.25)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(135, 206, 235, 0.15)"},children:[(0,ba.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",style:{background:"linear-gradient(135deg, #87ceeb 0%, #b0e0e6 100%)",color:"#2c5aa0",borderBottom:"1px solid #e3f2fd",borderRadius:"12px 12px 0 0",fontWeight:"600"},children:[(0,ba.jsx)("h5",{className:"card-title mb-0",style:{color:"#2c5aa0"},children:t.title}),a&&(0,ba.jsx)("span",{className:"badge",style:{backgroundColor:"#ffd54f",color:"#8d6e00"},children:"FULL"}),!n&&(0,ba.jsx)("span",{className:"badge",style:{backgroundColor:"#bdbdbd",color:"#424242"},children:"ENDED"}),!a&&n&&(0,ba.jsx)("span",{className:"badge",style:{backgroundColor:"#81c784",color:"#2e7d32"},children:"OPEN"})]}),(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsxs)("div",{className:"coach-info d-flex align-items-center mb-3",children:[(0,ba.jsx)("img",{src:t.photo||"https://via.placeholder.com/50x50?text=Coach",alt:t.coach_name,className:"rounded-circle me-2",style:{width:"50px",height:"50px",objectFit:"cover",border:"2px solid #87ceeb"}}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("span",{style:{color:"#2c5aa0",fontWeight:"600"},children:["Coach: ",t.coach_name]}),(0,ba.jsx)("br",{}),(0,ba.jsx)("small",{style:{color:"#87ceeb",fontStyle:"italic"},children:t.specialty})]})]}),(0,ba.jsx)("div",{className:"mb-3",children:(0,ba.jsx)("p",{className:"card-text",style:{color:"#546e7a",lineHeight:"1.5"},children:t.description})}),(0,ba.jsxs)("div",{className:"course-details",children:[(0,ba.jsxs)("div",{className:"mb-2",children:[(0,ba.jsx)("i",{className:"far fa-calendar-alt me-2",style:{color:"#87ceeb"}}),(0,ba.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Date:"})," ",(0,ba.jsx)("span",{style:{color:"#37474f"},children:p(t.date)})]}),(0,ba.jsxs)("div",{className:"mb-2",children:[(0,ba.jsx)("i",{className:"far fa-clock me-2",style:{color:"#87ceeb"}}),(0,ba.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Time:"})," ",(0,ba.jsx)("span",{style:{color:"#37474f"},children:f(t.time)})]}),(0,ba.jsxs)("div",{className:"mb-2",children:[(0,ba.jsx)("i",{className:"fas fa-hourglass-half me-2",style:{color:"#87ceeb"}}),(0,ba.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Duration:"})," ",(0,ba.jsxs)("span",{style:{color:"#37474f"},children:[t.duration," minutes"]})]}),(0,ba.jsxs)("div",{className:"mb-2",children:[(0,ba.jsx)("i",{className:"fas fa-users me-2",style:{color:"#87ceeb"}}),(0,ba.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Participants:"})," ",(0,ba.jsxs)("span",{style:{color:"#37474f"},children:[t.current_participants,"/",t.max_participants]}),(0,ba.jsx)("div",{className:"progress mt-1",style:{height:"6px",backgroundColor:"#e3f2fd",borderRadius:"3px"},children:(0,ba.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.current_participants/t.max_participants*100,"%"),backgroundColor:a?"#ff8a65":"#87ceeb",borderRadius:"3px"},"aria-valuenow":t.current_participants,"aria-valuemin":"0","aria-valuemax":t.max_participants})})]}),(0,ba.jsxs)("div",{className:"mb-2",children:[(0,ba.jsx)("i",{className:"fas fa-coins me-2",style:{color:"#87ceeb"}}),(0,ba.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Cost:"})," ",(0,ba.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"600"},children:"1 Team Point (TP)"})]})]})]}),(0,ba.jsx)("div",{className:"card-footer",style:{backgroundColor:"#f8fcff",borderTop:"1px solid #e3f2fd",borderRadius:"0 0 12px 12px"},children:(0,ba.jsx)("button",{className:"btn w-100",style:{backgroundColor:a?"#ffd54f":n?"#87ceeb":"#bdbdbd",color:a?"#8d6e00":n?"#2c5aa0":"#424242",border:"none",borderRadius:"8px",fontWeight:"600",padding:"10px 16px",transition:"all 0.3s ease",cursor:a||!n?"not-allowed":"pointer"},onClick:()=>(t=>{e?(m(t),d(!0)):Da("Please log in to book a group course.",{type:"warning",title:"Login Required",duration:5e3})})(t),disabled:a||!n,onMouseEnter:e=>{!a&&n&&(e.currentTarget.style.backgroundColor="#b0e0e6",e.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:e=>{!a&&n&&(e.currentTarget.style.backgroundColor="#87ceeb",e.currentTarget.style.transform="translateY(0)")},children:a?"Course Full":n?"Book Now":"Course Ended"})})]})},t.id)}))}),c&&u&&(0,ba.jsx)("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,ba.jsx)("div",{className:"modal-dialog",children:(0,ba.jsxs)("div",{className:"modal-content",style:{borderRadius:"12px",border:"1px solid #e3f2fd"},children:[(0,ba.jsxs)("div",{className:"modal-header",style:{background:"linear-gradient(135deg, #87ceeb 0%, #b0e0e6 100%)",color:"#2c5aa0",borderBottom:"1px solid #e3f2fd",borderRadius:"12px 12px 0 0"},children:[(0,ba.jsx)("h5",{className:"modal-title",style:{color:"#2c5aa0",fontWeight:"600"},children:"Confirm Booking"}),(0,ba.jsx)("button",{type:"button",className:"btn-close",onClick:()=>d(!1),style:{filter:"invert(1)"}})]}),(0,ba.jsxs)("div",{className:"modal-body",style:{backgroundColor:"#fafffe"},children:[(0,ba.jsx)("p",{style:{color:"#546e7a"},children:"You're about to book a spot in the following group course:"}),(0,ba.jsx)("div",{className:"card mb-3",style:{border:"1px solid #e3f2fd",borderRadius:"8px",backgroundColor:"#f8fcff"},children:(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsx)("h5",{className:"card-title",style:{color:"#2c5aa0"},children:u.title}),(0,ba.jsxs)("p",{className:"card-text",style:{color:"#37474f"},children:[(0,ba.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Coach:"})," ",u.coach_name,(0,ba.jsx)("br",{}),(0,ba.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Date:"})," ",p(u.date),(0,ba.jsx)("br",{}),(0,ba.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Time:"})," ",f(u.time),(0,ba.jsx)("br",{}),(0,ba.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Duration:"})," ",u.duration," minutes"]})]})}),(0,ba.jsxs)("div",{className:"alert",style:{backgroundColor:"#e3f2fd",border:"1px solid #87ceeb",borderRadius:"8px",color:"#2c5aa0"},children:[(0,ba.jsx)("i",{className:"fas fa-info-circle me-2",style:{color:"#87ceeb"}}),"This booking will cost ",(0,ba.jsx)("span",{style:{fontWeight:"600"},children:"1 Team Point (TP)"}),". Your current TP balance: ",(0,ba.jsx)("span",{style:{fontWeight:"600"},children:(null===e||void 0===e?void 0:e.team_points)||0})]})]}),(0,ba.jsxs)("div",{className:"modal-footer",style:{backgroundColor:"#f8fcff",borderTop:"1px solid #e3f2fd",borderRadius:"0 0 12px 12px"},children:[(0,ba.jsx)("button",{type:"button",className:"btn",style:{backgroundColor:"#f5f5f5",color:"#424242",border:"1px solid #bdbdbd",borderRadius:"8px",padding:"8px 16px",fontWeight:"500"},onClick:()=>d(!1),children:"Cancel"}),(0,ba.jsx)("button",{type:"button",className:"btn",style:{backgroundColor:!e||(e.team_points||0)<1?"#bdbdbd":"#87ceeb",color:!e||(e.team_points||0)<1?"#424242":"#2c5aa0",border:"none",borderRadius:"8px",padding:"8px 16px",fontWeight:"600",cursor:!e||(e.team_points||0)<1?"not-allowed":"pointer"},onClick:async()=>{try{const n=await ua.post("/api/group-courses/".concat(u.id,"/book"));void 0!==n.data.remaining_team_points&&t(ze(ze({},e),{},{points:n.data.remaining_points,solo_points:n.data.remaining_solo_points,team_points:n.data.remaining_team_points})),Da("Group course booked successfully! One Team Point (TP) has been deducted from your account.",{type:"success",title:"Booking Confirmed",duration:5e3}),h(),d(!1)}catch(r){var n,a,s,l;if(console.error("Error booking group course:",r),"Not enough team points"===(null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error))Da("You don't have enough Session en \xe9quipe (SE). Current SE: ".concat(r.response.data.current,", Required: ").concat(r.response.data.required),{type:"error",title:"Insufficient Points",duration:7e3});else Da("Failed to book group course: ".concat((null===(s=r.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.error)||r.message),{type:"error",title:"Booking Failed",duration:7e3})}},disabled:!e||(e.team_points||0)<1,children:!e||(e.team_points||0)<1?"Not Enough TP":"Confirm Booking"})]})]})})})]})},Ya=e=>{let{currentView:t,onViewChange:n}=e;const{currentUser:s}=(0,a.useContext)(ya),l=te(),r=Z(),i=(()=>{const e=r.pathname;return"/"===e||"/home"===e?!t||"courses"!==t&&"individual-courses"!==t&&"group-courses"!==t?"home":"courses":"/profile"===e?"profile":"/packs"===e?"packs":e.includes("/coaches")||e.includes("/group-courses")?"courses":t||"home"})(),o=e=>{switch(e){case"home":"/"===r.pathname||"/home"===r.pathname?n&&n("home"):l("/");break;case"courses":"/"===r.pathname||"/home"===r.pathname?n&&n("courses"):l("/",{state:{mobileView:"courses"}});break;case"packs":l("/packs");break;case"profile":l("/profile")}};return(0,ba.jsx)("nav",{className:"mobile-bottom-nav",children:(0,ba.jsxs)("div",{className:"mobile-nav-grid",children:[(0,ba.jsxs)("button",{className:"mobile-nav-item ".concat("home"===i?"active":""),onClick:()=>o("home"),children:[(0,ba.jsx)("i",{className:"mobile-nav-icon fas fa-home"}),(0,ba.jsx)("span",{className:"mobile-nav-label",children:"Accueil"})]}),(0,ba.jsxs)("button",{className:"mobile-nav-item ".concat("courses"===i?"active":""),onClick:()=>o("courses"),children:[(0,ba.jsx)("i",{className:"mobile-nav-icon fas fa-users"}),(0,ba.jsx)("span",{className:"mobile-nav-label",children:"Cours"})]}),(0,ba.jsxs)("button",{className:"mobile-nav-item ".concat("packs"===i?"active":""),onClick:()=>o("packs"),children:[(0,ba.jsx)("i",{className:"mobile-nav-icon fas fa-gift"}),(0,ba.jsx)("span",{className:"mobile-nav-label",children:"Packs"})]}),s?(0,ba.jsxs)("button",{className:"mobile-nav-item ".concat("profile"===i?"active":""),onClick:()=>o("profile"),children:[(0,ba.jsx)("i",{className:"mobile-nav-icon fas fa-user"}),(0,ba.jsx)("span",{className:"mobile-nav-label",children:"Profil"})]}):(0,ba.jsxs)(Pe,{to:"/login",className:"mobile-nav-item",children:[(0,ba.jsx)("i",{className:"mobile-nav-icon fas fa-sign-in-alt"}),(0,ba.jsx)("span",{className:"mobile-nav-label",children:"Connexion"})]})]})})},$a=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(null),[l,r]=(0,a.useState)(!0),i=(0,a.useRef)(null),o=(0,a.useRef)(null),{currentUser:c,isUser:d,logout:u}=(0,a.useContext)(ya),m=te(),h=Z(),[p,f]=(0,a.useState)("home"),[x,v]=(0,a.useState)(window.innerWidth<768),[g,b]=(0,a.useState)(!1),[j,y]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=()=>{v(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,a.useEffect)((()=>{h.state&&h.state.mobileView&&f(h.state.mobileView)}),[h.state]);const[N,w]=(0,a.useState)(!1),k=e=>{u(e),m("/",{replace:!0})};(0,a.useEffect)((()=>{if(c&&d){const e=JSON.parse(localStorage.getItem("clientUser")||"{}");e.points!==c.points&&(console.log("Points updated from",c.points,"to",e.points),w(!0),setTimeout((()=>w(!1)),3e3))}const e=e=>{if(console.log("Points update event received:",e.detail),c&&d&&e.detail&&void 0!==e.detail.points){const t=JSON.parse(localStorage.getItem("clientUser")||"{}");t.points!==e.detail.points&&(t.points=e.detail.points,localStorage.setItem("clientUser",JSON.stringify(t)),w(!0),setTimeout((()=>w(!1)),3e3),window.location.reload())}};return window.addEventListener("pointsUpdated",e),()=>{window.removeEventListener("pointsUpdated",e)}}),[null===c||void 0===c?void 0:c.points,d,c]);const S=()=>{document.getElementById("coaches-section").scrollIntoView({behavior:"smooth"})},C=()=>{x?window.location.href="tel:+212660505652":b(!0)},_=()=>{b(!1)},E=async()=>{const e="+212 660-505652";try{await navigator.clipboard.writeText(e),y(!0),b(!1),setTimeout((()=>{y(!1)}),3e3)}catch(t){const n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),y(!0),b(!1),setTimeout((()=>{y(!1)}),3e3)}},P=()=>{x?window.location.href="tel:+212660505652":E()},T=()=>{const e="https://wa.me/".concat("212660505652","?text=").concat(encodeURIComponent("Bonjour, je souhaite obtenir des informations sur vos services de coaching."));x?window.location.href=e:window.open(e,"_blank")};(0,a.useEffect)((()=>{D(),i.current&&i.current.play().catch((e=>{console.log("Video autoplay was prevented:",e)}));const e=()=>{const e=document.querySelector(".modern-header");e&&(window.scrollY>50?e.classList.add("scrolled"):e.classList.remove("scrolled"))};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]);const D=async()=>{try{console.log("Fetching coaches from /api/coaches...");const e=await _a.get("/api/coaches");console.log("Coaches fetched successfully:",e.data),t(e.data)}catch(n){var e;console.error("Error fetching coaches:",(null===(e=n.response)||void 0===e?void 0:e.data)||n.message),t([])}finally{r(!1)}},R=e=>{s(e)},O=()=>{s(null)},F=()=>{D()},I=e=>{"profile"===e?m("/profile"):"packs"===e?m("/packs"):f(e)};return l?x?(0,ba.jsx)("div",{className:"mobile-logo-loading-container",children:(0,ba.jsxs)("div",{className:"mobile-logo-animation-wrapper",children:[(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"mobile-jumping-logo"}),(0,ba.jsx)("div",{className:"mobile-logo-shadow"})]})}):(0,ba.jsx)("div",{className:"logo-loading-container",children:(0,ba.jsxs)("div",{className:"logo-animation-wrapper",children:[(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"jumping-logo"}),(0,ba.jsx)("div",{className:"logo-shadow"})]})}):x?(0,ba.jsxs)("div",{className:"mobile-app-container",children:[(0,ba.jsx)("header",{className:"mobile-app-header",children:(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,ba.jsxs)(Pe,{to:"/",className:"brand",children:[(0,ba.jsx)("img",{src:"/logo_white.png",alt:"Suite Coaching"}),"Suite Coaching"]}),c?(0,ba.jsxs)("div",{className:"dropdown",children:[(0,ba.jsx)("button",{className:"btn p-0 mobile-user-dropdown",type:"button",id:"mobileUserDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,ba.jsx)("div",{className:"user-avatar",children:(0,ba.jsx)("i",{className:"fas fa-user"})})}),(0,ba.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end mobile-dropdown-menu","aria-labelledby":"mobileUserDropdown",children:[(0,ba.jsx)("li",{children:(0,ba.jsxs)("div",{className:"dropdown-item-text mobile-user-info",children:[(0,ba.jsx)("div",{className:"mobile-user-name",children:c.username}),(0,ba.jsx)("div",{className:"mobile-user-email",children:c.email})]})}),(0,ba.jsx)("li",{children:(0,ba.jsx)("hr",{className:"dropdown-divider"})}),(0,ba.jsx)("li",{children:(0,ba.jsxs)("button",{className:"dropdown-item mobile-logout-item",onClick:()=>k("user"),children:[(0,ba.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"D\xe9connexion"]})})]})]}):(0,ba.jsx)(Pe,{to:"/login",className:"btn btn-sm btn-light",children:"Connexion"})]})}),(0,ba.jsxs)("div",{className:"mobile-app-content",children:["home"===p&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("div",{className:"mobile-video-hero",children:[(0,ba.jsxs)("video",{className:"mobile-video-background",loop:!0,muted:!0,autoPlay:!0,playsInline:!0,children:[(0,ba.jsx)("source",{src:"/Video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,ba.jsxs)("div",{className:"mobile-video-overlay",children:[(0,ba.jsxs)("h1",{className:"mobile-hero-title",children:["Transformez Votre ",(0,ba.jsx)("span",{style:{color:"var(--highlight-color)"},children:"Potentiel"})]}),(0,ba.jsx)("p",{className:"mobile-hero-subtitle",children:"Chaque entra\xeenement vous rapproche de votre\xa0objectif"}),(0,ba.jsx)("button",{className:"mobile-hero-btn",onClick:()=>f("individual-courses"),children:"R\xe9server une s\xe9ance"})]})]}),c&&d&&(0,ba.jsxs)("div",{className:"mobile-points-section",children:[(0,ba.jsx)("h6",{className:"mb-0",children:"Vos Cr\xe9dits"}),(0,ba.jsxs)("div",{className:"mobile-points-grid",children:[(0,ba.jsxs)("div",{className:"mobile-point-card",children:[(0,ba.jsx)("div",{className:"mobile-point-value",children:JSON.parse(localStorage.getItem("clientUser")||"{}").solo_points||c.solo_points||0}),(0,ba.jsx)("div",{className:"mobile-point-label",children:"Session individuelle"})]}),(0,ba.jsxs)("div",{className:"mobile-point-card",children:[(0,ba.jsx)("div",{className:"mobile-point-value",children:JSON.parse(localStorage.getItem("clientUser")||"{}").team_points||c.team_points||0}),(0,ba.jsx)("div",{className:"mobile-point-label",children:"Session en \xe9quipe"})]})]})]}),(0,ba.jsxs)("div",{className:"mobile-content-section",children:[(0,ba.jsxs)("div",{className:"mobile-section-header",children:[(0,ba.jsx)("i",{className:"fas fa-bolt me-2"}),"Actions Rapides"]}),(0,ba.jsx)("div",{className:"mobile-section-content",children:(0,ba.jsxs)("div",{className:"row g-3",children:[(0,ba.jsx)("div",{className:"col-6",children:(0,ba.jsxs)("button",{className:"mobile-quick-action-card",onClick:()=>f("individual-courses"),children:[(0,ba.jsx)("div",{className:"mobile-action-icon",children:(0,ba.jsx)("i",{className:"fas fa-user"})}),(0,ba.jsx)("div",{className:"mobile-action-text",children:"R\xe9server Coach"})]})}),(0,ba.jsx)("div",{className:"col-6",children:(0,ba.jsxs)("button",{className:"mobile-quick-action-card",onClick:()=>f("group-courses"),children:[(0,ba.jsx)("div",{className:"mobile-action-icon",children:(0,ba.jsx)("i",{className:"fas fa-users"})}),(0,ba.jsx)("div",{className:"mobile-action-text",children:"Cours Groupe"})]})}),(0,ba.jsx)("div",{className:"col-6",children:(0,ba.jsxs)("button",{className:"mobile-quick-action-card",onClick:()=>I("packs"),children:[(0,ba.jsx)("div",{className:"mobile-action-icon",children:(0,ba.jsx)("i",{className:"fas fa-gift"})}),(0,ba.jsx)("div",{className:"mobile-action-text",children:"Voir Packs"})]})}),c&&d&&(0,ba.jsx)("div",{className:"col-6",children:(0,ba.jsxs)("button",{className:"mobile-quick-action-card",onClick:()=>I("profile"),children:[(0,ba.jsx)("div",{className:"mobile-action-icon",children:(0,ba.jsx)("i",{className:"fas fa-user-circle"})}),(0,ba.jsx)("div",{className:"mobile-action-text",children:"Mon Profil"})]})}),!c&&(0,ba.jsx)("div",{className:"col-6",children:(0,ba.jsxs)("button",{className:"mobile-quick-action-card",onClick:()=>m("/login"),children:[(0,ba.jsx)("div",{className:"mobile-action-icon",children:(0,ba.jsx)("i",{className:"fas fa-sign-in-alt"})}),(0,ba.jsx)("div",{className:"mobile-action-text",children:"Se Connecter"})]})})]})})]}),(0,ba.jsxs)("div",{className:"contact-buttons-container",children:[(0,ba.jsx)("button",{className:"contact-us-button whatsapp-button",onClick:T,title:"WhatsApp",children:(0,ba.jsx)("i",{className:"fab fa-whatsapp"})}),(0,ba.jsx)("button",{className:"contact-us-button phone-button",onClick:C,title:"T\xe9l\xe9phone",children:(0,ba.jsx)("i",{className:"fas fa-phone"})})]})]}),"courses"===p&&(0,ba.jsxs)("div",{className:"mobile-content-section",children:[(0,ba.jsxs)("div",{className:"mobile-section-header",children:[(0,ba.jsx)("i",{className:"fas fa-graduation-cap me-2"}),"Nos Cours"]}),(0,ba.jsx)("div",{className:"mobile-section-content",children:(0,ba.jsx)("div",{className:"mobile-course-types",children:(0,ba.jsxs)("div",{className:"row g-3",children:[(0,ba.jsx)("div",{className:"col-6",children:(0,ba.jsxs)("button",{className:"mobile-course-type-card",onClick:()=>f("individual-courses"),children:[(0,ba.jsx)("div",{className:"mobile-course-icon",children:(0,ba.jsx)("i",{className:"fas fa-user"})}),(0,ba.jsx)("div",{className:"mobile-course-type-title",children:"Cours Individuel"}),(0,ba.jsx)("div",{className:"mobile-course-type-desc",children:"Coaching personnalis\xe9"})]})}),(0,ba.jsx)("div",{className:"col-6",children:(0,ba.jsxs)("button",{className:"mobile-course-type-card",onClick:()=>f("group-courses"),children:[(0,ba.jsx)("div",{className:"mobile-course-icon",children:(0,ba.jsx)("i",{className:"fas fa-users"})}),(0,ba.jsx)("div",{className:"mobile-course-type-title",children:"Cours de Groupe"}),(0,ba.jsx)("div",{className:"mobile-course-type-desc",children:"Sessions collectives"})]})})]})})})]}),"individual-courses"===p&&(0,ba.jsxs)("div",{className:"mobile-content-section",children:[(0,ba.jsxs)("div",{className:"mobile-section-header",children:[(0,ba.jsx)("button",{onClick:()=>f("courses"),className:"btn btn-link p-0 me-2 text-decoration-none",style:{color:"var(--highlight-color)"},children:(0,ba.jsx)("i",{className:"fas fa-arrow-left"})}),(0,ba.jsx)("i",{className:"fas fa-user me-2"}),"Cours Individuel"]}),(0,ba.jsx)("div",{className:"mobile-section-content",children:e.length>0?(0,ba.jsx)("div",{className:"mobile-coach-list",children:e.map((e=>(0,ba.jsx)("div",{className:"mobile-coach-item",onClick:()=>R(e),children:(0,ba.jsxs)("div",{className:"mobile-coach-content",children:[(0,ba.jsxs)("div",{className:"mobile-coach-header",children:[(0,ba.jsx)("img",{src:e.photo||"https://via.placeholder.com/60x60?text=Coach",alt:e.name,className:"mobile-coach-photo"}),(0,ba.jsxs)("div",{className:"mobile-coach-info",children:[(0,ba.jsx)("div",{className:"mobile-coach-name",children:e.name}),(0,ba.jsx)("div",{className:"mobile-coach-specialty",children:e.specialty})]}),(0,ba.jsx)("div",{className:"mobile-coach-action",children:(0,ba.jsx)("i",{className:"fas fa-chevron-right"})})]}),e.bio&&(0,ba.jsx)("div",{className:"mobile-coach-description",children:e.bio.length>120?"".concat(e.bio.substring(0,120),"..."):e.bio}),(0,ba.jsxs)("div",{className:"mobile-coach-features",children:[(0,ba.jsxs)("span",{className:"mobile-feature-tag",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-check me-1"}),"Disponible"]}),(0,ba.jsxs)("span",{className:"mobile-feature-tag",children:[(0,ba.jsx)("i",{className:"fas fa-user me-1"}),"Pr\xe9sentiel"]})]})]})},e.id)))}):(0,ba.jsxs)("div",{className:"mobile-empty-state",children:[(0,ba.jsx)("div",{className:"mobile-empty-icon",children:(0,ba.jsx)("i",{className:"fas fa-user-slash"})}),(0,ba.jsx)("div",{className:"mobile-empty-title",children:"Aucun coach disponible"}),(0,ba.jsx)("div",{className:"mobile-empty-text",children:"Veuillez revenir plus tard"})]})})]}),"group-courses"===p&&(0,ba.jsxs)("div",{className:"mobile-content-section",children:[(0,ba.jsxs)("div",{className:"mobile-section-header",children:[(0,ba.jsx)("button",{onClick:()=>f("courses"),className:"btn btn-link p-0 me-2 text-decoration-none",style:{color:"var(--highlight-color)"},children:(0,ba.jsx)("i",{className:"fas fa-arrow-left"})}),(0,ba.jsx)("i",{className:"fas fa-users me-2"}),"Cours de Groupe"]}),(0,ba.jsx)("div",{className:"mobile-section-content",children:(0,ba.jsx)(Ga,{})})]}),"packs"===p&&(0,ba.jsxs)("div",{className:"mobile-content-section",children:[(0,ba.jsxs)("div",{className:"mobile-section-header",children:[(0,ba.jsx)("i",{className:"fas fa-gift me-2"}),"Nos Packs"]}),(0,ba.jsx)("div",{className:"mobile-section-content",children:(0,ba.jsx)(za,{})})]})]}),(0,ba.jsx)(Ya,{currentView:p,onViewChange:f}),n&&(0,ba.jsx)(Ma,{coach:n,onClose:O,onSuccess:F}),g&&(0,ba.jsx)("div",{className:"contact-modal-overlay",onClick:_,children:(0,ba.jsxs)("div",{className:"contact-modal",onClick:e=>e.stopPropagation(),children:[(0,ba.jsx)("h3",{children:"Contactez-nous"}),(0,ba.jsx)("p",{className:"copy-instruction",children:x?"Appuyez pour appeler ou copiez le num\xe9ro":"Cliquez pour copier le num\xe9ro"}),(0,ba.jsx)("div",{className:"phone-number",onClick:P,children:"+212 660-505652"}),(0,ba.jsxs)("div",{className:"modal-actions",children:[(0,ba.jsxs)("button",{className:"btn-copy",onClick:E,children:[(0,ba.jsx)("i",{className:"fas fa-copy me-2"}),"Copier"]}),(0,ba.jsxs)("a",{href:"https://wa.me/212660505652?text=".concat(encodeURIComponent("Bonjour, je souhaite obtenir des informations sur vos services de coaching.")),className:"btn-whatsapp",target:"_blank",rel:"noopener noreferrer",children:[(0,ba.jsx)("i",{className:"fab fa-whatsapp"}),"WhatsApp"]}),(0,ba.jsx)("button",{className:"btn-close-modal",onClick:_,children:"Fermer"})]})]})}),j&&(0,ba.jsxs)("div",{className:"copy-success",children:[(0,ba.jsx)("i",{className:"fas fa-check me-2"}),"Num\xe9ro copi\xe9!"]})]}):(0,ba.jsxs)("div",{className:"main-wrapper desktop-only",children:[(0,ba.jsx)("header",{className:"modern-header",children:(0,ba.jsx)("div",{className:"container",children:(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,ba.jsx)("div",{className:"brand",children:(0,ba.jsxs)(Pe,{to:"/",className:"brand-link",children:[(0,ba.jsx)("img",{src:"/logo_white.png",alt:"Suite Coaching",className:"brand-logo"}),(0,ba.jsx)("span",{className:"brand-text",children:"Suite Coaching"})]})}),(0,ba.jsx)("div",{className:"user-profile",children:c?(0,ba.jsxs)("div",{className:"dropdown",children:[(0,ba.jsxs)("button",{className:"btn dropdown-toggle user-button",type:"button",id:"userDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:[(0,ba.jsx)("span",{className:"user-avatar me-2",children:(0,ba.jsx)("i",{className:"fas fa-user-circle"})}),(0,ba.jsx)("span",{className:"user-name",children:c.username})]}),(0,ba.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"userDropdown",children:[(0,ba.jsx)("li",{children:(0,ba.jsxs)("a",{className:"dropdown-item",href:"profile",children:[(0,ba.jsx)("i",{className:"fas fa-id-card me-2"}),"Profil"]})}),(0,ba.jsx)("li",{children:(0,ba.jsx)("hr",{className:"dropdown-divider"})}),(0,ba.jsx)("li",{children:(0,ba.jsxs)("button",{className:"dropdown-item",onClick:()=>k("user"),children:[(0,ba.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"D\xe9connexion"]})})]})]}):(0,ba.jsxs)(Pe,{to:"/login",className:"btn login-button",children:[(0,ba.jsx)("i",{className:"fas fa-sign-in-alt me-2"}),"Connexion"]})})]})})}),(0,ba.jsxs)("div",{className:"video-hero-section",children:[(0,ba.jsxs)("video",{ref:i,className:"video-background fullscreen-video",loop:!0,muted:!0,autoPlay:!0,playsInline:!0,children:[(0,ba.jsx)("source",{src:"/Video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,ba.jsxs)("div",{className:"video-overlay",children:[c&&d&&(0,ba.jsxs)("div",{className:"points-display ".concat(N?"points-updated":""),children:[(0,ba.jsx)("i",{className:"fas fa-star me-2"}),(0,ba.jsxs)("strong",{children:["Vos Cr\xe9dits:",(0,ba.jsxs)("span",{className:"mx-1",title:"Session individuelle (Points individuels)",children:["SI: ",JSON.parse(localStorage.getItem("clientUser")||"{}").solo_points||c.solo_points||0]}),"|",(0,ba.jsxs)("span",{className:"mx-1",title:"Session en \xe9quipe (Points de groupe)",children:["SE: ",JSON.parse(localStorage.getItem("clientUser")||"{}").team_points||c.team_points||0]})]}),N&&(0,ba.jsx)("span",{className:"ms-2 points-updated-badge",children:"Mis \xe0 jour!"})]}),(0,ba.jsxs)("div",{className:"hero-content text-center",children:[(0,ba.jsxs)("h1",{className:"hero-title",children:["Transformez Votre ",(0,ba.jsx)("span",{className:"highlight",children:"Potentiel"})]}),(0,ba.jsx)("p",{className:"hero-subtitle",children:"Chaque entra\xeenement vous rapproche de votre\xa0objectif"}),(0,ba.jsxs)("div",{className:"btn-actions-container",children:[(0,ba.jsxs)("button",{className:"btn-book-now",onClick:()=>S(),children:[(0,ba.jsx)("span",{className:"btn-text",children:"R\xe9servez une S\xe9ance"}),(0,ba.jsx)("span",{className:"btn-icon",children:(0,ba.jsx)("i",{className:"fas fa-arrow-right"})})]}),(0,ba.jsxs)("button",{className:"btn-view-packs ms-3",onClick:()=>{o.current&&o.current.scrollIntoView({behavior:"smooth"})},children:[(0,ba.jsx)("span",{className:"btn-text",children:"Voir Nos Packs"}),(0,ba.jsx)("span",{className:"btn-icon",children:(0,ba.jsx)("i",{className:"fas fa-gift"})})]})]}),(0,ba.jsxs)("div",{className:"contact-buttons-container",children:[(0,ba.jsx)("button",{className:"contact-us-button whatsapp-button",onClick:T,title:"WhatsApp",children:(0,ba.jsx)("i",{className:"fab fa-whatsapp"})}),(0,ba.jsx)("button",{className:"contact-us-button phone-button",onClick:C,title:"T\xe9l\xe9phone",children:(0,ba.jsx)("i",{className:"fas fa-phone"})})]}),(0,ba.jsx)("div",{className:"sound-control",children:(0,ba.jsx)("button",{className:"btn-sound sound-icon-transition",onClick:()=>{i.current&&(i.current.muted?(i.current.muted=!1,document.querySelector(".sound-control i").className="fas fa-volume-up"):(i.current.muted=!0,document.querySelector(".sound-control i").className="fas fa-volume-mute"))},children:(0,ba.jsx)("i",{className:"fas fa-volume-mute"})})}),(0,ba.jsx)("div",{className:"scroll-arrow",onClick:()=>S(),children:(0,ba.jsx)("i",{className:"fas fa-chevron-down"})})]})]})]}),(0,ba.jsx)("section",{className:"premium-section",children:(0,ba.jsxs)("div",{id:"coaches-section",className:"container slide-up",children:[(0,ba.jsxs)("div",{className:"page-header",children:[(0,ba.jsx)("h2",{className:"display-4 mb-3",style:{color:"var(--secondary-color)"},children:"Services de Coaching Professionnel"}),(0,ba.jsx)("div",{className:"section-separator"}),(0,ba.jsx)("p",{className:"lead",style:{color:"var(--text-color)"},children:"Connectez-vous avec nos coachs exp\xe9riment\xe9s pour atteindre vos objectifs personnels et professionnels"}),d&&c&&(0,ba.jsx)("div",{className:"client-points-display mb-4",children:(0,ba.jsx)("div",{className:"card shadow-sm border-0",style:{background:"rgba(30, 30, 30, 0.03)"},children:(0,ba.jsxs)("div",{className:"card-body text-center",children:[(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-star me-2",style:{color:"var(--highlight-color)"}}),"Vos Cr\xe9dits:",(0,ba.jsxs)("span",{className:"badge bg-primary mx-1",title:"Session individuelle (Points individuels)",children:["SI: ",c.solo_points||0]}),(0,ba.jsxs)("span",{className:"badge bg-success mx-1",title:"Session en \xe9quipe (Points de groupe)",children:["SE: ",c.team_points||0]})]}),(0,ba.jsx)("p",{className:"small mt-2 mb-0",style:{color:"var(--text-color)"},children:"SP pour les s\xe9ances individuelles | TP pour les cours de groupe"})]})})})]}),(0,ba.jsx)("div",{className:"row",children:e.map((e=>(0,ba.jsx)(Ea,{coach:e,onReserve:R},e.id)))}),0===e.length&&(0,ba.jsxs)("div",{className:"text-center mt-5 p-5 rounded-3 shadow-sm",style:{background:"rgba(30, 30, 30, 0.05)"},children:[(0,ba.jsx)("i",{className:"fas fa-user-slash fa-3x mb-3",style:{color:"var(--highlight-color)"}}),(0,ba.jsx)("h3",{style:{color:"var(--secondary-color)"},children:"Aucun coach disponible pour le moment"}),(0,ba.jsx)("p",{style:{color:"var(--text-color)",opacity:.7},children:"Veuillez revenir plus tard ou nous contacter pour plus d'informations."})]}),n&&(0,ba.jsx)(Ma,{coach:n,onClose:O,onSuccess:F})]})}),(0,ba.jsx)("section",{className:"premium-section group-courses-section mb-5",children:(0,ba.jsxs)("div",{className:"container slide-up",children:[(0,ba.jsxs)("div",{className:"page-header",children:[(0,ba.jsx)("h2",{className:"display-4 mb-3",style:{color:"var(--secondary-color)"},children:"Cours de Groupe"}),(0,ba.jsx)("div",{className:"section-separator"}),(0,ba.jsx)("p",{className:"lead",style:{color:"var(--text-color)"},children:"Rejoignez nos cours de groupe anim\xe9s par nos coachs professionnels pour une exp\xe9rience collaborative"})]}),(0,ba.jsx)("div",{className:"group-courses-container",children:(0,ba.jsx)(Ga,{})})]})}),(0,ba.jsx)("section",{ref:o,className:"packs-section-wrapper",children:(0,ba.jsx)(za,{})}),g&&(0,ba.jsx)("div",{className:"contact-modal-overlay",onClick:_,children:(0,ba.jsxs)("div",{className:"contact-modal",onClick:e=>e.stopPropagation(),children:[(0,ba.jsx)("h3",{children:"Contactez-nous"}),(0,ba.jsx)("p",{className:"copy-instruction",children:x?"Appuyez pour appeler ou copiez le num\xe9ro":"Cliquez pour copier le num\xe9ro"}),(0,ba.jsx)("div",{className:"phone-number",onClick:P,children:"+212 660-505652"}),(0,ba.jsxs)("div",{className:"modal-actions",children:[(0,ba.jsxs)("button",{className:"btn-copy",onClick:E,children:[(0,ba.jsx)("i",{className:"fas fa-copy me-2"}),"Copier"]}),(0,ba.jsxs)("a",{href:"https://wa.me/212660505652?text=".concat(encodeURIComponent("Bonjour, je souhaite obtenir des informations sur vos services de coaching.")),className:"btn-whatsapp",target:"_blank",rel:"noopener noreferrer",children:[(0,ba.jsx)("i",{className:"fab fa-whatsapp"}),"WhatsApp"]}),(0,ba.jsx)("button",{className:"btn-close-modal",onClick:_,children:"Fermer"})]})]})}),j&&(0,ba.jsxs)("div",{className:"copy-success",children:[(0,ba.jsx)("i",{className:"fas fa-check me-2"}),"Num\xe9ro copi\xe9!"]})]})},Ka=e=>{let{redirectPath:t="/admin"}=e;const[n,s]=(0,a.useState)({matricule:"",password:""}),[l,r]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),c=te(),{adminUser:d,login:u}=(0,a.useContext)(ya),[m]=Re();(0,a.useEffect)((()=>{"session_expired"===m.get("reason")&&r("Your admin session has expired. Please log in again.")}),[m]),(0,a.useEffect)((()=>{d&&c(t)}),[d,c,t]),(0,a.useEffect)((()=>(window.innerWidth<768&&(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.body.style.height="100vh",document.documentElement.style.height="100vh",document.body.style.margin="0",document.body.style.padding="0",document.documentElement.style.margin="0",document.documentElement.style.padding="0",document.body.classList.add("mobile-login-active")),()=>{document.body.style.overflow="",document.documentElement.style.overflow="",document.body.style.height="",document.documentElement.style.height="",document.body.style.margin="",document.body.style.padding="",document.documentElement.style.margin="",document.documentElement.style.padding="",document.body.classList.remove("mobile-login-active")})),[]);const h=e=>{const{name:t,value:n}=e.target;s((e=>ze(ze({},e),{},{[t]:n})))};return(0,ba.jsx)("div",{className:"container mt-5 mobile-login-page",children:(0,ba.jsx)("div",{className:"row justify-content-center",children:(0,ba.jsx)("div",{className:"col-md-6 col-lg-4",children:(0,ba.jsx)("div",{className:"card shadow mobile-admin-login-card",children:(0,ba.jsxs)("div",{className:"card-body p-4",children:[(0,ba.jsxs)("div",{className:"text-center mb-4",children:[(0,ba.jsx)("div",{className:"mobile-login-icon admin-icon",children:(0,ba.jsx)("i",{className:"fas fa-user-shield"})}),(0,ba.jsx)("h2",{className:"mobile-login-title",children:"Administration"}),(0,ba.jsx)("p",{className:"mobile-login-subtitle",children:"Acc\xe8s r\xe9serv\xe9 aux administrateurs"})]}),l&&(0,ba.jsxs)("div",{className:"alert alert-danger mobile-login-alert",role:"alert",children:[(0,ba.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),l]}),(0,ba.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r(""),o(!0);try{console.log("Attempting admin login with:",n);try{await u(n.matricule,n.password),console.log("Auth context updated, redirecting to:",t),c(t)}catch(i){var a,s;console.error("Server login failed:",i),null!==(a=i.response)&&void 0!==a&&null!==(s=a.data)&&void 0!==s&&s.error?r(i.response.data.error):"Network Error"===i.message?r("Impossible de se connecter au serveur. Veuillez v\xe9rifier votre connexion internet et r\xe9essayer."):r("Une erreur est survenue lors de la connexion. Veuillez r\xe9essayer plus tard.")}}catch(l){console.error("Login process error:",l),r("Login process failed. Please try again.")}finally{o(!1)}},children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label mobile-form-label",children:"Matricule"}),(0,ba.jsxs)("div",{className:"input-group mobile-input-group",children:[(0,ba.jsx)("span",{className:"input-group-text mobile-input-icon",children:(0,ba.jsx)("i",{className:"fas fa-id-card"})}),(0,ba.jsx)("input",{type:"text",className:"form-control mobile-form-input",name:"matricule",value:n.matricule,onChange:h,required:!0,placeholder:"Votre matricule"})]})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label mobile-form-label",children:"Mot de passe"}),(0,ba.jsxs)("div",{className:"input-group mobile-input-group",children:[(0,ba.jsx)("span",{className:"input-group-text mobile-input-icon",children:(0,ba.jsx)("i",{className:"fas fa-lock"})}),(0,ba.jsx)("input",{type:"password",className:"form-control mobile-form-input",name:"password",value:n.password,onChange:h,required:!0,placeholder:"Votre mot de passe"})]})]}),(0,ba.jsx)("div",{className:"d-grid gap-2 mt-4",children:(0,ba.jsx)("button",{type:"submit",className:"btn btn-primary mobile-login-btn",disabled:i,children:i?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Connexion..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-sign-in-alt me-2"}),"Se Connecter"]})})})]}),(0,ba.jsx)("div",{className:"text-center mt-3",children:(0,ba.jsxs)("a",{href:"/",className:"mobile-back-link",children:[(0,ba.jsx)("i",{className:"fas fa-arrow-left me-1"}),"Retour \xe0 l'accueil"]})})]})})})})})},Ja=()=>(0,ba.jsxs)("div",{className:"container mt-4",children:[(0,ba.jsxs)("h2",{className:"text-center mb-4",children:[(0,ba.jsx)("i",{className:"fas fa-shield-alt me-2"}),"Admin Login"]}),(0,ba.jsx)("p",{className:"text-center text-muted mb-4",children:"Please enter your credentials to access the administration panel"}),(0,ba.jsx)(Ka,{redirectPath:"/admin"})]}),Qa=e=>{let{redirectPath:t="/"}=e;const[n,s]=(0,a.useState)({email:"",password:""}),[l,r]=(0,a.useState)(""),[i,o]=(0,a.useState)(!1),c=te(),{currentUser:d,clientLogin:u}=(0,a.useContext)(ya),[m]=Re();(0,a.useEffect)((()=>{"session_expired"===m.get("reason")&&r("Your session has expired. Please log in again.")}),[m]),(0,a.useEffect)((()=>{d&&c(t)}),[d,c,t]),(0,a.useEffect)((()=>(window.innerWidth<768&&(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.body.style.height="100vh",document.documentElement.style.height="100vh",document.body.style.margin="0",document.body.style.padding="0",document.documentElement.style.margin="0",document.documentElement.style.padding="0",document.body.classList.add("mobile-login-active")),()=>{document.body.style.overflow="",document.documentElement.style.overflow="",document.body.style.height="",document.documentElement.style.height="",document.body.style.margin="",document.body.style.padding="",document.documentElement.style.margin="",document.documentElement.style.padding="",document.body.classList.remove("mobile-login-active")})),[]);const h=e=>{const{name:t,value:n}=e.target;s((e=>ze(ze({},e),{},{[t]:n})))};return(0,ba.jsx)("div",{className:"container mt-5 mobile-login-page",children:(0,ba.jsx)("div",{className:"row justify-content-center",children:(0,ba.jsx)("div",{className:"col-md-6 col-lg-4",children:(0,ba.jsx)("div",{className:"card shadow-lg mobile-login-card",style:{border:"1px solid rgba(230, 166, 76, 0.3)",borderRadius:"var(--border-radius-lg)",animation:"fadeIn 0.6s ease-out",transform:"translateY(0)",transition:"all 0.3s ease"},children:(0,ba.jsxs)("div",{className:"card-body p-4",children:[(0,ba.jsxs)("div",{className:"text-center mb-4",children:[(0,ba.jsx)("div",{className:"mobile-login-icon",children:(0,ba.jsx)("i",{className:"fas fa-user"})}),(0,ba.jsx)("h2",{className:"mobile-login-title",children:"Connexion"}),(0,ba.jsx)("p",{className:"mobile-login-subtitle",children:"Acc\xe9dez \xe0 votre espace personnel"})]}),l&&(0,ba.jsxs)("div",{className:"alert alert-danger mobile-login-alert",role:"alert",children:[(0,ba.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),l]}),(0,ba.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),r(""),o(!0);try{console.log("Attempting client login with:",n);try{if("user"!==(await u(n.email,n.password)).role)return r("This login is for clients only. Please use the appropriate login."),void o(!1);console.log("Auth context updated, redirecting to:",t),c(t)}catch(d){var a;console.error("Server login failed:",d);var s,i;if((null===(a=d.message)||void 0===a?void 0:a.includes("ECONNREFUSED"))||"Network Error"===d.message||"ECONNABORTED"===d.code)r("Server is unavailable. Please try again later.");else r((null===(s=d.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.error)||"Invalid credentials")}}catch(l){console.error("Login process error:",l),r("Login process failed. Please try again.")}finally{o(!1)}},children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label mobile-form-label",children:"Email"}),(0,ba.jsxs)("div",{className:"input-group mobile-input-group",children:[(0,ba.jsx)("span",{className:"input-group-text mobile-input-icon",children:(0,ba.jsx)("i",{className:"fas fa-envelope"})}),(0,ba.jsx)("input",{type:"email",className:"form-control mobile-form-input",name:"email",value:n.email,onChange:h,required:!0,placeholder:"Votre adresse email"})]})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label mobile-form-label",children:"Mot de passe"}),(0,ba.jsxs)("div",{className:"input-group mobile-input-group",children:[(0,ba.jsx)("span",{className:"input-group-text mobile-input-icon",children:(0,ba.jsx)("i",{className:"fas fa-lock"})}),(0,ba.jsx)("input",{type:"password",className:"form-control mobile-form-input",name:"password",value:n.password,onChange:h,required:!0,placeholder:"Votre mot de passe"})]})]}),(0,ba.jsx)("div",{className:"d-grid gap-2 mt-4",children:(0,ba.jsx)("button",{type:"submit",className:"btn btn-primary mobile-login-btn py-2",disabled:i,style:{fontSize:"1.05rem"},children:i?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Connexion..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-sign-in-alt me-2"}),"Se Connecter"]})})})]}),(0,ba.jsx)("div",{className:"text-center mt-4",children:(0,ba.jsxs)("a",{href:"/",className:"mobile-back-link",style:{color:"var(--highlight-color)",fontWeight:"500"},children:[(0,ba.jsx)("i",{className:"fas fa-arrow-left me-2"}),"Retour \xe0 l'accueil"]})})]})})})})})},Xa=["token"],Za=()=>{const[e,t]=(0,a.useState)(""),[n,s]=(0,a.useState)(""),[l,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)(""),{coachUser:c,setCurrentUser:d,setCoachUser:u}=(0,a.useContext)(ya),m=te(),[h]=Re();(0,a.useEffect)((()=>{"session_expired"===h.get("reason")&&o("Your coach session has expired. Please log in again.")}),[h]),(0,a.useEffect)((()=>{const e=localStorage.getItem("coachToken"),t=JSON.parse(localStorage.getItem("coachUser")||"null");e&&t&&m("/coach",{replace:!0})}),[m,c]),(0,a.useEffect)((()=>(window.innerWidth<768&&(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.body.style.height="100vh",document.documentElement.style.height="100vh",document.body.style.margin="0",document.body.style.padding="0",document.documentElement.style.margin="0",document.documentElement.style.padding="0",document.body.classList.add("mobile-login-active")),()=>{document.body.style.overflow="",document.documentElement.style.overflow="",document.body.style.height="",document.documentElement.style.height="",document.body.style.margin="",document.body.style.padding="",document.documentElement.style.margin="",document.documentElement.style.padding="",document.body.classList.remove("mobile-login-active")})),[]);return(0,ba.jsx)("div",{className:"container mt-5 mobile-login-page",children:(0,ba.jsx)("div",{className:"row justify-content-center",children:(0,ba.jsx)("div",{className:"col-md-6 col-lg-5",children:(0,ba.jsx)("div",{className:"card shadow border-0 mobile-login-card",style:{border:"1px solid rgba(230, 166, 76, 0.3)",borderRadius:"var(--border-radius-lg)",animation:"fadeIn 0.6s ease-out",transform:"translateY(0)",transition:"all 0.3s ease"},children:(0,ba.jsxs)("div",{className:"card-body p-4 p-md-5",children:[(0,ba.jsxs)("div",{className:"text-center mb-4",children:[(0,ba.jsx)("div",{className:"mobile-login-icon",children:(0,ba.jsx)("i",{className:"fas fa-user-tie"})}),(0,ba.jsx)("h2",{className:"mobile-login-title",children:"Connexion Coach"}),(0,ba.jsx)("p",{className:"mobile-login-subtitle",children:"Acc\xe9dez \xe0 votre espace coach"})]}),i&&(0,ba.jsxs)("div",{className:"alert alert-danger mobile-login-alert",role:"alert",children:[(0,ba.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),i]}),(0,ba.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e&&n)try{r(!0),o("");const t=(await ua.post("/api/auth/coach-login",{matricule:e,password:n})).data,{token:a}=t,s=Fe(t,Xa);localStorage.setItem("coachToken",a),localStorage.setItem("coachUser",JSON.stringify(ze(ze({},s),{},{role:"coach"}))),localStorage.removeItem("clientToken"),localStorage.removeItem("clientUser"),delete ua.defaults.headers.common.Authorization,ua.defaults.headers.common.Authorization="Bearer ".concat(a);const l=ze(ze({},s),{},{role:"coach"});u(l),window.location.pathname.startsWith("/coach")?d(l):d(null),m("/coach",{replace:!0})}catch(i){var a,s;console.error("Login error:",i),o((null===(a=i.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.error)||"Login failed. Please check your credentials.")}finally{r(!1)}else o("Matricule and password are required")},children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{htmlFor:"matricule",className:"form-label mobile-form-label",children:"Matricule"}),(0,ba.jsxs)("div",{className:"input-group mobile-input-group",children:[(0,ba.jsx)("span",{className:"input-group-text mobile-input-icon",children:(0,ba.jsx)("i",{className:"fas fa-id-badge"})}),(0,ba.jsx)("input",{type:"text",className:"form-control mobile-form-input",id:"matricule",value:e,onChange:e=>t(e.target.value),placeholder:"Votre matricule",required:!0})]})]}),(0,ba.jsxs)("div",{className:"mb-4",children:[(0,ba.jsx)("label",{htmlFor:"password",className:"form-label mobile-form-label",children:"Mot de passe"}),(0,ba.jsxs)("div",{className:"input-group mobile-input-group",children:[(0,ba.jsx)("span",{className:"input-group-text mobile-input-icon",children:(0,ba.jsx)("i",{className:"fas fa-lock"})}),(0,ba.jsx)("input",{type:"password",className:"form-control mobile-form-input",id:"password",value:n,onChange:e=>s(e.target.value),placeholder:"Votre mot de passe",required:!0})]})]}),(0,ba.jsx)("div",{className:"d-grid gap-2 mt-4",children:(0,ba.jsx)("button",{type:"submit",className:"btn btn-primary mobile-login-btn py-2",disabled:l,style:{fontSize:"1.05rem"},children:l?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Connexion..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-sign-in-alt me-2"}),"Se Connecter"]})})})]}),(0,ba.jsx)("div",{className:"text-center mt-4",children:(0,ba.jsxs)(Pe,{to:"/",className:"mobile-back-link",style:{color:"var(--highlight-color)",fontWeight:"500",textDecoration:"none"},children:[(0,ba.jsx)("i",{className:"fas fa-arrow-left me-2"}),"Retour \xe0 l'accueil"]})})]})})})})})},es=e=>{let{onImageUploaded:t,existingImage:n=null}=e;const[s,l]=(0,a.useState)(null),[r,i]=(0,a.useState)(n),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(0),p=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||s;if(!e){const e="Please select an image to upload";return u(e),void Da(e,{type:"warning",title:"No Image Selected"})}c(!0),u(null),h(10);const n=new FormData;n.append("image",e);try{h(30);const e=await ua.post("/api/uploads/image",n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{const t=Math.round(70*e.loaded/e.total);h(30+t)}});if(h(100),e.data.success){const n=e.data.data.url;console.log("Image successfully uploaded to ImgBB:",n),t(n),Da("Image uploaded successfully!",{type:"success",title:"Upload Complete"}),setTimeout((()=>{c(!1)}),500)}else{console.error("ImgBB API returned success:false",e.data);const t="Image upload failed. Please try again.";u(t),Da(t,{type:"error",title:"Upload Failed"}),c(!1)}}catch(i){var a;console.error("Error uploading image to ImgBB:",i),console.error("Error details:",(null===(a=i.response)||void 0===a?void 0:a.data)||i.message);let e="Failed to upload image. Please try again.";if("Network Error"===i.message)e="Network error. Please check your internet connection and try again.";else if(i.response){var l,r;e="Upload failed: ".concat((null===(l=i.response.data)||void 0===l||null===(r=l.error)||void 0===r?void 0:r.message)||"Server error")}u(e),Da(e,{type:"error",title:"Image Upload Error",duration:7e3}),c(!1)}};return(0,ba.jsx)("div",{className:"image-uploader",children:(0,ba.jsxs)("div",{className:"mb-3",children:[r?(0,ba.jsx)("div",{className:"text-center mb-3",children:(0,ba.jsx)("img",{src:r,alt:"Preview",className:"img-thumbnail",style:{maxHeight:"200px",maxWidth:"100%"}})}):(0,ba.jsxs)("div",{className:"image-placeholder mb-3 text-center p-4 border rounded bg-light",children:[(0,ba.jsx)("i",{className:"fas fa-image fa-3x text-muted mb-2"}),(0,ba.jsx)("p",{className:"text-muted mb-0",children:"No image selected"})]}),(0,ba.jsxs)("div",{className:"d-flex gap-2",children:["          ",(0,ba.jsxs)("div",{className:"input-group",children:[(0,ba.jsx)("input",{type:"file",className:"form-control",id:"imageInput",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){l(t);const e=new FileReader;e.onload=()=>{i(e.result)},e.readAsDataURL(t),u(null),h(0),setTimeout((()=>{p(t)}),100)}},disabled:o}),r&&(0,ba.jsxs)("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>{l(null),i(null),t("")},disabled:o,children:[(0,ba.jsx)("i",{className:"fas fa-trash me-1"})," Remove"]})]})]}),o&&(0,ba.jsxs)("div",{className:"mt-2",children:[(0,ba.jsx)("div",{className:"progress",children:(0,ba.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"".concat(m,"%")},"aria-valuenow":m,"aria-valuemin":"0","aria-valuemax":"100"})}),(0,ba.jsxs)("small",{className:"text-muted",children:[m,"% complete"]})]}),d&&(0,ba.jsxs)("div",{className:"alert alert-danger mt-2",children:[(0,ba.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),d]}),(0,ba.jsx)("small",{className:"text-muted d-block mt-2",children:"Supported formats: JPG, PNG, GIF. Max size: 10MB"})]})})};var ts=n(738),ns=n.n(ts);const as=["xxl","xl","lg","md","sm","xs"],ss="xs",ls=a.createContext({prefixes:{},breakpoints:as,minBreakpoint:ss}),{Consumer:rs,Provider:is}=ls;function os(e,t){const{prefixes:n}=(0,a.useContext)(ls);return e||n[t]||t}function cs(){const{breakpoints:e}=(0,a.useContext)(ls);return e}function ds(){const{minBreakpoint:e}=(0,a.useContext)(ls);return e}const us=["bsPrefix","fluid","as","className"],ms=a.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:a=!1,as:s="div",className:l}=e,r=Fe(e,us);const i=os(n,"container"),o="string"===typeof a?"-".concat(a):"-fluid";return(0,ba.jsx)(s,ze(ze({ref:t},r),{},{className:ns()(l,a?"".concat(i).concat(o):i)}))}));ms.displayName="Container";const hs=ms;var ps=n(942),fs=n.n(ps);function xs(e,t,n){const s=(0,a.useRef)(void 0!==e),[l,r]=(0,a.useState)(t),i=void 0!==e,o=s.current;return s.current=i,!i&&o&&l!==t&&r(t),[i?e:l,(0,a.useCallback)((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const[s,...l]=t;let i=null==n?void 0:n(s,...l);return r(s),i}),[n])]}const vs={prefix:String(Math.round(1e10*Math.random())),current:0},gs=a.createContext(vs),bs=a.createContext(!1);Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);let js=new WeakMap;function ys(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,a.useContext)(gs),n=(0,a.useRef)(null);if(null===n.current&&!e){var s,l;let e=null===(l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===l||null===(s=l.ReactCurrentOwner)||void 0===s?void 0:s.current;if(e){let n=js.get(e);null==n?js.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==n.state&&(t.current=n.id,js.delete(e))}n.current=++t.current}return n.current}const Ns="function"===typeof a.useId?function(e){let t=a.useId(),[n]=(0,a.useState)("function"===typeof a.useSyncExternalStore?a.useSyncExternalStore(Ss,ws,ks):(0,a.useContext)(bs)),s=n?"react-aria":"react-aria".concat(vs.prefix);return e||"".concat(s,"-").concat(t)}:function(e){let t=(0,a.useContext)(gs),n=ys(!!e),s="react-aria".concat(t.prefix);return e||"".concat(s,"-").concat(n)};function ws(){return!1}function ks(){return!0}function Ss(e){return()=>{}}const Cs=a.createContext(null),_s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Es=a.createContext(null);const Ps=function(e){const t=(0,a.useRef)(e);return(0,a.useEffect)((()=>{t.current=e}),[e]),t};function Ts(e){const t=Ps(e);return(0,a.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}const Ds=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Rs=function(e,t){return(0,a.useMemo)((()=>function(e,t){const n=Ds(e),a=Ds(t);return e=>{n&&n(e),a&&a(e)}}(e,t)),[e,t])};function Os(e){if(!e||"function"===typeof e)return null;const{major:t}=function(){const e=a.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}();return t>=19?e.props.ref:e.ref}const Fs=function(e){let{children:t,in:n,onExited:s,mountOnEnter:l,unmountOnExit:r}=e;const i=(0,a.useRef)(null),o=(0,a.useRef)(n),c=Ts(s);(0,a.useEffect)((()=>{n?o.current=!0:c(i.current)}),[n,c]);const d=Rs(i,Os(t)),u=(0,a.cloneElement)(t,{ref:d});return n?u:r||!o.current&&l?null:u},Is=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],As=["activeKey","getControlledId","getControllerId"],Ls=["as"];function Ms(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function zs(e){let{active:t,eventKey:n,mountOnEnter:s,transition:l,unmountOnExit:r,role:i="tabpanel",onEnter:o,onEntering:c,onEntered:d,onExit:u,onExiting:m,onExited:h}=e,p=Ms(e,Is);const f=(0,a.useContext)(Cs);if(!f)return[Object.assign({},p,{role:i}),{eventKey:n,isActive:t,mountOnEnter:s,transition:l,unmountOnExit:r,onEnter:o,onEntering:c,onEntered:d,onExit:u,onExiting:m,onExited:h}];const{activeKey:x,getControlledId:v,getControllerId:g}=f,b=Ms(f,As),j=_s(n);return[Object.assign({},p,{role:i,id:v(n),"aria-labelledby":g(n)}),{eventKey:n,isActive:null==t&&null!=j?_s(x)===j:t,transition:l||b.transition,mountOnEnter:null!=s?s:b.mountOnEnter,unmountOnExit:null!=r?r:b.unmountOnExit,onEnter:o,onEntering:c,onEntered:d,onExit:u,onExiting:m,onExited:h}]}const Us=a.forwardRef(((e,t)=>{let{as:n="div"}=e,a=Ms(e,Ls);const[s,{isActive:l,onEnter:r,onEntering:i,onEntered:o,onExit:c,onExiting:d,onExited:u,mountOnEnter:m,unmountOnExit:h,transition:p=Fs}]=zs(a);return(0,ba.jsx)(Cs.Provider,{value:null,children:(0,ba.jsx)(Es.Provider,{value:null,children:(0,ba.jsx)(p,{in:l,onEnter:r,onEntering:i,onEntered:o,onExit:c,onExiting:d,onExited:u,mountOnEnter:m,unmountOnExit:h,children:(0,ba.jsx)(n,Object.assign({},s,{ref:t,hidden:!l,"aria-hidden":!l}))})})})}));Us.displayName="TabPanel";const Bs=e=>{const{id:t,generateChildId:n,onSelect:s,activeKey:l,defaultActiveKey:r,transition:i,mountOnEnter:o,unmountOnExit:c,children:d}=e,[u,m]=xs(l,r,s),h=Ns(t),p=(0,a.useMemo)((()=>n||((e,t)=>h?"".concat(h,"-").concat(t,"-").concat(e):null)),[h,n]),f=(0,a.useMemo)((()=>({onSelect:m,activeKey:u,transition:i,mountOnEnter:o||!1,unmountOnExit:c||!1,getControlledId:e=>p(e,"tabpane"),getControllerId:e=>p(e,"tab")})),[m,u,i,o,c,p]);return(0,ba.jsx)(Cs.Provider,{value:f,children:(0,ba.jsx)(Es.Provider,{value:m||null,children:d})})};Bs.Panel=Us;const Ws=Bs;function qs(e,t){return qs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qs(e,t)}const Hs=!1,Vs=a.createContext(null);var Gs="unmounted",Ys="exited",$s="entering",Ks="entered",Js="exiting",Qs=function(e){var t,n;function s(t,n){var a;a=e.call(this,t,n)||this;var s,l=n&&!n.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?l?(s=Ys,a.appearStatus=$s):s=Ks:s=t.unmountOnExit||t.mountOnEnter?Gs:Ys,a.state={status:s},a.nextCallback=null,a}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,qs(t,n),s.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Gs?{status:Ys}:null};var l=s.prototype;return l.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},l.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==$s&&n!==Ks&&(t=$s):n!==$s&&n!==Ks||(t=Js)}this.updateStatus(!1,t)},l.componentWillUnmount=function(){this.cancelNextCallback()},l.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!==typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},l.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===$s){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ys&&this.setState({status:Gs})},l.performEnter=function(e){var t=this,n=this.props.enter,a=this.context?this.context.isMounting:e,s=this.props.nodeRef?[a]:[r.findDOMNode(this),a],l=s[0],i=s[1],o=this.getTimeouts(),c=a?o.appear:o.enter;!e&&!n||Hs?this.safeSetState({status:Ks},(function(){t.props.onEntered(l)})):(this.props.onEnter(l,i),this.safeSetState({status:$s},(function(){t.props.onEntering(l,i),t.onTransitionEnd(c,(function(){t.safeSetState({status:Ks},(function(){t.props.onEntered(l,i)}))}))})))},l.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),a=this.props.nodeRef?void 0:r.findDOMNode(this);t&&!Hs?(this.props.onExit(a),this.safeSetState({status:Js},(function(){e.props.onExiting(a),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ys},(function(){e.props.onExited(a)}))}))}))):this.safeSetState({status:Ys},(function(){e.props.onExited(a)}))},l.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},l.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},l.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},l.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:r.findDOMNode(this),a=null==e&&!this.props.addEndListener;if(n&&!a){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],l=s[0],i=s[1];this.props.addEndListener(l,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},l.render=function(){var e=this.state.status;if(e===Gs)return null;var t=this.props,n=t.children,s=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Oe(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(Vs.Provider,{value:null},"function"===typeof n?n(e,s):a.cloneElement(a.Children.only(n),s))},s}(a.Component);function Xs(){}Qs.contextType=Vs,Qs.propTypes={},Qs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xs,onEntering:Xs,onEntered:Xs,onExit:Xs,onExiting:Xs,onExited:Xs},Qs.UNMOUNTED=Gs,Qs.EXITED=Ys,Qs.ENTERING=$s,Qs.ENTERED=Ks,Qs.EXITING=Js;const Zs=Qs;function el(e){return e&&e.ownerDocument||document}function tl(e,t){return function(e){var t=el(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var nl=/([A-Z])/g;var al=/^ms-/;function sl(e){return function(e){return e.replace(nl,"-$1").toLowerCase()}(e).replace(al,"-ms-")}var ll=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const rl=function(e,t){var n="",a="";if("string"===typeof t)return e.style.getPropertyValue(sl(t))||tl(e).getPropertyValue(sl(t));Object.keys(t).forEach((function(s){var l=t[s];l||0===l?!function(e){return!(!e||!ll.test(e))}(s)?n+=sl(s)+": "+l+";":a+=s+"("+l+") ":e.style.removeProperty(sl(s))})),a&&(n+="transform: "+a+";"),e.style.cssText+=";"+n},il=!("undefined"===typeof window||!window.document||!window.document.createElement);var ol=!1,cl=!1;try{var dl={get passive(){return ol=!0},get once(){return cl=ol=!0}};il&&(window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,!0))}catch(am){}const ul=function(e,t,n,a){if(a&&"boolean"!==typeof a&&!cl){var s=a.once,l=a.capture,r=n;!cl&&s&&(r=n.__once||function e(a){this.removeEventListener(t,e,l),n.call(this,a)},n.__once=r),e.addEventListener(t,r,ol?a:l)}e.addEventListener(t,n,a)};const ml=function(e,t,n,a){var s=a&&"boolean"!==typeof a?a.capture:a;e.removeEventListener(t,n,s),n.__once&&e.removeEventListener(t,n.__once,s)};const hl=function(e,t,n,a){return ul(e,t,n,a),function(){ml(e,t,n,a)}};function pl(e,t,n){void 0===n&&(n=5);var a=!1,s=setTimeout((function(){a||function(e,t,n,a){if(void 0===n&&(n=!1),void 0===a&&(a=!0),e){var s=document.createEvent("HTMLEvents");s.initEvent(t,n,a),e.dispatchEvent(s)}}(e,"transitionend",!0)}),t+n),l=hl(e,"transitionend",(function(){a=!0}),{once:!0});return function(){clearTimeout(s),l()}}function fl(e,t,n,a){null==n&&(n=function(e){var t=rl(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var s=pl(e,n,a),l=hl(e,"transitionend",t);return function(){s(),l()}}function xl(e,t){const n=rl(e,t)||"",a=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*a}function vl(e,t){const n=xl(e,"transitionDuration"),a=xl(e,"transitionDelay"),s=fl(e,(n=>{n.target===e&&(s(),t(n))}),n+a)}const gl=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const bl=function(e,t){return(0,a.useMemo)((()=>function(e,t){const n=gl(e),a=gl(t);return e=>{n&&n(e),a&&a(e)}}(e,t)),[e,t])};const jl=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],yl=a.forwardRef(((e,t)=>{let{onEnter:n,onEntering:s,onEntered:l,onExit:i,onExiting:o,onExited:c,addEndListener:d,children:u,childRef:m}=e,h=Fe(e,jl);const p=(0,a.useRef)(null),f=bl(p,m),x=e=>{var t;f((t=e)&&"setState"in t?r.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&p.current&&e(p.current,t)},g=(0,a.useCallback)(v(n),[n]),b=(0,a.useCallback)(v(s),[s]),j=(0,a.useCallback)(v(l),[l]),y=(0,a.useCallback)(v(i),[i]),N=(0,a.useCallback)(v(o),[o]),w=(0,a.useCallback)(v(c),[c]),k=(0,a.useCallback)(v(d),[d]);return(0,ba.jsx)(Zs,ze(ze({ref:t},h),{},{onEnter:g,onEntered:j,onEntering:b,onExit:y,onExited:w,onExiting:N,addEndListener:k,nodeRef:p,children:"function"===typeof u?(e,t)=>u(e,ze(ze({},t),{},{ref:x})):a.cloneElement(u,{ref:x})}))}));yl.displayName="TransitionWrapper";const Nl=yl,wl=["className","children","transitionClasses","onEnter"],kl={[$s]:"show",[Ks]:"show"},Sl=a.forwardRef(((e,t)=>{let{className:n,children:s,transitionClasses:l={},onEnter:r}=e;const i=ze({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Fe(e,wl)),o=(0,a.useCallback)(((e,t)=>{!function(e){e.offsetHeight}(e),null==r||r(e,t)}),[r]);return(0,ba.jsx)(Nl,ze(ze({ref:t,addEndListener:vl},i),{},{onEnter:o,childRef:Os(s),children:(e,t)=>a.cloneElement(s,ze(ze({},t),{},{className:ns()("fade",n,s.props.className,kl[e],l[e])}))}))}));Sl.displayName="Fade";const Cl=Sl;function _l(e){return"boolean"===typeof e?e?Cl:Fs:e}const El=["transition"],Pl=e=>{let{transition:t}=e,n=Fe(e,El);return(0,ba.jsx)(Ws,ze(ze({},n),{},{transition:_l(t)}))};Pl.displayName="TabContainer";const Tl=Pl,Dl=["className","bsPrefix","as"],Rl=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="div"}=e,l=Fe(e,Dl);return a=os(a,"tab-content"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));Rl.displayName="TabContent";const Ol=Rl,Fl=["bsPrefix","transition"],Il=["className","as"],Al=a.forwardRef(((e,t)=>{let{bsPrefix:n,transition:a}=e,s=Fe(e,Fl);const[l,{isActive:r,onEnter:i,onEntering:o,onEntered:c,onExit:d,onExiting:u,onExited:m,mountOnEnter:h,unmountOnExit:p,transition:f=Cl}]=zs(ze(ze({},s),{},{transition:_l(a)})),{className:x,as:v="div"}=l,g=Fe(l,Il),b=os(n,"tab-pane");return(0,ba.jsx)(Cs.Provider,{value:null,children:(0,ba.jsx)(Es.Provider,{value:null,children:(0,ba.jsx)(f,{in:r,onEnter:i,onEntering:o,onEntered:c,onExit:d,onExiting:u,onExited:m,mountOnEnter:h,unmountOnExit:p,children:(0,ba.jsx)(v,ze(ze({},g),{},{ref:t,className:ns()(x,b,r&&"active")}))})})})}));Al.displayName="TabPane";const Ll=Al,Ml={eventKey:fs().oneOfType([fs().string,fs().number]),title:fs().node.isRequired,disabled:fs().bool,tabClassName:fs().string,tabAttrs:fs().object},zl=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};zl.propTypes=Ml;const Ul=Object.assign(zl,{Container:Tl,Content:Ol,Pane:Ll}),Bl=["bsPrefix","className","as"],Wl=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,as:s="div"}=e,l=Fe(e,Bl);const r=os(n,"row"),i=cs(),o=ds(),c="".concat(r,"-cols"),d=[];return i.forEach((e=>{const t=l[e];let n;delete l[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const a=e!==o?"-".concat(e):"";null!=n&&d.push("".concat(c).concat(a,"-").concat(n))})),(0,ba.jsx)(s,ze(ze({ref:t},l),{},{className:ns()(a,r,...d)}))}));Wl.displayName="Row";const ql=Wl,Hl=["as","bsPrefix","className"],Vl=["className"];const Gl=a.forwardRef(((e,t)=>{const[n,{as:a="div",bsPrefix:s,spans:l}]=function(e){let{as:t,bsPrefix:n,className:a}=e,s=Fe(e,Hl);n=os(n,"col");const l=cs(),r=ds(),i=[],o=[];return l.forEach((e=>{const t=s[e];let a,l,c;delete s[e],"object"===typeof t&&null!=t?({span:a,offset:l,order:c}=t):a=t;const d=e!==r?"-".concat(e):"";a&&i.push(!0===a?"".concat(n).concat(d):"".concat(n).concat(d,"-").concat(a)),null!=c&&o.push("order".concat(d,"-").concat(c)),null!=l&&o.push("offset".concat(d,"-").concat(l))})),[ze(ze({},s),{},{className:ns()(a,...i,...o)}),{as:t,bsPrefix:n,spans:i}]}(e),{className:r}=n,i=Fe(n,Vl);return(0,ba.jsx)(a,ze(ze({},i),{},{ref:t,className:ns()(r,!l.length&&s)}))}));Gl.displayName="Col";const Yl=Gl;function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$l.apply(null,arguments)}n(949);function Kl(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Jl(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Ql(e,t){return Object.keys(t).reduce((function(n,s){var l,r=n,i=r[Kl(s)],o=r[s],c=Oe(r,[Kl(s),s].map(Jl)),d=t[s],u=function(e,t,n){var s=(0,a.useRef)(void 0!==e),l=(0,a.useState)(t),r=l[0],i=l[1],o=void 0!==e,c=s.current;return s.current=o,!o&&c&&r!==t&&i(t),[o?e:r,(0,a.useCallback)((function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];n&&n.apply(void 0,[e].concat(a)),i(e)}),[n])]}(o,i,e[d]),m=u[0],h=u[1];return $l({},c,((l={})[s]=m,l[d]=h,l))}),e)}function Xl(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Zl(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function er(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}Xl.__suppressDeprecationWarning=!0,Zl.__suppressDeprecationWarning=!0,er.__suppressDeprecationWarning=!0;var tr=Function.prototype.bind.call(Function.prototype.call,[].slice);function nr(e,t){return tr(e.querySelectorAll(t))}const ar=a.createContext(null);ar.displayName="NavContext";const sr=ar;function lr(e){return"".concat("data-rr-ui-").concat(e)}const rr=["as","disabled"];function ir(e){let{tagName:t,disabled:n,href:a,target:s,rel:l,role:r,onClick:i,tabIndex:o=0,type:c}=e;t||(t=null!=a||null!=s||null!=l?"a":"button");const d={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},d];const u=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(a))&&e.preventDefault(),n?e.stopPropagation():null==i||i(e)};return"a"===t&&(a||(a="#"),n&&(a=void 0)),[{role:null!=r?r:"button",disabled:void 0,tabIndex:n?void 0:o,href:a,target:"a"===t?s:void 0,"aria-disabled":n||void 0,rel:"a"===t?l:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const or=a.forwardRef(((e,t)=>{let{as:n,disabled:a}=e,s=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,rr);const[l,{tagName:r}]=ir(Object.assign({tagName:n,disabled:a},s));return(0,ba.jsx)(r,Object.assign({},s,l,{ref:t}))}));or.displayName="Button";const cr=or,dr=["as","active","eventKey"];function ur(e){let{key:t,onClick:n,active:s,id:l,role:r,disabled:i}=e;const o=(0,a.useContext)(Es),c=(0,a.useContext)(sr),d=(0,a.useContext)(Cs);let u=s;const m={role:r};if(c){r||"tablist"!==c.role||(m.role="tab");const e=c.getControllerId(null!=t?t:null),n=c.getControlledId(null!=t?t:null);m[lr("event-key")]=t,m.id=e||l,u=null==s&&null!=t?c.activeKey===t:s,!u&&(null!=d&&d.unmountOnExit||null!=d&&d.mountOnEnter)||(m["aria-controls"]=n)}return"tab"===m.role&&(m["aria-selected"]=u,u||(m.tabIndex=-1),i&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=Ts((e=>{i||(null==n||n(e),null!=t&&o&&!e.isPropagationStopped()&&o(t,e))})),[m,{isActive:u}]}const mr=a.forwardRef(((e,t)=>{let{as:n=cr,active:a,eventKey:s}=e,l=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,dr);const[r,i]=ur(Object.assign({key:_s(s,l.href),active:a},l));return r[lr("active")]=i.isActive,(0,ba.jsx)(n,Object.assign({},l,r,{ref:t}))}));mr.displayName="NavItem";const hr=mr,pr=["as","onSelect","activeKey","role","onKeyDown"];const fr=()=>{},xr=lr("event-key"),vr=a.forwardRef(((e,t)=>{let{as:n="div",onSelect:s,activeKey:l,role:r,onKeyDown:i}=e,o=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,pr);const c=function(){const[,e]=(0,a.useReducer)((e=>e+1),0);return e}(),d=(0,a.useRef)(!1),u=(0,a.useContext)(Es),m=(0,a.useContext)(Cs);let h,p;m&&(r=r||"tablist",l=m.activeKey,h=m.getControlledId,p=m.getControllerId);const f=(0,a.useRef)(null),x=e=>{const t=f.current;if(!t)return null;const n=nr(t,"[".concat(xr,"]:not([aria-disabled=true])")),a=t.querySelector("[aria-selected=true]");if(!a||a!==document.activeElement)return null;const s=n.indexOf(a);if(-1===s)return null;let l=s+e;return l>=n.length&&(l=0),l<0&&(l=n.length-1),n[l]},v=(e,t)=>{null!=e&&(null==s||s(e,t),null==u||u(e,t))};(0,a.useEffect)((()=>{if(f.current&&d.current){const e=f.current.querySelector("[".concat(xr,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));const g=Rs(t,f);return(0,ba.jsx)(Es.Provider,{value:v,children:(0,ba.jsx)(sr.Provider,{value:{role:r,activeKey:_s(l),getControlledId:h||fr,getControllerId:p||fr},children:(0,ba.jsx)(n,Object.assign({},o,{onKeyDown:e=>{if(null==i||i(e),!m)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=x(-1);break;case"ArrowRight":case"ArrowDown":t=x(1);break;default:return}var n;t&&(e.preventDefault(),v(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,c())},ref:g,role:r}))})})}));vr.displayName="Nav";const gr=Object.assign(vr,{Item:hr}),br=a.createContext(null);br.displayName="NavbarContext";const jr=br,yr=a.createContext(null);yr.displayName="CardHeaderContext";const Nr=yr,wr=["className","bsPrefix","as"],kr=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="div"}=e,l=Fe(e,wr);return a=os(a,"nav-item"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));kr.displayName="NavItem";const Sr=kr;const Cr="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,_r="undefined"!==typeof document||Cr?a.useLayoutEffect:a.useEffect;new WeakMap;const Er=["onKeyDown"];const Pr=a.forwardRef(((e,t)=>{let{onKeyDown:n}=e,a=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,Er);const[s]=ir(Object.assign({tagName:"a"},a)),l=Ts((e=>{s.onKeyDown(e),null==n||n(e)}));return(r=a.href)&&"#"!==r.trim()&&"button"!==a.role?(0,ba.jsx)("a",Object.assign({ref:t},a,{onKeyDown:n})):(0,ba.jsx)("a",Object.assign({ref:t},a,s,{onKeyDown:l}));var r}));Pr.displayName="Anchor";const Tr=Pr,Dr=["bsPrefix","className","as","active","eventKey","disabled"],Rr=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,as:s=Tr,active:l,eventKey:r,disabled:i=!1}=e,o=Fe(e,Dr);n=os(n,"nav-link");const[c,d]=ur(ze({key:_s(r,o.href),active:l,disabled:i},o));return(0,ba.jsx)(s,ze(ze(ze({},o),c),{},{ref:t,disabled:i,className:ns()(a,n,i&&"disabled",d.isActive&&"active")}))}));Rr.displayName="NavLink";const Or=Rr,Fr=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Ir=a.forwardRef(((e,t)=>{const n=Ql(e,{activeKey:"onSelect"}),{as:s="div",bsPrefix:l,variant:r,fill:i=!1,justify:o=!1,navbar:c,navbarScroll:d,className:u,activeKey:m}=n,h=Fe(n,Fr),p=os(l,"nav");let f,x,v=!1;const g=(0,a.useContext)(jr),b=(0,a.useContext)(Nr);return g?(f=g.bsPrefix,v=null==c||c):b&&({cardHeaderBsPrefix:x}=b),(0,ba.jsx)(gr,ze({as:s,ref:t,activeKey:m,className:ns()(u,{[p]:!v,["".concat(f,"-nav")]:v,["".concat(f,"-nav-scroll")]:v&&d,["".concat(x,"-").concat(r)]:!!x,["".concat(p,"-").concat(r)]:!!r,["".concat(p,"-fill")]:i,["".concat(p,"-justified")]:o})},h))}));Ir.displayName="Nav";const Ar=Object.assign(Ir,{Item:Sr,Link:Or}),Lr=["className","bsPrefix","as"],Mr=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="div"}=e,l=Fe(e,Lr);return a=os(a,"card-body"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));Mr.displayName="CardBody";const zr=Mr,Ur=["className","bsPrefix","as"],Br=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="div"}=e,l=Fe(e,Ur);return a=os(a,"card-footer"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));Br.displayName="CardFooter";const Wr=Br,qr=["bsPrefix","className","as"],Hr=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:s,as:l="div"}=e,r=Fe(e,qr);const i=os(n,"card-header"),o=(0,a.useMemo)((()=>({cardHeaderBsPrefix:i})),[i]);return(0,ba.jsx)(Nr.Provider,{value:o,children:(0,ba.jsx)(l,ze(ze({ref:t},r),{},{className:ns()(s,i)}))})}));Hr.displayName="CardHeader";const Vr=Hr,Gr=["bsPrefix","className","variant","as"],Yr=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,variant:s,as:l="img"}=e,r=Fe(e,Gr);const i=os(n,"card-img");return(0,ba.jsx)(l,ze({ref:t,className:ns()(s?"".concat(i,"-").concat(s):i,a)},r))}));Yr.displayName="CardImg";const $r=Yr,Kr=["className","bsPrefix","as"],Jr=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="div"}=e,l=Fe(e,Kr);return a=os(a,"card-img-overlay"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));Jr.displayName="CardImgOverlay";const Qr=Jr,Xr=["className","bsPrefix","as"],Zr=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="a"}=e,l=Fe(e,Xr);return a=os(a,"card-link"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));Zr.displayName="CardLink";const ei=Zr,ti=e=>a.forwardRef(((t,n)=>(0,ba.jsx)("div",ze(ze({},t),{},{ref:n,className:ns()(t.className,e)})))),ni=["className","bsPrefix","as"],ai=ti("h6"),si=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s=ai}=e,l=Fe(e,ni);return a=os(a,"card-subtitle"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));si.displayName="CardSubtitle";const li=si,ri=["className","bsPrefix","as"],ii=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="p"}=e,l=Fe(e,ri);return a=os(a,"card-text"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));ii.displayName="CardText";const oi=ii,ci=["className","bsPrefix","as"],di=ti("h5"),ui=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s=di}=e,l=Fe(e,ci);return a=os(a,"card-title"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));ui.displayName="CardTitle";const mi=ui,hi=["bsPrefix","className","bg","text","border","body","children","as"],pi=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,bg:s,text:l,border:r,body:i=!1,children:o,as:c="div"}=e,d=Fe(e,hi);const u=os(n,"card");return(0,ba.jsx)(c,ze(ze({ref:t},d),{},{className:ns()(a,u,s&&"bg-".concat(s),l&&"text-".concat(l),r&&"border-".concat(r)),children:i?(0,ba.jsx)(zr,{children:o}):o}))}));pi.displayName="Card";const fi=Object.assign(pi,{Img:$r,Title:mi,Subtitle:li,Body:zr,Link:ei,Text:oi,Header:Vr,Footer:Wr,ImgOverlay:Qr}),xi=["as","bsPrefix","variant","size","active","disabled","className"],vi=a.forwardRef(((e,t)=>{let{as:n,bsPrefix:a,variant:s="primary",size:l,active:r=!1,disabled:i=!1,className:o}=e,c=Fe(e,xi);const d=os(a,"btn"),[u,{tagName:m}]=ir(ze({tagName:n,disabled:i},c)),h=m;return(0,ba.jsx)(h,ze(ze(ze({},u),c),{},{ref:t,disabled:i,className:ns()(o,d,r&&"active",s&&"".concat(d,"-").concat(s),l&&"".concat(d,"-").concat(l),c.href&&i&&"disabled")}))}));vi.displayName="Button";const gi=vi;const bi=function(e){const t=(0,a.useRef)(e);return(0,a.useEffect)((()=>{t.current=e}),[e]),t};function ji(e){const t=bi(e);return(0,a.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}const yi=["className","bsPrefix","as"],Ni=ti("h4");Ni.displayName="DivStyledAsH4";const wi=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s=Ni}=e,l=Fe(e,yi);return a=os(a,"alert-heading"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));wi.displayName="AlertHeading";const ki=wi,Si=["className","bsPrefix","as"],Ci=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s=Tr}=e,l=Fe(e,Si);return a=os(a,"alert-link"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));Ci.displayName="AlertLink";const _i=Ci,Ei=["className","variant","aria-label"],Pi={"aria-label":fs().string,onClick:fs().func,variant:fs().oneOf(["white"])},Ti=a.forwardRef(((e,t)=>{let{className:n,variant:a,"aria-label":s="Close"}=e,l=Fe(e,Ei);return(0,ba.jsx)("button",ze({ref:t,type:"button",className:ns()("btn-close",a&&"btn-close-".concat(a),n),"aria-label":s},l))}));Ti.displayName="CloseButton",Ti.propTypes=Pi;const Di=Ti,Ri=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],Oi=a.forwardRef(((e,t)=>{const n=Ql(e,{show:"onClose"}),{bsPrefix:a,show:s=!0,closeLabel:l="Close alert",closeVariant:r,className:i,children:o,variant:c="primary",onClose:d,dismissible:u,transition:m=Cl}=n,h=Fe(n,Ri),p=os(a,"alert"),f=ji((e=>{d&&d(!1,e)})),x=!0===m?Cl:m,v=(0,ba.jsxs)("div",ze(ze({role:"alert"},x?void 0:h),{},{ref:t,className:ns()(i,p,c&&"".concat(p,"-").concat(c),u&&"".concat(p,"-dismissible")),children:[u&&(0,ba.jsx)(Di,{onClick:f,"aria-label":l,variant:r}),o]}));return x?(0,ba.jsx)(x,ze(ze({unmountOnExit:!0},h),{},{ref:void 0,in:s,children:v})):s?v:null}));Oi.displayName="Alert";const Fi=Object.assign(Oi,{Link:_i,Heading:ki}),Ii=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],Ai=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,striped:s,bordered:l,borderless:r,hover:i,size:o,variant:c,responsive:d}=e,u=Fe(e,Ii);const m=os(n,"table"),h=ns()(a,m,c&&"".concat(m,"-").concat(c),o&&"".concat(m,"-").concat(o),s&&"".concat(m,"-").concat("string"===typeof s?"striped-".concat(s):"striped"),l&&"".concat(m,"-bordered"),r&&"".concat(m,"-borderless"),i&&"".concat(m,"-hover")),p=(0,ba.jsx)("table",ze(ze({},u),{},{className:h,ref:t}));if(d){let e="".concat(m,"-responsive");return"string"===typeof d&&(e="".concat(e,"-").concat(d)),(0,ba.jsx)("div",{className:e,children:p})}return p}));Ai.displayName="Table";const Li=Ai,Mi=["bsPrefix","bg","pill","text","className","as"],zi=a.forwardRef(((e,t)=>{let{bsPrefix:n,bg:a="primary",pill:s=!1,text:l,className:r,as:i="span"}=e,o=Fe(e,Mi);const c=os(n,"badge");return(0,ba.jsx)(i,ze(ze({ref:t},o),{},{className:ns()(r,c,s&&"rounded-pill",l&&"text-".concat(l),a&&"bg-".concat(a))}))}));zi.displayName="Badge";const Ui=zi;var Bi;function Wi(e){if((!Bi&&0!==Bi||e)&&il){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Bi=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Bi}function qi(e){const t=function(e){const t=(0,a.useRef)(e);return t.current=e,t}(e);(0,a.useEffect)((()=>()=>t.current()),[])}function Hi(e){void 0===e&&(e=el());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(am){return e.body}}function Vi(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Gi(e){const t=function(e){const t=(0,a.useRef)(e);return t.current=e,t}(e);(0,a.useEffect)((()=>()=>t.current()),[])}const Yi=lr("modal-open");const $i=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[n]:a.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(rl(a,n)||"0",10)+e.scrollBarWidth,"px")),a.setAttribute(Yi,""),rl(a,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Yi),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Ki=(0,a.createContext)(il?window:void 0);Ki.Provider;function Ji(){return(0,a.useContext)(Ki)}const Qi=(e,t)=>il?null==e?(t||el()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Xi=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const Zi=["component"];const eo=a.forwardRef(((e,t)=>{let{component:n}=e;const s=function(e){let{onEnter:t,onEntering:n,onEntered:s,onExit:l,onExiting:r,onExited:i,addEndListener:o,children:c}=e,d=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,Xi);const u=(0,a.useRef)(null),m=Rs(u,Os(c)),h=e=>t=>{e&&u.current&&e(u.current,t)},p=(0,a.useCallback)(h(t),[t]),f=(0,a.useCallback)(h(n),[n]),x=(0,a.useCallback)(h(s),[s]),v=(0,a.useCallback)(h(l),[l]),g=(0,a.useCallback)(h(r),[r]),b=(0,a.useCallback)(h(i),[i]),j=(0,a.useCallback)(h(o),[o]);return Object.assign({},d,{nodeRef:u},t&&{onEnter:p},n&&{onEntering:f},s&&{onEntered:x},l&&{onExit:v},r&&{onExiting:g},i&&{onExited:b},o&&{addEndListener:j},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:m})):(0,a.cloneElement)(c,{ref:m})})}(function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,Zi));return(0,ba.jsx)(n,Object.assign({ref:t},s))}));function to(e){let{children:t,in:n,onExited:s,onEntered:l,transition:r}=e;const[i,o]=(0,a.useState)(!n);n&&i&&o(!1);const c=function(e){let{in:t,onTransition:n}=e;const s=(0,a.useRef)(null),l=(0,a.useRef)(!0),r=Ts(n);return _r((()=>{if(!s.current)return;let e=!1;return r({in:t,element:s.current,initial:l.current,isStale:()=>e}),()=>{e=!0}}),[t,r]),_r((()=>(l.current=!1,()=>{l.current=!0})),[]),s}({in:!!n,onTransition:e=>{Promise.resolve(r(e)).then((()=>{e.isStale()||(e.in?null==l||l(e.element,e.initial):(o(!0),null==s||s(e.element)))}),(t=>{throw e.in||o(!0),t}))}}),d=Rs(c,Os(t));return i&&!n?null:(0,a.cloneElement)(t,{ref:d})}function no(e,t,n){return e?(0,ba.jsx)(eo,Object.assign({},n,{component:e})):t?(0,ba.jsx)(to,Object.assign({},n,{transition:t})):(0,ba.jsx)(Fs,Object.assign({},n))}const ao=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let so;function lo(e){const t=Ji(),n=e||function(e){return so||(so=new $i({ownerDocument:null==e?void 0:e.document})),so}(t),s=(0,a.useRef)({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:(0,a.useCallback)((e=>{s.current.dialog=e}),[]),setBackdropRef:(0,a.useCallback)((e=>{s.current.backdrop=e}),[])})}const ro=(0,a.forwardRef)(((e,t)=>{let{show:n=!1,role:s="dialog",className:l,style:i,children:o,backdrop:c=!0,keyboard:d=!0,onBackdropClick:u,onEscapeKeyDown:m,transition:h,runTransition:p,backdropTransition:f,runBackdropTransition:x,autoFocus:v=!0,enforceFocus:g=!0,restoreFocus:b=!0,restoreFocusOptions:j,renderDialog:y,renderBackdrop:N=e=>(0,ba.jsx)("div",Object.assign({},e)),manager:w,container:k,onShow:S,onHide:C=()=>{},onExit:_,onExited:E,onExiting:P,onEnter:T,onEntering:D,onEntered:R}=e,O=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,ao);const F=Ji(),I=function(e,t){const n=Ji(),[s,l]=(0,a.useState)((()=>Qi(e,null==n?void 0:n.document)));if(!s){const t=Qi(e);t&&l(t)}return(0,a.useEffect)((()=>{t&&s&&t(s)}),[t,s]),(0,a.useEffect)((()=>{const t=Qi(e);t!==s&&l(t)}),[e,s]),s}(k),A=lo(w),L=function(){const e=(0,a.useRef)(!0),t=(0,a.useRef)((()=>e.current));return(0,a.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}(),M=function(e){const t=(0,a.useRef)(null);return(0,a.useEffect)((()=>{t.current=e})),t.current}(n),[z,U]=(0,a.useState)(!n),B=(0,a.useRef)(null);(0,a.useImperativeHandle)(t,(()=>A),[A]),il&&!M&&n&&(B.current=Hi(null==F?void 0:F.document)),n&&z&&U(!1);const W=Ts((()=>{if(A.add(),$.current=hl(document,"keydown",G),Y.current=hl(document,"focus",(()=>setTimeout(H)),!0),S&&S(),v){var e,t;const n=Hi(null!=(e=null==(t=A.dialog)?void 0:t.ownerDocument)?e:null==F?void 0:F.document);A.dialog&&n&&!Vi(A.dialog,n)&&(B.current=n,A.dialog.focus())}})),q=Ts((()=>{var e;(A.remove(),null==$.current||$.current(),null==Y.current||Y.current(),b)&&(null==(e=B.current)||null==e.focus||e.focus(j),B.current=null)}));(0,a.useEffect)((()=>{n&&I&&W()}),[n,I,W]),(0,a.useEffect)((()=>{z&&q()}),[z,q]),Gi((()=>{q()}));const H=Ts((()=>{if(!g||!L()||!A.isTopModal())return;const e=Hi(null==F?void 0:F.document);A.dialog&&e&&!Vi(A.dialog,e)&&A.dialog.focus()})),V=Ts((e=>{e.target===e.currentTarget&&(null==u||u(e),!0===c&&C())})),G=Ts((e=>{d&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&A.isTopModal()&&(null==m||m(e),e.defaultPrevented||C())})),Y=(0,a.useRef)(),$=(0,a.useRef)();if(!I)return null;const K=Object.assign({role:s,ref:A.setDialogRef,"aria-modal":"dialog"===s||void 0},O,{style:i,className:l,tabIndex:-1});let J=y?y(K):(0,ba.jsx)("div",Object.assign({},K,{children:a.cloneElement(o,{role:"document"})}));J=no(h,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:_,onExiting:P,onExited:function(){U(!0),null==E||E(...arguments)},onEnter:T,onEntering:D,onEntered:R,children:J});let Q=null;return c&&(Q=N({ref:A.setBackdropRef,onClick:V}),Q=no(f,x,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Q})),(0,ba.jsx)(ba.Fragment,{children:r.createPortal((0,ba.jsxs)(ba.Fragment,{children:[Q,J]}),I)})}));ro.displayName="Modal";const io=Object.assign(ro,{Manager:$i});function oo(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const co=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",uo=".sticky-top",mo=".navbar-toggler";class ho extends $i{adjustAndStore(e,t,n){const a=t.style[e];t.dataset[e]=a,rl(t,{[e]:"".concat(parseFloat(rl(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],rl(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,a;if(a="modal-open",(n=t).classList?n.classList.add(a):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,a)||("string"===typeof n.className?n.className=n.className+" "+a:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+a)),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",l=this.isRTL?"marginLeft":"marginRight";nr(t,co).forEach((t=>this.adjustAndStore(s,t,e.scrollBarWidth))),nr(t,uo).forEach((t=>this.adjustAndStore(l,t,-e.scrollBarWidth))),nr(t,mo).forEach((t=>this.adjustAndStore(l,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,a;a="modal-open",(n=t).classList?n.classList.remove(a):"string"===typeof n.className?n.className=oo(n.className,a):n.setAttribute("class",oo(n.className&&n.className.baseVal||"",a));const s=this.isRTL?"paddingLeft":"paddingRight",l=this.isRTL?"marginLeft":"marginRight";nr(t,co).forEach((e=>this.restore(s,e))),nr(t,uo).forEach((e=>this.restore(l,e))),nr(t,mo).forEach((e=>this.restore(l,e)))}}let po;const fo=["className","bsPrefix","as"],xo=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="div"}=e,l=Fe(e,fo);return a=os(a,"modal-body"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));xo.displayName="ModalBody";const vo=xo,go=a.createContext({onHide(){}}),bo=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],jo=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,contentClassName:s,centered:l,size:r,fullscreen:i,children:o,scrollable:c}=e,d=Fe(e,bo);n=os(n,"modal");const u="".concat(n,"-dialog"),m="string"===typeof i?"".concat(n,"-fullscreen-").concat(i):"".concat(n,"-fullscreen");return(0,ba.jsx)("div",ze(ze({},d),{},{ref:t,className:ns()(u,a,r&&"".concat(n,"-").concat(r),l&&"".concat(u,"-centered"),c&&"".concat(u,"-scrollable"),i&&m),children:(0,ba.jsx)("div",{className:ns()("".concat(n,"-content"),s),children:o})}))}));jo.displayName="ModalDialog";const yo=jo,No=["className","bsPrefix","as"],wo=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="div"}=e,l=Fe(e,No);return a=os(a,"modal-footer"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));wo.displayName="ModalFooter";const ko=wo,So=["closeLabel","closeVariant","closeButton","onHide","children"],Co=a.forwardRef(((e,t)=>{let{closeLabel:n="Close",closeVariant:s,closeButton:l=!1,onHide:r,children:i}=e,o=Fe(e,So);const c=(0,a.useContext)(go),d=ji((()=>{null==c||c.onHide(),null==r||r()}));return(0,ba.jsxs)("div",ze(ze({ref:t},o),{},{children:[i,l&&(0,ba.jsx)(Di,{"aria-label":n,variant:s,onClick:d})]}))}));Co.displayName="AbstractModalHeader";const _o=Co,Eo=["bsPrefix","className","closeLabel","closeButton"],Po=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,closeLabel:s="Close",closeButton:l=!1}=e,r=Fe(e,Eo);return n=os(n,"modal-header"),(0,ba.jsx)(_o,ze(ze({ref:t},r),{},{className:ns()(a,n),closeLabel:s,closeButton:l}))}));Po.displayName="ModalHeader";const To=Po,Do=["className","bsPrefix","as"],Ro=ti("h4"),Oo=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s=Ro}=e,l=Fe(e,Do);return a=os(a,"modal-title"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));Oo.displayName="ModalTitle";const Fo=Oo,Io=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","data-bs-theme","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function Ao(e){return(0,ba.jsx)(Cl,ze(ze({},e),{},{timeout:null}))}function Lo(e){return(0,ba.jsx)(Cl,ze(ze({},e),{},{timeout:null}))}const Mo=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:s,style:l,dialogClassName:r,contentClassName:i,children:o,dialogAs:c=yo,"data-bs-theme":d,"aria-labelledby":u,"aria-describedby":m,"aria-label":h,show:p=!1,animation:f=!0,backdrop:x=!0,keyboard:v=!0,onEscapeKeyDown:g,onShow:b,onHide:j,container:y,autoFocus:N=!0,enforceFocus:w=!0,restoreFocus:k=!0,restoreFocusOptions:S,onEntered:C,onExit:_,onExiting:E,onEnter:P,onEntering:T,onExited:D,backdropClassName:R,manager:O}=e,F=Fe(e,Io);const[I,A]=(0,a.useState)({}),[L,M]=(0,a.useState)(!1),z=(0,a.useRef)(!1),U=(0,a.useRef)(!1),B=(0,a.useRef)(null),[W,q]=(0,a.useState)(null),H=bl(t,q),V=ji(j),G=function(){const{dir:e}=(0,a.useContext)(ls);return"rtl"===e}();n=os(n,"modal");const Y=(0,a.useMemo)((()=>({onHide:V})),[V]);function $(){return O||function(e){return po||(po=new ho(e)),po}({isRTL:G})}function K(e){if(!il)return;const t=$().getScrollbarWidth()>0,n=e.scrollHeight>el(e).documentElement.clientHeight;A({paddingRight:t&&!n?Wi():void 0,paddingLeft:!t&&n?Wi():void 0})}const J=ji((()=>{W&&K(W.dialog)}));qi((()=>{ml(window,"resize",J),null==B.current||B.current()}));const Q=()=>{z.current=!0},X=e=>{z.current&&W&&e.target===W.dialog&&(U.current=!0),z.current=!1},Z=()=>{M(!0),B.current=fl(W.dialog,(()=>{M(!1)}))},ee=e=>{"static"!==x?U.current||e.target!==e.currentTarget?U.current=!1:null==j||j():(e=>{e.target===e.currentTarget&&Z()})(e)},te=(0,a.useCallback)((e=>(0,ba.jsx)("div",ze(ze({},e),{},{className:ns()("".concat(n,"-backdrop"),R,!f&&"show")}))),[f,R,n]),ne=ze(ze({},l),I);ne.display="block";return(0,ba.jsx)(go.Provider,{value:Y,children:(0,ba.jsx)(io,{show:p,ref:H,backdrop:x,container:y,keyboard:!0,autoFocus:N,enforceFocus:w,restoreFocus:k,restoreFocusOptions:S,onEscapeKeyDown:e=>{v?null==g||g(e):(e.preventDefault(),"static"===x&&Z())},onShow:b,onHide:j,onEnter:(e,t)=>{e&&K(e),null==P||P(e,t)},onEntering:(e,t)=>{null==T||T(e,t),ul(window,"resize",J)},onEntered:C,onExit:e=>{null==B.current||B.current(),null==_||_(e)},onExiting:E,onExited:e=>{e&&(e.style.display=""),null==D||D(e),ml(window,"resize",J)},manager:$(),transition:f?Ao:void 0,backdropTransition:f?Lo:void 0,renderBackdrop:te,renderDialog:e=>(0,ba.jsx)("div",ze(ze({role:"dialog"},e),{},{style:ne,className:ns()(s,n,L&&"".concat(n,"-static"),!f&&"show"),onClick:x?ee:void 0,onMouseUp:X,"data-bs-theme":d,"aria-label":h,"aria-labelledby":u,"aria-describedby":m,children:(0,ba.jsx)(c,ze(ze({},F),{},{onMouseDown:Q,className:r,contentClassName:i,children:o}))}))})})}));Mo.displayName="Modal";const zo=Object.assign(Mo,{Body:vo,Header:To,Title:Fo,Footer:ko,Dialog:yo,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Uo=["as","className","type","tooltip"],Bo={type:fs().string,tooltip:fs().bool,as:fs().elementType},Wo=a.forwardRef(((e,t)=>{let{as:n="div",className:a,type:s="valid",tooltip:l=!1}=e,r=Fe(e,Uo);return(0,ba.jsx)(n,ze(ze({},r),{},{ref:t,className:ns()(a,"".concat(s,"-").concat(l?"tooltip":"feedback"))}))}));Wo.displayName="Feedback",Wo.propTypes=Bo;const qo=Wo,Ho=a.createContext({}),Vo=["id","bsPrefix","className","type","isValid","isInvalid","as"],Go=a.forwardRef(((e,t)=>{let{id:n,bsPrefix:s,className:l,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:c="input"}=e,d=Fe(e,Vo);const{controlId:u}=(0,a.useContext)(Ho);return s=os(s,"form-check-input"),(0,ba.jsx)(c,ze(ze({},d),{},{ref:t,type:r,id:n||u,className:ns()(l,s,i&&"is-valid",o&&"is-invalid")}))}));Go.displayName="FormCheckInput";const Yo=Go,$o=["bsPrefix","className","htmlFor"],Ko=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:s,htmlFor:l}=e,r=Fe(e,$o);const{controlId:i}=(0,a.useContext)(Ho);return n=os(n,"form-check-label"),(0,ba.jsx)("label",ze(ze({},r),{},{ref:t,htmlFor:l||i,className:ns()(s,n)}))}));Ko.displayName="FormCheckLabel";const Jo=Ko;const Qo=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Xo=a.forwardRef(((e,t)=>{let{id:n,bsPrefix:s,bsSwitchPrefix:l,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:u=!1,feedback:m,feedbackType:h,className:p,style:f,title:x="",type:v="checkbox",label:g,children:b,as:j="input"}=e,y=Fe(e,Qo);s=os(s,"form-check"),l=os(l,"form-switch");const{controlId:N}=(0,a.useContext)(Ho),w=(0,a.useMemo)((()=>({controlId:n||N})),[N,n]),k=!b&&null!=g&&!1!==g||function(e,t){return a.Children.toArray(e).some((e=>a.isValidElement(e)&&e.type===t))}(b,Jo),S=(0,ba.jsx)(Yo,ze(ze({},y),{},{type:"switch"===v?"checkbox":v,ref:t,isValid:c,isInvalid:d,disabled:o,as:j}));return(0,ba.jsx)(Ho.Provider,{value:w,children:(0,ba.jsx)("div",{style:f,className:ns()(p,k&&s,r&&"".concat(s,"-inline"),i&&"".concat(s,"-reverse"),"switch"===v&&l),children:b||(0,ba.jsxs)(ba.Fragment,{children:[S,k&&(0,ba.jsx)(Jo,{title:x,children:g}),m&&(0,ba.jsx)(qo,{type:h,tooltip:u,children:m})]})})})}));Xo.displayName="FormCheck";const Zo=Object.assign(Xo,{Input:Yo,Label:Jo});n(241);const ec=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],tc=a.forwardRef(((e,t)=>{let{bsPrefix:n,type:s,size:l,htmlSize:r,id:i,className:o,isValid:c=!1,isInvalid:d=!1,plaintext:u,readOnly:m,as:h="input"}=e,p=Fe(e,ec);const{controlId:f}=(0,a.useContext)(Ho);return n=os(n,"form-control"),(0,ba.jsx)(h,ze(ze({},p),{},{type:s,size:r,ref:t,readOnly:m,id:i||f,className:ns()(o,u?"".concat(n,"-plaintext"):n,l&&"".concat(n,"-").concat(l),"color"===s&&"".concat(n,"-color"),c&&"is-valid",d&&"is-invalid")}))}));tc.displayName="FormControl";const nc=Object.assign(tc,{Feedback:qo}),ac=["className","bsPrefix","as"],sc=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="div"}=e,l=Fe(e,ac);return a=os(a,"form-floating"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));sc.displayName="FormFloating";const lc=sc,rc=["controlId","as"],ic=a.forwardRef(((e,t)=>{let{controlId:n,as:s="div"}=e,l=Fe(e,rc);const r=(0,a.useMemo)((()=>({controlId:n})),[n]);return(0,ba.jsx)(Ho.Provider,{value:r,children:(0,ba.jsx)(s,ze(ze({},l),{},{ref:t}))})}));ic.displayName="FormGroup";const oc=ic,cc=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],dc=a.forwardRef(((e,t)=>{let{as:n="label",bsPrefix:s,column:l=!1,visuallyHidden:r=!1,className:i,htmlFor:o}=e,c=Fe(e,cc);const{controlId:d}=(0,a.useContext)(Ho);s=os(s,"form-label");let u="col-form-label";"string"===typeof l&&(u="".concat(u," ").concat(u,"-").concat(l));const m=ns()(i,s,r&&"visually-hidden",l&&u);return o=o||d,l?(0,ba.jsx)(Yl,ze({ref:t,as:"label",className:m,htmlFor:o},c)):(0,ba.jsx)(n,ze({ref:t,className:m,htmlFor:o},c))}));dc.displayName="FormLabel";const uc=dc,mc=["bsPrefix","className","id"],hc=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:s,id:l}=e,r=Fe(e,mc);const{controlId:i}=(0,a.useContext)(Ho);return n=os(n,"form-range"),(0,ba.jsx)("input",ze(ze({},r),{},{type:"range",ref:t,className:ns()(s,n),id:l||i}))}));hc.displayName="FormRange";const pc=hc,fc=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],xc=a.forwardRef(((e,t)=>{let{bsPrefix:n,size:s,htmlSize:l,className:r,isValid:i=!1,isInvalid:o=!1,id:c}=e,d=Fe(e,fc);const{controlId:u}=(0,a.useContext)(Ho);return n=os(n,"form-select"),(0,ba.jsx)("select",ze(ze({},d),{},{size:l,ref:t,className:ns()(r,n,s&&"".concat(n,"-").concat(s),i&&"is-valid",o&&"is-invalid"),id:c||u}))}));xc.displayName="FormSelect";const vc=xc,gc=["bsPrefix","className","as","muted"],bc=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,as:s="small",muted:l}=e,r=Fe(e,gc);return n=os(n,"form-text"),(0,ba.jsx)(s,ze(ze({},r),{},{ref:t,className:ns()(a,n,l&&"text-muted")}))}));bc.displayName="FormText";const jc=bc,yc=a.forwardRef(((e,t)=>(0,ba.jsx)(Zo,ze(ze({},e),{},{ref:t,type:"switch"}))));yc.displayName="Switch";const Nc=Object.assign(yc,{Input:Zo.Input,Label:Zo.Label}),wc=["bsPrefix","className","children","controlId","label"],kc=a.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,children:s,controlId:l,label:r}=e,i=Fe(e,wc);return n=os(n,"form-floating"),(0,ba.jsxs)(oc,ze(ze({ref:t,className:ns()(a,n),controlId:l},i),{},{children:[s,(0,ba.jsx)("label",{htmlFor:l,children:r})]}))}));kc.displayName="FloatingLabel";const Sc=kc,Cc=["className","validated","as"],_c={_ref:fs().any,validated:fs().bool,as:fs().elementType},Ec=a.forwardRef(((e,t)=>{let{className:n,validated:a,as:s="form"}=e,l=Fe(e,Cc);return(0,ba.jsx)(s,ze(ze({},l),{},{ref:t,className:ns()(n,a&&"was-validated")}))}));Ec.displayName="Form",Ec.propTypes=_c;const Pc=Object.assign(Ec,{Group:oc,Control:nc,Floating:lc,Check:Zo,Switch:Nc,Label:uc,Text:jc,Range:pc,Select:vc,FloatingLabel:Sc});var Tc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Dc=a.createContext&&a.createContext(Tc),Rc=["attr","size","title"];function Oc(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fc.apply(this,arguments)}function Ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ic(Object(n),!0).forEach((function(t){Lc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ic(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mc(e){return e&&e.map(((e,t)=>a.createElement(e.tag,Ac({key:t},e.attr),Mc(e.child))))}function zc(e){return t=>a.createElement(Uc,Fc({attr:Ac({},e.attr)},t),Mc(e.child))}function Uc(e){var t=t=>{var n,{attr:s,size:l,title:r}=e,i=Oc(e,Rc),o=l||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),a.createElement("svg",Fc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,i,{className:n,style:Ac(Ac({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),r&&a.createElement("title",null,r),e.children)};return void 0!==Dc?a.createElement(Dc.Consumer,null,(e=>t(e))):t(Tc)}function Bc(e){return zc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function Wc(e){return zc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function qc(e){return zc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(e)}function Hc(e){return zc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Vc(e){return zc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Gc(e){return zc({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function Yc(e){return zc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function $c(e){return zc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}const Kc=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(!1),[l,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)({name:"",description:"",points:"",solo_points:"",team_points:"",price:"",is_active:!0}),[u,m]=(0,a.useState)(""),[h,p]=(0,a.useState)(""),[f,x]=(0,a.useState)(!0),v=async()=>{try{x(!0);const e=await ga.get("/api/packs/admin/all");t(e.data),x(!1)}catch(e){console.error("Error fetching packs:",e),m("Failed to load packs. Please try again later."),x(!1)}};(0,a.useEffect)((()=>{v()}),[]);const g=e=>{const{name:t,value:n,type:a,checked:s}=e.target;d(ze(ze({},c),{},{[t]:"checkbox"===a?s:n}))},b=()=>{d({name:"",description:"",points:"",solo_points:"",team_points:"",price:"",is_active:!0}),m(""),p("")},j=()=>s(!1),y=()=>r(!1);return(0,ba.jsxs)(hs,{className:"mt-4",children:[(0,ba.jsx)(ql,{children:(0,ba.jsx)(Yl,{children:(0,ba.jsxs)(fi,{children:[(0,ba.jsxs)(fi.Header,{className:"d-flex justify-content-between align-items-center",children:[(0,ba.jsx)("h3",{children:"Manage Packs"}),(0,ba.jsxs)(gi,{variant:"primary",onClick:()=>{b(),s(!0)},children:[(0,ba.jsx)(Hc,{className:"me-2"})," Add New Pack"]})]}),(0,ba.jsxs)(fi.Body,{children:[u&&(0,ba.jsx)(Fi,{variant:"danger",children:u}),h&&(0,ba.jsx)(Fi,{variant:"success",children:h}),f?(0,ba.jsx)("div",{className:"text-center py-4",children:"Loading packs..."}):(0,ba.jsx)("div",{className:"table-responsive",children:(0,ba.jsxs)(Li,{striped:!0,hover:!0,className:"admin-packs-table",children:[(0,ba.jsx)("thead",{children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:"ID"}),(0,ba.jsx)("th",{children:"Name"}),(0,ba.jsx)("th",{children:"Description"}),(0,ba.jsx)("th",{children:"Session individuelle (SI)"}),(0,ba.jsx)("th",{children:"Session en \ufffdquipe (SE)"}),(0,ba.jsx)("th",{children:"Total Points"}),(0,ba.jsx)("th",{children:"Price"}),(0,ba.jsx)("th",{children:"Status"}),(0,ba.jsx)("th",{children:"Actions"})]})}),(0,ba.jsx)("tbody",{children:0===e.length?(0,ba.jsx)("tr",{children:(0,ba.jsx)("td",{colSpan:"9",className:"text-center",children:"No packs found. Add your first pack!"})}):e.map((e=>(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:e.id}),(0,ba.jsx)("td",{children:e.name}),(0,ba.jsx)("td",{children:e.description?(0,ba.jsx)("ul",{className:"m-0 ps-3",children:e.description.split("\n").map(((e,t)=>e.trim()?(0,ba.jsx)("li",{children:e.trim()},t):null))}):"-"}),(0,ba.jsxs)("td",{children:[(0,ba.jsx)("strong",{children:e.solo_points||0})," SP"]}),(0,ba.jsxs)("td",{children:[(0,ba.jsx)("strong",{children:e.team_points||0})," TP"]}),(0,ba.jsxs)("td",{children:[(0,ba.jsx)("strong",{children:e.points})," total"]}),(0,ba.jsx)("td",{children:e.price?"".concat(e.price," DH"):"Free"}),(0,ba.jsx)("td",{children:(0,ba.jsx)(Ui,{bg:e.is_active?"success":"danger",children:e.is_active?"Active":"Inactive"})}),(0,ba.jsxs)("td",{children:[(0,ba.jsx)(gi,{variant:"outline-primary",size:"sm",className:"me-2",onClick:()=>(e=>{o(e),d({name:e.name,description:e.description||"",points:e.points,solo_points:e.solo_points||"",team_points:e.team_points||"",price:e.price||"",is_active:1===e.is_active}),r(!0)})(e),children:(0,ba.jsx)(Wc,{})}),(0,ba.jsx)(gi,{variant:"outline-danger",size:"sm",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this pack?"))try{await ga.delete("/api/packs/".concat(e)),p("Pack deleted successfully!"),v()}catch(a){var t,n;console.error("Error deleting pack:",a),m((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to delete pack. Please try again.")}})(e.id),children:(0,ba.jsx)(Yc,{})})]})]},e.id)))})]})})]})]})})}),(0,ba.jsxs)(zo,{show:n,onHide:j,children:[(0,ba.jsx)(zo.Header,{closeButton:!0,children:(0,ba.jsx)(zo.Title,{children:"Add New Pack"})}),(0,ba.jsxs)(zo.Body,{children:[u&&(0,ba.jsx)(Fi,{variant:"danger",children:u}),(0,ba.jsxs)(Pc,{onSubmit:async e=>{e.preventDefault();try{if(!c.name)return void m("Name is required");if((isNaN(c.solo_points)||parseInt(c.solo_points)<0)&&(isNaN(c.team_points)||parseInt(c.team_points)<0))return void m("At least one of Session individuelle or Session en \ufffdquipe must be a positive number");if(c.price&&(isNaN(c.price)||parseFloat(c.price)<0))return void m("Price must be a positive number");const e=parseInt(c.solo_points)||0,t=parseInt(c.team_points)||0,n=e+t,a={name:c.name,description:c.description,points:n,solo_points:e,team_points:t,price:c.price?parseFloat(c.price):null,is_active:c.is_active};await ga.post("/api/packs",a),b(),p("Pack added successfully!"),j(),v()}catch(a){var t,n;console.error("Error adding pack:",a),m((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to add pack. Please try again.")}},children:[(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Pack Name*"}),(0,ba.jsx)(Pc.Control,{type:"text",name:"name",value:c.name,onChange:g,placeholder:"Enter pack name",required:!0})]}),(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Description (Each line will appear as a bullet point)"}),(0,ba.jsx)(Pc.Control,{as:"textarea",name:"description",value:c.description,onChange:g,placeholder:"Enter each feature on a new line, e.g.:\r\n10 points de coaching\r\nR\xe9servez quand vous voulez\r\nAcc\xe8s \xe0 tous les coachs",rows:5}),(0,ba.jsx)(Pc.Text,{className:"text-muted",children:"Each line you type will appear as a separate bullet point with a check mark icon."})]}),(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Points*"}),(0,ba.jsx)(Pc.Control,{type:"number",name:"points",value:c.points,onChange:g,placeholder:"Enter points value",min:"1",required:!0})]}),(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Session individuelle (Optional)"}),(0,ba.jsx)(Pc.Control,{type:"number",name:"solo_points",value:c.solo_points,onChange:g,placeholder:"Enter Session individuelle value",min:"0"})]}),(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Session en \ufffdquipe (Optional)"}),(0,ba.jsx)(Pc.Control,{type:"number",name:"team_points",value:c.team_points,onChange:g,placeholder:"Enter Session en \ufffdquipe value",min:"0"})]}),(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Price (Optional)"}),(0,ba.jsx)(Pc.Control,{type:"number",step:"0.01",name:"price",value:c.price,onChange:g,placeholder:"Enter price (leave empty if free)"})]}),(0,ba.jsx)(Pc.Group,{className:"mb-3",children:(0,ba.jsx)(Pc.Check,{type:"checkbox",name:"is_active",checked:c.is_active,onChange:g,label:"Active pack (available for purchase)"})}),(0,ba.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,ba.jsx)(gi,{variant:"secondary",className:"me-2",onClick:j,children:"Cancel"}),(0,ba.jsx)(gi,{variant:"primary",type:"submit",children:"Add Pack"})]})]})]})]}),(0,ba.jsxs)(zo,{show:l,onHide:y,children:[(0,ba.jsx)(zo.Header,{closeButton:!0,children:(0,ba.jsx)(zo.Title,{children:"Edit Pack"})}),(0,ba.jsxs)(zo.Body,{children:[u&&(0,ba.jsx)(Fi,{variant:"danger",children:u}),(0,ba.jsxs)(Pc,{onSubmit:async e=>{e.preventDefault();try{if(!c.name)return void m("Name is required");if((isNaN(c.solo_points)||parseInt(c.solo_points)<0)&&(isNaN(c.team_points)||parseInt(c.team_points)<0))return void m("At least one of Session individuelle or Session en \ufffdquipe must be a positive number");if(c.price&&(isNaN(c.price)||parseFloat(c.price)<0))return void m("Price must be a positive number");const e=parseInt(c.solo_points)||0,t=parseInt(c.team_points)||0,n=e+t,a={name:c.name,description:c.description,points:n,solo_points:e,team_points:t,price:c.price?parseFloat(c.price):null,is_active:c.is_active};await ga.put("/api/packs/".concat(i.id),a),b(),p("Pack updated successfully!"),y(),v()}catch(a){var t,n;console.error("Error updating pack:",a),m((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to update pack. Please try again.")}},children:[(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Pack Name*"}),(0,ba.jsx)(Pc.Control,{type:"text",name:"name",value:c.name,onChange:g,placeholder:"Enter pack name",required:!0})]}),(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Description (Each line will appear as a bullet point)"}),(0,ba.jsx)(Pc.Control,{as:"textarea",name:"description",value:c.description,onChange:g,placeholder:"Enter each feature on a new line, e.g.:\r\n10 points de coaching\r\nR\xe9servez quand vous voulez\r\nAcc\xe8s \xe0 tous les coachs",rows:5}),(0,ba.jsx)(Pc.Text,{className:"text-muted",children:"Each line you type will appear as a separate bullet point with a check mark icon."})]}),(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Points*"}),(0,ba.jsx)(Pc.Control,{type:"number",name:"points",value:c.points,onChange:g,placeholder:"Enter points value",min:"1",required:!0})]}),(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Session individuelle (Optional)"}),(0,ba.jsx)(Pc.Control,{type:"number",name:"solo_points",value:c.solo_points,onChange:g,placeholder:"Enter Session individuelle value",min:"0"})]}),(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Session en \ufffdquipe (Optional)"}),(0,ba.jsx)(Pc.Control,{type:"number",name:"team_points",value:c.team_points,onChange:g,placeholder:"Enter Session en \ufffdquipe value",min:"0"})]}),(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Price (Optional)"}),(0,ba.jsx)(Pc.Control,{type:"number",step:"0.01",name:"price",value:c.price,onChange:g,placeholder:"Enter price (leave empty if free)"})]}),(0,ba.jsx)(Pc.Group,{className:"mb-3",children:(0,ba.jsx)(Pc.Check,{type:"checkbox",name:"is_active",checked:c.is_active,onChange:g,label:"Active pack (available for purchase)"})}),(0,ba.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,ba.jsx)(gi,{variant:"secondary",className:"me-2",onClick:y,children:"Cancel"}),(0,ba.jsx)(gi,{variant:"primary",type:"submit",children:"Update Pack"})]})]})]})]})]})},Jc=a.createContext(null);Jc.displayName="InputGroupContext";const Qc=Jc,Xc=["className","bsPrefix","as"],Zc=a.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:s="span"}=e,l=Fe(e,Xc);return a=os(a,"input-group-text"),(0,ba.jsx)(s,ze({ref:t,className:ns()(n,a)},l))}));Zc.displayName="InputGroupText";const ed=Zc,td=["bsPrefix","size","hasValidation","className","as"],nd=a.forwardRef(((e,t)=>{let{bsPrefix:n,size:s,hasValidation:l,className:r,as:i="div"}=e,o=Fe(e,td);n=os(n,"input-group");const c=(0,a.useMemo)((()=>({})),[]);return(0,ba.jsx)(Qc.Provider,{value:c,children:(0,ba.jsx)(i,ze(ze({ref:t},o),{},{className:ns()(r,n,s&&"".concat(n,"-").concat(s),l&&"has-validation")}))})}));nd.displayName="InputGroup";const ad=Object.assign(nd,{Text:ed,Radio:e=>(0,ba.jsx)(ed,{children:(0,ba.jsx)(Yo,ze({type:"radio"},e))}),Checkbox:e=>(0,ba.jsx)(ed,{children:(0,ba.jsx)(Yo,ze({type:"checkbox"},e))})}),sd=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)([]),[l,r]=(0,a.useState)([]),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[h,p]=(0,a.useState)(""),[f,x]=(0,a.useState)(null),[v,g]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),[y,N]=(0,a.useState)(""),[w,k]=(0,a.useState)(""),[S,C]=(0,a.useState)(""),[_,E]=(0,a.useState)(!0),[P,T]=(0,a.useState)(!1),[D,R]=(0,a.useState)(!1),[O,F]=(0,a.useState)({startDate:"",endDate:"",clientId:"",showAll:!1}),[I,A]=(0,a.useState)([]),L=async()=>{try{const e=await ga.get("/api/users");t(e.data.filter((e=>"user"===e.role)))}catch(e){console.error("Error fetching users:",e),k("Failed to load users.")}},M=async()=>{try{const e=await ga.get("/api/packs");s(e.data)}catch(e){console.error("Error fetching packs:",e),k("Failed to load packs.")}},z=async()=>{try{const e=await ga.get("/api/packs/admin/user-packs");r(e.data)}catch(e){console.error("Error fetching user packs:",e),k("Failed to load user pack assignments.")}},U=(e,t)=>{F((n=>ze(ze({},n),{},{[e]:t})))};(0,a.useEffect)((()=>{(async()=>{E(!0),await Promise.all([L(),M(),z()]),E(!1)})()}),[]),(0,a.useEffect)((()=>{(()=>{let e=[...l];if(O.startDate){const t=new Date(O.startDate);e=e.filter((e=>new Date(e.purchased_at)>=t))}if(O.endDate){const t=new Date(O.endDate);t.setHours(23,59,59,999),e=e.filter((e=>new Date(e.purchased_at)<=t))}O.clientId&&(e=e.filter((e=>e.user_id===parseInt(O.clientId)))),e.sort(((e,t)=>new Date(t.purchased_at)-new Date(e.purchased_at))),O.showAll||(e=e.slice(0,10)),A(e)})()}),[l,O]);const B=()=>{o(!1),m(null),p(""),g(""),k("")},W=()=>{d(!1),x(null),j(""),k("")},q=e.filter((e=>{var t;return(null===(t=e.full_name)||void 0===t?void 0:t.toLowerCase().includes(y.toLowerCase()))||e.username.toLowerCase().includes(y.toLowerCase())||e.email.toLowerCase().includes(y.toLowerCase())||e.matricule.toLowerCase().includes(y.toLowerCase())}));return(0,ba.jsxs)(hs,{className:"mt-4",children:[(0,ba.jsx)(ql,{children:(0,ba.jsx)(Yl,{children:(0,ba.jsxs)(fi,{children:[(0,ba.jsx)(fi.Header,{children:(0,ba.jsxs)("h3",{children:[(0,ba.jsx)(qc,{className:"me-2"}),"Assign Packs to Users"]})}),(0,ba.jsxs)(fi.Body,{children:[w&&(0,ba.jsx)(Fi,{variant:"danger",children:w}),S&&(0,ba.jsx)(Fi,{variant:"success",children:S}),(0,ba.jsx)(ql,{className:"mb-3",children:(0,ba.jsx)(Yl,{md:6,children:(0,ba.jsxs)(ad,{children:[(0,ba.jsx)(ad.Text,{children:(0,ba.jsx)(Vc,{})}),(0,ba.jsx)(Pc.Control,{type:"text",placeholder:"Search users by name, email, or matricule...",value:y,onChange:e=>N(e.target.value)})]})})}),_?(0,ba.jsx)("div",{className:"text-center py-4",style:{minHeight:"300px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,ba.jsxs)("div",{className:"logo-animation-wrapper",children:[(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"jumping-logo",style:{maxWidth:"100px",maxHeight:"100px"}}),(0,ba.jsx)("div",{className:"logo-shadow"})]})}):(0,ba.jsx)("div",{className:"table-responsive assign-packs-container",children:(0,ba.jsxs)(Li,{striped:!0,hover:!0,className:"users-table",children:[(0,ba.jsx)("thead",{children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:"Matricule"}),(0,ba.jsx)("th",{children:"Name"}),(0,ba.jsx)("th",{children:"Email"}),(0,ba.jsx)("th",{children:"Current Points"}),(0,ba.jsx)("th",{children:"Actions"})]})}),(0,ba.jsx)("tbody",{children:0===q.length?(0,ba.jsx)("tr",{children:(0,ba.jsx)("td",{colSpan:"5",className:"text-center",children:y?"No users found matching your search.":"No users found."})}):q.map((e=>(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:e.matricule}),(0,ba.jsx)("td",{children:e.full_name||e.username}),(0,ba.jsx)("td",{children:e.email}),(0,ba.jsx)("td",{children:(0,ba.jsxs)(Ui,{bg:"primary",children:[e.points," points"]})}),(0,ba.jsx)("td",{children:(0,ba.jsxs)(gi,{variant:"success",size:"sm",onClick:()=>(e=>{m(e),p(""),g(""),k(""),o(!0)})(e),children:[(0,ba.jsx)($c,{className:"me-1"})," Assign Pack"]})})]},e.id)))})]})})]})]})})}),(0,ba.jsx)(ql,{className:"mt-4",children:(0,ba.jsx)(Yl,{children:(0,ba.jsxs)(fi,{children:[(0,ba.jsx)(fi.Header,{children:(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,ba.jsx)("h4",{children:"Pack Assignment History"}),(0,ba.jsxs)(Ui,{bg:"secondary",children:[I.length," ",1===I.length?"assignment":"assignments"]})]})}),(0,ba.jsxs)(fi.Body,{children:[(0,ba.jsxs)(ql,{className:"mb-3",children:[(0,ba.jsx)(Yl,{md:3,children:(0,ba.jsxs)(Pc.Group,{children:[(0,ba.jsx)(Pc.Label,{children:"Start Date"}),(0,ba.jsx)(Pc.Control,{type:"date",value:O.startDate,onChange:e=>U("startDate",e.target.value)})]})}),(0,ba.jsx)(Yl,{md:3,children:(0,ba.jsxs)(Pc.Group,{children:[(0,ba.jsx)(Pc.Label,{children:"End Date"}),(0,ba.jsx)(Pc.Control,{type:"date",value:O.endDate,onChange:e=>U("endDate",e.target.value)})]})}),(0,ba.jsx)(Yl,{md:4,children:(0,ba.jsxs)(Pc.Group,{children:[(0,ba.jsx)(Pc.Label,{children:"Client"}),(0,ba.jsxs)(Pc.Select,{value:O.clientId,onChange:e=>U("clientId",e.target.value),children:[(0,ba.jsx)("option",{value:"",children:"All Clients"}),e.map((e=>(0,ba.jsx)("option",{value:e.id,children:e.full_name||e.username},e.id)))]})]})}),(0,ba.jsx)(Yl,{md:2,className:"d-flex align-items-end",children:(0,ba.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,ba.jsx)(Pc.Check,{type:"checkbox",label:"Show All",checked:O.showAll,onChange:e=>U("showAll",e.target.checked)}),(0,ba.jsx)(gi,{variant:"outline-secondary",size:"sm",onClick:()=>{F({startDate:"",endDate:"",clientId:"",showAll:!1})},title:"Clear all filters",children:"Clear"})]})})]}),(0,ba.jsx)("div",{className:"table-responsive",children:(0,ba.jsxs)(Li,{striped:!0,hover:!0,size:"sm",className:"admin-assignments-table",children:[(0,ba.jsx)("thead",{children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:"Date"}),(0,ba.jsx)("th",{children:"User"}),(0,ba.jsx)("th",{children:"Pack"}),(0,ba.jsx)("th",{children:"Points"}),(0,ba.jsx)("th",{children:"Status"}),(0,ba.jsx)("th",{children:"Actions"})]})}),(0,ba.jsx)("tbody",{children:0===I.length?(0,ba.jsx)("tr",{children:(0,ba.jsx)("td",{colSpan:6,className:"text-center text-muted",children:0===l.length?"No pack assignments found":"No assignments match the current filters"})}):I.map((e=>(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:new Date(e.purchased_at).toLocaleDateString()}),(0,ba.jsx)("td",{children:e.full_name||e.username}),(0,ba.jsx)("td",{children:e.pack_name}),(0,ba.jsxs)("td",{children:[e.points," points"]}),(0,ba.jsx)("td",{children:(0,ba.jsx)(Ui,{bg:"completed"===e.payment_status?"success":"warning",children:e.payment_status})}),(0,ba.jsx)("td",{children:(0,ba.jsx)(gi,{variant:"outline-danger",size:"sm",onClick:()=>(e=>{x(e),j(""),k(""),d(!0)})(e),title:"Remove pack from user",disabled:D,children:D?(0,ba.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,ba.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,ba.jsx)(Yc,{})})})]},e.id)))})]})})]})]})})}),(0,ba.jsxs)(zo,{show:i,onHide:B,children:[(0,ba.jsx)(zo.Header,{closeButton:!0,children:(0,ba.jsx)(zo.Title,{children:"Assign Pack to User"})}),(0,ba.jsx)(zo.Body,{children:u&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)(Fi,{variant:"info",children:[(0,ba.jsx)("strong",{children:"User:"})," ",u.full_name||u.username,(0,ba.jsx)("br",{}),(0,ba.jsx)("strong",{children:"Current Points:"})," ",u.points]}),w&&(0,ba.jsx)(Fi,{variant:"danger",children:w}),(0,ba.jsxs)(Pc,{onSubmit:async e=>{if(e.preventDefault(),h){T(!0),k("");try{await ga.post("/api/packs/admin/assign/".concat(u.id,"/").concat(h),{notes:v});C("Successfully assigned pack to ".concat(u.full_name||u.username)),B(),L(),z()}catch(a){var t,n;console.error("Error assigning pack:",a),k((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to assign pack. Please try again.")}finally{T(!1)}}else k("Please select a pack to assign")},children:[(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Select Pack*"}),(0,ba.jsxs)(Pc.Select,{value:h,onChange:e=>p(e.target.value),required:!0,disabled:P,children:[(0,ba.jsx)("option",{value:"",children:"Choose a pack..."}),n.map((e=>(0,ba.jsxs)("option",{value:e.id,children:[e.name," - ",e.points," points",e.price?" (".concat(e.price," DH)"):" (Free)"]},e.id)))]})]}),(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Notes (Optional)"}),(0,ba.jsx)(Pc.Control,{as:"textarea",rows:3,value:v,onChange:e=>g(e.target.value),placeholder:"Enter any notes about this assignment...",disabled:P})]}),(0,ba.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,ba.jsx)(gi,{variant:"secondary",className:"me-2",onClick:B,disabled:P,children:"Cancel"}),(0,ba.jsx)(gi,{variant:"success",type:"submit",disabled:P,children:P?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Assigning..."]}):"Assign Pack"})]})]})]})})]}),(0,ba.jsxs)(zo,{show:c,onHide:W,children:[(0,ba.jsx)(zo.Header,{closeButton:!0,children:(0,ba.jsx)(zo.Title,{children:"Remove Pack from User"})}),(0,ba.jsx)(zo.Body,{children:f&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)(Fi,{variant:"warning",children:[(0,ba.jsx)("strong",{children:"Warning:"}),' You are about to remove the pack "',f.pack_name,'" from ',f.full_name||f.username,".",(0,ba.jsx)("br",{}),(0,ba.jsx)("strong",{children:"Points to be deducted:"})," ",f.points," points",(0,ba.jsx)("br",{}),"This action cannot be undone."]}),w&&(0,ba.jsx)(Fi,{variant:"danger",children:w}),(0,ba.jsxs)(Pc,{onSubmit:async e=>{e.preventDefault(),R(!0),k("");try{const e=await ga.delete("/api/packs/admin/remove/".concat(f.id),{data:{reason:b}});C("Successfully removed pack from ".concat(f.full_name||f.username,". ").concat(e.data.points_removed," points deducted.")),W(),L(),z()}catch(a){var t,n;console.error("Error removing pack:",a),k((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||"Failed to remove pack. Please try again.")}finally{R(!1)}},children:[(0,ba.jsxs)(Pc.Group,{className:"mb-3",children:[(0,ba.jsx)(Pc.Label,{children:"Reason for Removal*"}),(0,ba.jsx)(Pc.Control,{as:"textarea",rows:3,value:b,onChange:e=>j(e.target.value),placeholder:"Enter the reason for removing this pack (required)...",required:!0,disabled:D}),(0,ba.jsx)(Pc.Text,{className:"text-muted",children:"This reason will be logged and may be visible to the user."})]}),(0,ba.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,ba.jsx)(gi,{variant:"secondary",className:"me-2",onClick:W,disabled:D,children:"Cancel"}),(0,ba.jsx)(gi,{variant:"danger",type:"submit",disabled:D,children:D?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Removing..."]}):"Remove Pack"})]})]})]})})]})]})},ld=()=>{const[e,t]=(0,a.useState)("manage");return(0,ba.jsx)(hs,{fluid:!0,className:"mt-4",children:(0,ba.jsxs)(Ul.Container,{activeKey:e,onSelect:t,children:[(0,ba.jsx)(ql,{children:(0,ba.jsx)(Yl,{children:(0,ba.jsxs)(Ar,{variant:"tabs",className:"mb-4",children:[(0,ba.jsx)(Ar.Item,{children:(0,ba.jsxs)(Ar.Link,{eventKey:"manage",children:[(0,ba.jsx)(Bc,{className:"me-2"}),"Manage Packs"]})}),(0,ba.jsx)(Ar.Item,{children:(0,ba.jsxs)(Ar.Link,{eventKey:"assign",children:[(0,ba.jsx)($c,{className:"me-2"}),"Assign Packs to Users"]})})]})})}),(0,ba.jsx)(ql,{children:(0,ba.jsx)(Yl,{children:(0,ba.jsxs)(Ul.Content,{children:[(0,ba.jsx)(Ul.Pane,{eventKey:"manage",children:(0,ba.jsx)(Kc,{})}),(0,ba.jsx)(Ul.Pane,{eventKey:"assign",children:(0,ba.jsx)(sd,{})})]})})})]})})},rd=()=>{const[e,t]=(0,a.useState)(!0),[n,s]=(0,a.useState)([]),[l,r]=(0,a.useState)([]),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[h,p]=(0,a.useState)([]),[f,x]=(0,a.useState)(!1),[v,g]=(0,a.useState)({title:"",description:"",coach_id:"",date:"",time:"",duration:60,max_participants:10,is_active:!0});(0,a.useEffect)((()=>{b(),j()}),[]);const b=async()=>{t(!0);try{const e=await ua.get("/api/group-courses");s(e.data)}catch(e){console.error("Error fetching group courses:",e),Da("Failed to load group courses. Please try again.",{type:"error",title:"Loading Error",duration:5e3})}finally{t(!1)}},j=async()=>{try{const e=await ua.get("/api/coaches");r(e.data)}catch(e){console.error("Error fetching coaches:",e)}},y=e=>{const{name:t,value:n,type:a,checked:s}=e.target;g(ze(ze({},v),{},{[t]:"checkbox"===a?s:n}))},N=()=>{g({title:"",description:"",coach_id:"",date:"",time:"",duration:60,max_participants:10,is_active:!0})},w=(e,t)=>{if(!e||!t)return!1;const n=new Date,a=new Date(e),[s,l]=t.split(":").map(Number);return a.setHours(s,l,0,0),n>a},k=e=>e.current_participants>=e.max_participants;return e?(0,ba.jsx)("div",{className:"text-center my-5",children:(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"jumping-logo"})}):(0,ba.jsxs)("div",{className:"container",children:[(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,ba.jsx)("h2",{children:"Group Courses"}),(0,ba.jsxs)("button",{className:"btn btn-primary",onClick:()=>{N(),o(!0)},children:[(0,ba.jsx)("i",{className:"fas fa-plus me-2"}),"Add New Group Course"]})]}),0===n.length?(0,ba.jsx)("div",{className:"alert alert-info",children:"No group courses available. Add your first group course by clicking the button above."}):(0,ba.jsx)("div",{className:"table-responsive",children:(0,ba.jsxs)("table",{className:"table table-striped table-bordered",children:[(0,ba.jsx)("thead",{className:"table-dark",children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:"Title"}),(0,ba.jsx)("th",{children:"Coach"}),(0,ba.jsx)("th",{children:"Date"}),(0,ba.jsx)("th",{children:"Time"}),(0,ba.jsx)("th",{children:"Duration"}),(0,ba.jsx)("th",{children:"Participants"}),(0,ba.jsx)("th",{children:"Status"}),(0,ba.jsx)("th",{children:"Actions"})]})}),(0,ba.jsx)("tbody",{children:n.map((e=>{return(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:e.title}),(0,ba.jsx)("td",{children:e.coach_name}),(0,ba.jsx)("td",{children:(a=e.date,a?new Date(a).toLocaleDateString():"N/A")}),(0,ba.jsx)("td",{children:(t=e.time,t?t.substring(0,5):"N/A")}),(0,ba.jsxs)("td",{children:[e.duration," min"]}),(0,ba.jsxs)("td",{children:[e.current_participants," / ",e.max_participants,(0,ba.jsx)("button",{className:"btn btn-sm btn-link ms-2",onClick:()=>(async e=>{try{const t=await ua.get("/api/group-courses/".concat(e,"/bookings"));p(t.data),x(!0)}catch(t){console.error("Error fetching bookings:",t),Da("Failed to load bookings. Please try again.",{type:"error",title:"Loading Error",duration:5e3})}})(e.id),title:"View participants",children:(0,ba.jsx)("i",{className:"fas fa-users"})})]}),(0,ba.jsxs)("td",{children:[(0,ba.jsx)("span",{className:"badge ".concat(e.is_active?"bg-success":"bg-secondary"),children:e.is_active?"Active":"Inactive"}),e.is_active&&(0,ba.jsxs)(ba.Fragment,{children:[k(e)&&(0,ba.jsx)("span",{className:"badge bg-warning ms-1",children:"Full"}),w(e.date,e.time)&&(0,ba.jsx)("span",{className:"badge bg-secondary ms-1",children:"Ended"}),!w(e.date,e.time)&&!k(e)&&(0,ba.jsx)("span",{className:"badge bg-info ms-1",children:"Open"})]})]}),(0,ba.jsx)("td",{children:(0,ba.jsxs)("div",{className:"btn-group btn-group-sm",children:[(0,ba.jsx)("button",{className:"btn btn-warning",onClick:()=>(e=>{m(e),g({title:e.title,description:e.description,coach_id:e.coach_id,date:e.date,time:e.time,duration:e.duration,max_participants:e.max_participants,is_active:1===e.is_active}),d(!0)})(e),title:"Edit",children:(0,ba.jsx)("i",{className:"fas fa-edit"})}),(0,ba.jsx)("button",{className:"btn btn-danger",onClick:()=>(async e=>{if(await Ha("Are you sure you want to delete this group course? All bookings will be cancelled.",{title:"Delete Group Course",confirmText:"Delete",cancelText:"Cancel",type:"danger"}))try{await ua.delete("/api/group-courses/".concat(e)),s(n.filter((t=>t.id!==e))),Da("Group course deleted successfully!",{type:"success",title:"Success",duration:5e3})}catch(l){var t,a;console.error("Error deleting group course:",l),Da("Failed to delete group course: ".concat((null===(t=l.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||l.message),{type:"error",title:"Error",duration:7e3})}})(e.id),title:"Delete",children:(0,ba.jsx)("i",{className:"fas fa-trash"})})]})})]},e.id);var t,a}))})]})}),i&&(0,ba.jsx)("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,ba.jsx)("div",{className:"modal-dialog modal-lg",children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",children:[(0,ba.jsx)("h5",{className:"modal-title",children:"Add New Group Course"}),(0,ba.jsx)("button",{type:"button",className:"btn-close",onClick:()=>o(!1)})]}),(0,ba.jsx)("div",{className:"modal-body",children:(0,ba.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await ua.post("/api/group-courses",v);s([...n,e.data]),N(),o(!1),Da("Group course added successfully!",{type:"success",title:"Success",duration:5e3})}catch(l){var t,a;console.error("Error adding group course:",l),Da("Failed to add group course: ".concat((null===(t=l.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||l.message),{type:"error",title:"Error",duration:7e3})}},children:[(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-8 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title *"}),(0,ba.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:v.title,onChange:y,required:!0})]}),(0,ba.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"coach_id",className:"form-label",children:"Coach *"}),(0,ba.jsxs)("select",{className:"form-select",id:"coach_id",name:"coach_id",value:v.coach_id,onChange:y,required:!0,children:[(0,ba.jsx)("option",{value:"",children:"Select Coach"}),l.map((e=>(0,ba.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),(0,ba.jsx)("textarea",{className:"form-control",id:"description",name:"description",value:v.description,onChange:y,rows:"3"})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"date",className:"form-label",children:"Date *"}),(0,ba.jsx)("input",{type:"date",className:"form-control",id:"date",name:"date",value:v.date,onChange:y,required:!0})]}),(0,ba.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"time",className:"form-label",children:"Time *"}),(0,ba.jsx)("input",{type:"time",className:"form-control",id:"time",name:"time",value:v.time,onChange:y,required:!0})]}),(0,ba.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"duration",className:"form-label",children:"Duration (minutes) *"}),(0,ba.jsx)("input",{type:"number",className:"form-control",id:"duration",name:"duration",value:v.duration,onChange:y,min:"15",required:!0})]})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"max_participants",className:"form-label",children:"Max Participants *"}),(0,ba.jsx)("input",{type:"number",className:"form-control",id:"max_participants",name:"max_participants",value:v.max_participants,onChange:y,min:"1",required:!0})]}),(0,ba.jsx)("div",{className:"col-md-6 mb-3 d-flex align-items-center",children:(0,ba.jsxs)("div",{className:"form-check mt-4",children:[(0,ba.jsx)("input",{className:"form-check-input",type:"checkbox",id:"is_active",name:"is_active",checked:v.is_active,onChange:y}),(0,ba.jsx)("label",{className:"form-check-label",htmlFor:"is_active",children:"Active (visible to clients)"})]})})]}),(0,ba.jsxs)("div",{className:"modal-footer",children:[(0,ba.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(!1),children:"Cancel"}),(0,ba.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,ba.jsx)("i",{className:"fas fa-plus me-2"}),"Add Group Course"]})]})]})})]})})}),c&&u&&(0,ba.jsx)("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,ba.jsx)("div",{className:"modal-dialog modal-lg",children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",children:[(0,ba.jsx)("h5",{className:"modal-title",children:"Edit Group Course"}),(0,ba.jsx)("button",{type:"button",className:"btn-close",onClick:()=>d(!1)})]}),(0,ba.jsx)("div",{className:"modal-body",children:(0,ba.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await ua.put("/api/group-courses/".concat(u.id),v);s(n.map((t=>t.id===u.id?e.data:t))),d(!1),Da("Group course updated successfully!",{type:"success",title:"Success",duration:5e3})}catch(l){var t,a;console.error("Error updating group course:",l),Da("Failed to update group course: ".concat((null===(t=l.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||l.message),{type:"error",title:"Error",duration:7e3})}},children:[(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-8 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"edit-title",className:"form-label",children:"Title *"}),(0,ba.jsx)("input",{type:"text",className:"form-control",id:"edit-title",name:"title",value:v.title,onChange:y,required:!0})]}),(0,ba.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"edit-coach_id",className:"form-label",children:"Coach *"}),(0,ba.jsxs)("select",{className:"form-select",id:"edit-coach_id",name:"coach_id",value:v.coach_id,onChange:y,required:!0,children:[(0,ba.jsx)("option",{value:"",children:"Select Coach"}),l.map((e=>(0,ba.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{htmlFor:"edit-description",className:"form-label",children:"Description"}),(0,ba.jsx)("textarea",{className:"form-control",id:"edit-description",name:"description",value:v.description||"",onChange:y,rows:"3"})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"edit-date",className:"form-label",children:"Date *"}),(0,ba.jsx)("input",{type:"date",className:"form-control",id:"edit-date",name:"date",value:v.date,onChange:y,required:!0})]}),(0,ba.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"edit-time",className:"form-label",children:"Time *"}),(0,ba.jsx)("input",{type:"time",className:"form-control",id:"edit-time",name:"time",value:v.time,onChange:y,required:!0})]}),(0,ba.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"edit-duration",className:"form-label",children:"Duration (minutes) *"}),(0,ba.jsx)("input",{type:"number",className:"form-control",id:"edit-duration",name:"duration",value:v.duration,onChange:y,min:"15",required:!0})]})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"edit-max_participants",className:"form-label",children:"Max Participants *"}),(0,ba.jsx)("input",{type:"number",className:"form-control",id:"edit-max_participants",name:"max_participants",value:v.max_participants,onChange:y,min:"1",required:!0})]}),(0,ba.jsx)("div",{className:"col-md-6 mb-3 d-flex align-items-center",children:(0,ba.jsxs)("div",{className:"form-check mt-4",children:[(0,ba.jsx)("input",{className:"form-check-input",type:"checkbox",id:"edit-is_active",name:"is_active",checked:v.is_active,onChange:y}),(0,ba.jsx)("label",{className:"form-check-label",htmlFor:"edit-is_active",children:"Active (visible to clients)"})]})})]}),(0,ba.jsxs)("div",{className:"modal-footer",children:[(0,ba.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>d(!1),children:"Cancel"}),(0,ba.jsxs)("button",{type:"submit",className:"btn btn-warning",children:[(0,ba.jsx)("i",{className:"fas fa-save me-2"}),"Save Changes"]})]})]})})]})})}),f&&(0,ba.jsx)("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,ba.jsx)("div",{className:"modal-dialog modal-lg",children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",children:[(0,ba.jsx)("h5",{className:"modal-title",children:"Course Participants"}),(0,ba.jsx)("button",{type:"button",className:"btn-close",onClick:()=>x(!1)})]}),(0,ba.jsx)("div",{className:"modal-body",children:0===h.length?(0,ba.jsx)("div",{className:"alert alert-info",children:"No bookings found for this course."}):(0,ba.jsx)("div",{className:"table-responsive",children:(0,ba.jsxs)("table",{className:"table table-striped",children:[(0,ba.jsx)("thead",{children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:"Name"}),(0,ba.jsx)("th",{children:"Email"}),(0,ba.jsx)("th",{children:"Phone"}),(0,ba.jsx)("th",{children:"Booking Date"}),(0,ba.jsx)("th",{children:"Status"})]})}),(0,ba.jsx)("tbody",{children:h.map((e=>(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:e.full_name}),(0,ba.jsx)("td",{children:e.email}),(0,ba.jsx)("td",{children:e.phone||"N/A"}),(0,ba.jsx)("td",{children:new Date(e.created_at).toLocaleString()}),(0,ba.jsx)("td",{children:(0,ba.jsx)("span",{className:"badge ".concat("confirmed"===e.status?"bg-success":"bg-secondary"),children:e.status})})]},e.id)))})]})})}),(0,ba.jsx)("div",{className:"modal-footer",children:(0,ba.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>x(!1),children:"Close"})})]})})})]})},id=["bsPrefix","variant","animation","size","as","className"],od=a.forwardRef(((e,t)=>{let{bsPrefix:n,variant:a,animation:s="border",size:l,as:r="div",className:i}=e,o=Fe(e,id);n=os(n,"spinner");const c="".concat(n,"-").concat(s);return(0,ba.jsx)(r,ze(ze({ref:t},o),{},{className:ns()(i,c,l&&"".concat(c,"-").concat(l),a&&"text-".concat(a))}))}));od.displayName="Spinner";const cd=od;let dd={};function ud(){return dd}Math.pow(10,8);const md=6048e5,hd=Symbol.for("constructDateFrom");function pd(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&hd in e?e[hd](t):e instanceof Date?new e.constructor(t):new Date(t)}function fd(e,t){return pd(t||e,e)}function xd(e,t){var n,a,s,l,r,i;const o=ud(),c=null!==(n=null!==(a=null!==(s=null!==(l=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==l?l:null===t||void 0===t||null===(r=t.locale)||void 0===r||null===(r=r.options)||void 0===r?void 0:r.weekStartsOn)&&void 0!==s?s:o.weekStartsOn)&&void 0!==a?a:null===(i=o.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==n?n:0,d=fd(e,null===t||void 0===t?void 0:t.in),u=d.getDay(),m=(u<c?7:0)+u-c;return d.setDate(d.getDate()-m),d.setHours(0,0,0,0),d}function vd(e,t){const n=fd(e,null===t||void 0===t?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function gd(e,t){var n,a,s,l,r,i;const o=ud(),c=null!==(n=null!==(a=null!==(s=null!==(l=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==l?l:null===t||void 0===t||null===(r=t.locale)||void 0===r||null===(r=r.options)||void 0===r?void 0:r.weekStartsOn)&&void 0!==s?s:o.weekStartsOn)&&void 0!==a?a:null===(i=o.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==n?n:0,d=fd(e,null===t||void 0===t?void 0:t.in),u=d.getDay(),m=6+(u<c?-7:0)-(u-c);return d.setDate(d.getDate()+m),d.setHours(23,59,59,999),d}function bd(e,t){const n=fd(e,null===t||void 0===t?void 0:t.in),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function jd(e,t,n){const a=fd(e,null===n||void 0===n?void 0:n.in);return isNaN(t)?pd((null===n||void 0===n?void 0:n.in)||e,NaN):t?(a.setDate(a.getDate()+t),a):a}const yd={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Nd(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const wd={date:Nd({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Nd({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Nd({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},kd={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Sd(e){return(t,n)=>{let a;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):t;a=e.formattingValues[s]||e.formattingValues[t]}else{const t=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;a=e.values[s]||e.values[t]}return a[e.argumentCallback?e.argumentCallback(t):t]}}function Cd(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=n.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],l=t.match(s);if(!l)return null;const r=l[0],i=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(i)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(i,(e=>e.test(r))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(i,(e=>e.test(r)));let c;c=e.valueCallback?e.valueCallback(o):o,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(r.length)}}}function _d(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],l=t.match(e.parsePattern);if(!l)return null;let r=e.valueCallback?e.valueCallback(l[0]):l[0];r=n.valueCallback?n.valueCallback(r):r;return{value:r,rest:t.slice(s.length)}}}const Ed={code:"en-US",formatDistance:(e,t,n)=>{let a;const s=yd[e];return a="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},formatLong:wd,formatRelative:(e,t,n,a)=>kd[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Sd({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Sd({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sd({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Sd({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Sd({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:_d({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:Cd({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Cd({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Cd({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Cd({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Cd({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function Pd(e){const t=fd(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Td(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];const s=pd.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(s)}function Dd(e,t){const n=fd(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function Rd(e,t,n){const[a,s]=Td(null===n||void 0===n?void 0:n.in,e,t),l=Dd(a),r=Dd(s),i=+l-Pd(l),o=+r-Pd(r);return Math.round((i-o)/864e5)}function Od(e,t){const n=fd(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Fd(e,t){const n=fd(e,null===t||void 0===t?void 0:t.in);return Rd(n,Od(n))+1}function Id(e,t){return xd(e,ze(ze({},t),{},{weekStartsOn:1}))}function Ad(e,t){const n=fd(e,null===t||void 0===t?void 0:t.in),a=n.getFullYear(),s=pd(n,0);s.setFullYear(a+1,0,4),s.setHours(0,0,0,0);const l=Id(s),r=pd(n,0);r.setFullYear(a,0,4),r.setHours(0,0,0,0);const i=Id(r);return n.getTime()>=l.getTime()?a+1:n.getTime()>=i.getTime()?a:a-1}function Ld(e,t){const n=Ad(e,t),a=pd((null===t||void 0===t?void 0:t.in)||e,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Id(a)}function Md(e,t){const n=fd(e,null===t||void 0===t?void 0:t.in),a=+Id(n)-+Ld(n);return Math.round(a/md)+1}function zd(e,t){var n,a,s,l,r,i;const o=fd(e,null===t||void 0===t?void 0:t.in),c=o.getFullYear(),d=ud(),u=null!==(n=null!==(a=null!==(s=null!==(l=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==l?l:null===t||void 0===t||null===(r=t.locale)||void 0===r||null===(r=r.options)||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==s?s:d.firstWeekContainsDate)&&void 0!==a?a:null===(i=d.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==n?n:1,m=pd((null===t||void 0===t?void 0:t.in)||e,0);m.setFullYear(c+1,0,u),m.setHours(0,0,0,0);const h=xd(m,t),p=pd((null===t||void 0===t?void 0:t.in)||e,0);p.setFullYear(c,0,u),p.setHours(0,0,0,0);const f=xd(p,t);return+o>=+h?c+1:+o>=+f?c:c-1}function Ud(e,t){var n,a,s,l,r,i;const o=ud(),c=null!==(n=null!==(a=null!==(s=null!==(l=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==l?l:null===t||void 0===t||null===(r=t.locale)||void 0===r||null===(r=r.options)||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==s?s:o.firstWeekContainsDate)&&void 0!==a?a:null===(i=o.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==n?n:1,d=zd(e,t),u=pd((null===t||void 0===t?void 0:t.in)||e,0);u.setFullYear(d,0,c),u.setHours(0,0,0,0);return xd(u,t)}function Bd(e,t){const n=fd(e,null===t||void 0===t?void 0:t.in),a=+xd(n,t)-+Ud(n,t);return Math.round(a/md)+1}function Wd(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const qd={y(e,t){const n=e.getFullYear(),a=n>0?n:1-n;return Wd("yy"===t?a%100:a,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Wd(n+1,2)},d:(e,t)=>Wd(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Wd(e.getHours()%12||12,t.length),H:(e,t)=>Wd(e.getHours(),t.length),m:(e,t)=>Wd(e.getMinutes(),t.length),s:(e,t)=>Wd(e.getSeconds(),t.length),S(e,t){const n=t.length,a=e.getMilliseconds();return Wd(Math.trunc(a*Math.pow(10,n-3)),t.length)}},Hd="midnight",Vd="noon",Gd="morning",Yd="afternoon",$d="evening",Kd="night",Jd={G:function(e,t,n){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),a=t>0?t:1-t;return n.ordinalNumber(a,{unit:"year"})}return qd.y(e,t)},Y:function(e,t,n,a){const s=zd(e,a),l=s>0?s:1-s;if("YY"===t){return Wd(l%100,2)}return"Yo"===t?n.ordinalNumber(l,{unit:"year"}):Wd(l,t.length)},R:function(e,t){return Wd(Ad(e),t.length)},u:function(e,t){return Wd(e.getFullYear(),t.length)},Q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Wd(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Wd(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){const a=e.getMonth();switch(t){case"M":case"MM":return qd.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Wd(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){const s=Bd(e,a);return"wo"===t?n.ordinalNumber(s,{unit:"week"}):Wd(s,t.length)},I:function(e,t,n){const a=Md(e);return"Io"===t?n.ordinalNumber(a,{unit:"week"}):Wd(a,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):qd.d(e,t)},D:function(e,t,n){const a=Fd(e);return"Do"===t?n.ordinalNumber(a,{unit:"dayOfYear"}):Wd(a,t.length)},E:function(e,t,n){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){const s=e.getDay(),l=(s-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Wd(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){const s=e.getDay(),l=(s-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Wd(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const a=e.getDay(),s=0===a?7:a;switch(t){case"i":return String(s);case"ii":return Wd(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const a=e.getHours();let s;switch(s=12===a?Vd:0===a?Hd:a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const a=e.getHours();let s;switch(s=a>=17?$d:a>=12?Yd:a>=4?Gd:Kd,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return qd.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):qd.H(e,t)},K:function(e,t,n){const a=e.getHours()%12;return"Ko"===t?n.ordinalNumber(a,{unit:"hour"}):Wd(a,t.length)},k:function(e,t,n){let a=e.getHours();return 0===a&&(a=24),"ko"===t?n.ordinalNumber(a,{unit:"hour"}):Wd(a,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):qd.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):qd.s(e,t)},S:function(e,t){return qd.S(e,t)},X:function(e,t,n){const a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return Xd(a);case"XXXX":case"XX":return Zd(a);default:return Zd(a,":")}},x:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"x":return Xd(a);case"xxxx":case"xx":return Zd(a);default:return Zd(a,":")}},O:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Qd(a,":");default:return"GMT"+Zd(a,":")}},z:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Qd(a,":");default:return"GMT"+Zd(a,":")}},t:function(e,t,n){return Wd(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Wd(+e,t.length)}};function Qd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),l=a%60;return 0===l?n+String(s):n+String(s)+t+Wd(l,2)}function Xd(e,t){if(e%60===0){return(e>0?"-":"+")+Wd(Math.abs(e)/60,2)}return Zd(e,t)}function Zd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",a=Math.abs(e);return n+Wd(Math.trunc(a/60),2)+t+Wd(a%60,2)}const eu=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},tu=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},nu={p:tu,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return eu(e,t);let l;switch(a){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"})}return l.replace("{{date}}",eu(a,t)).replace("{{time}}",tu(s,t))}},au=/^D+$/,su=/^Y+$/,lu=["D","DD","YY","YYYY"];function ru(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function iu(e){return!(!ru(e)&&"number"!==typeof e||isNaN(+fd(e)))}const ou=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cu=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,du=/^'([^]*?)'?$/,uu=/''/g,mu=/[a-zA-Z]/;function hu(e,t,n){var a,s,l,r,i,o,c,d,u,m,h,p,f,x;const v=ud(),g=null!==(a=null!==(s=null===n||void 0===n?void 0:n.locale)&&void 0!==s?s:v.locale)&&void 0!==a?a:Ed,b=null!==(l=null!==(r=null!==(i=null!==(o=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==o?o:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==i?i:v.firstWeekContainsDate)&&void 0!==r?r:null===(d=v.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==l?l:1,j=null!==(u=null!==(m=null!==(h=null!==(p=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==p?p:null===n||void 0===n||null===(f=n.locale)||void 0===f||null===(f=f.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==h?h:v.weekStartsOn)&&void 0!==m?m:null===(x=v.locale)||void 0===x||null===(x=x.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==u?u:0,y=fd(e,null===n||void 0===n?void 0:n.in);if(!iu(y))throw new RangeError("Invalid time value");let N=t.match(cu).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,nu[t])(e,g.formatLong)}return e})).join("").match(ou).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:pu(e)};if(Jd[t])return{isToken:!0,value:e};if(t.match(mu))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));g.localize.preprocessor&&(N=g.localize.preprocessor(y,N));const w={firstWeekContainsDate:b,weekStartsOn:j,locale:g};return N.map((a=>{if(!a.isToken)return a.value;const s=a.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return su.test(e)}(s))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return au.test(e)}(s))||function(e,t,n){const a=function(e,t,n){const a="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(a," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(a),lu.includes(e))throw new RangeError(a)}(s,t,String(e));return(0,Jd[s[0]])(y,s,g.localize,w)})).join("")}function pu(e){const t=e.match(du);return t?t[1].replace(uu,"'"):e}function fu(e,t,n){const[a,s]=Td(null===n||void 0===n?void 0:n.in,e,t);return+Dd(a)===+Dd(s)}function xu(e,t,n){const a=fd(e,null===n||void 0===n?void 0:n.in);if(isNaN(t))return pd((null===n||void 0===n?void 0:n.in)||e,NaN);if(!t)return a;const s=a.getDate(),l=pd((null===n||void 0===n?void 0:n.in)||e,a.getTime());l.setMonth(a.getMonth()+t+1,0);return s>=l.getDate()?l:(a.setFullYear(l.getFullYear(),l.getMonth(),s),a)}function vu(e,t,n){return xu(e,-t,n)}function gu(e,t){return+fd(e)<+fd(t)}function bu(e){return pd(e,Date.now())}function ju(e,t){return fu(pd((null===t||void 0===t?void 0:t.in)||e,e),bu((null===t||void 0===t?void 0:t.in)||e))}const yu={lessThanXSeconds:{one:"moins d\u2019une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d\u2019une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d\u2019un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu\u2019un an",other:"presque {{count}} ans"}},Nu={date:Nd({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:Nd({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Nd({formats:{full:"{{date}} '\xe0' {{time}}",long:"{{date}} '\xe0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},wu={lastWeek:"eeee 'dernier \xe0' p",yesterday:"'hier \xe0' p",today:"'aujourd\u2019hui \xe0' p",tomorrow:"'demain \xe0' p'",nextWeek:"eeee 'prochain \xe0' p",other:"P"},ku=["MMM","MMMM"],Su={preprocessor:(e,t)=>{if(1===e.getDate())return t;return t.some((e=>e.isToken&&ku.includes(e.value)))?t.map((e=>e.isToken&&"do"===e.value?{isToken:!0,value:"d"}:e)):t},ordinalNumber:(e,t)=>{const n=Number(e),a=null===t||void 0===t?void 0:t.unit;if(0===n)return"0";let s;return s=1===n?a&&["year","week","hour","minute","second"].includes(a)?"\xe8re":"er":"\xe8me",n+s},era:Sd({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]},defaultWidth:"wide"}),quarter:Sd({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xe8me trim.","3\xe8me trim.","4\xe8me trim."],wide:["1er trimestre","2\xe8me trimestre","3\xe8me trimestre","4\xe8me trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:Sd({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],wide:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},defaultWidth:"wide"}),day:Sd({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:Sd({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xe8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l\u2019apr\xe8s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},Cu={code:"fr",formatDistance:(e,t,n)=>{let a;const s=yu[e];return a="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",String(t)),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+a:"il y a "+a:a},formatLong:Nu,formatRelative:(e,t,n,a)=>wu[e],localize:Su,match:{ordinalNumber:_d({matchPattern:/^(\d+)(i\xe8me|\xe8re|\xe8me|er|e)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e)}),era:Cd({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant J\xe9sus-Christ|apr\xe8s J\xe9sus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:Cd({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|\xe8me|e)? trim\.?/i,wide:/^[1234](er|\xe8me|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Cd({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|f\xe9vr|mars|avr|mai|juin|juill|juil|ao\xfbt|sept|oct|nov|d\xe9c)\.?/i,wide:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Cd({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Cd({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'apr\xe8s[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},_u=Cu,Eu=()=>{const[e,t]=(0,a.useState)(new Date),[n,s]=(0,a.useState)(new Date),[l,r]=(0,a.useState)([]),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[h,p]=(0,a.useState)(!1),[f,x]=(0,a.useState)(null),[v,g]=(0,a.useState)(!1),b=[];for(let a=6;a<=23;a++){const e="".concat(a.toString().padStart(2,"0"),":00"),t="".concat((a+1).toString().padStart(2,"0"),":00");if(b.push({start:e,end:t,display:"".concat(e," - ").concat(t),key:e}),a<23){const e="".concat(a.toString().padStart(2,"0"),":30"),t="".concat((a+1).toString().padStart(2,"0"),":30");b.push({start:e,end:t,display:"".concat(e," - ").concat(t),key:e})}}const j=(()=>{const e=xd(vd(n),{weekStartsOn:1}),t=gd(bd(n),{weekStartsOn:1}),a=[];let s=e;for(;s<=t;)a.push(s),s=jd(s,1);return a})();(0,a.useEffect)((()=>{y()}),[]),(0,a.useEffect)((()=>{l.length>0&&N()}),[e]),(0,a.useEffect)((()=>{if(l.length>0&&e&&n){if(hu(e,"yyyy-MM")!==hu(n,"yyyy-MM")){const e=vd(n);t(e)}}}),[n,l.length]),(0,a.useEffect)((()=>{document.documentElement.style.setProperty("--coaches-count",l.length.toString())}),[l]),(0,a.useEffect)((()=>{const e=document.querySelector(".compact-day.selected");e&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}),[e]),(0,a.useEffect)((()=>{const t=t=>{if(t.target.closest(".compact-calendar")){const n=j.findIndex((t=>fu(t,e)));let a=n;switch(t.key){case"ArrowLeft":t.preventDefault(),a=Math.max(0,n-1);break;case"ArrowRight":t.preventDefault(),a=Math.min(j.length-1,n+1);break;case"ArrowUp":t.preventDefault(),a=Math.max(0,n-7);break;case"ArrowDown":t.preventDefault(),a=Math.min(j.length-1,n+7);break;default:return}const s=j[a];s&&w(s)}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[e,j]);const y=async()=>{m(!0);try{const e=await ga.get("/api/coaches");e.data&&e.data.length>0?(console.log("Coaches data received:",e.data),e.data.forEach((e=>{console.log("Coach ".concat(e.name,": profile_image = ").concat(e.profile_image,", photo = ").concat(e.photo))})),r(e.data),console.log("Successfully fetched ".concat(e.data.length," coaches")),await N(!1)):(console.warn("No coaches data received or empty array"),r([]))}catch(e){console.error("Error fetching initial data:",e),r([])}finally{m(!1)}},N=async function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&p(!0);try{console.log("Fetching planning data...");const t=hu(e,"yyyy-MM-dd");console.log("Fetching availability for date: ".concat(t));try{const e=await ga.get("/api/admin/planning/availability?start_date=".concat(t,"&end_date=").concat(t));console.log("Raw availability data:",e.data);const n=Array.isArray(e.data)?e.data.map((e=>{const n="string"===typeof e.coach_id?parseInt(e.coach_id,10):e.coach_id;return ze(ze({},e),{},{id:e.id,coach_id:n,date:e.date?e.date:t,start_time:e.start_time?e.start_time:null,end_time:e.end_time?e.end_time:null,is_available:void 0!==e.is_available?"string"===typeof e.is_available?parseInt(e.is_available,10):e.is_available:1,coach_name:e.coach_name,profile_image:e.profile_image})})):[];o(n),console.log("Processed ".concat(n.length," availability slots for date ").concat(t,":"),n)}catch(n){console.error("Error fetching availability:",n),n.response&&(console.error("Availability response data:",n.response.data),console.error("Availability response status:",n.response.status)),o([])}console.log("Fetching reservations for date: ".concat(t));try{const e=await ga.get("/api/admin/planning/reservations?start_date=".concat(t,"&end_date=").concat(t));console.log("Raw reservations data:",e.data);const n=Array.isArray(e.data)?e.data.map((e=>{const n="string"===typeof e.coach_id?parseInt(e.coach_id,10):e.coach_id;return ze(ze({},e),{},{id:e.id,coach_id:n,date:e.date?e.date:t,time:e.time?e.time:null,client_name:e.client_name||"Client",client_email:e.client_email,client_phone:e.client_phone,status:e.status||"confirmed",coach_name:e.coach_name,profile_image:e.profile_image})})):[];d(n),console.log("Processed ".concat(n.length," reservations for date ").concat(t,":"),n)}catch(a){console.error("Error fetching reservations:",a),a.response&&(console.error("Reservations response data:",a.response.data),console.error("Reservations response status:",a.response.status)),d([])}}catch(s){console.error("Error in fetchPlanningData:",s),s.response&&(console.error("Response data:",s.response.data),console.error("Response status:",s.response.status))}finally{t&&p(!1)}},w=n=>{fu(n,e)||t(n)},k=e=>e.reserved&&e.reservation?(0,ba.jsxs)("div",{className:"slot-content",children:[(0,ba.jsx)("div",{className:"client-name",children:e.reservation.client_name||"Client"}),(0,ba.jsx)("div",{className:"slot-status",children:"R\xe9serv\xe9"})]}):e.available&&e.slot?(0,ba.jsxs)("div",{className:"slot-content available-content",children:[(0,ba.jsx)("div",{className:"slot-status",children:"Disponible"}),e.slot.start_time&&e.slot.end_time&&(0,ba.jsxs)("div",{className:"slot-time",children:[e.slot.start_time.substring(0,5),"-",e.slot.end_time.substring(0,5)]})]}):e.configured?(0,ba.jsx)("div",{className:"slot-content unavailable-content",children:(0,ba.jsx)("div",{className:"slot-status",children:"Indisponible"})}):(0,ba.jsx)("div",{className:"slot-content blank-content",children:(0,ba.jsx)("div",{className:"slot-status",children:"Non configur\xe9"})});return(0,a.useEffect)((()=>{const e=document.querySelector(".compact-day.selected");e&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}),[e]),u?(0,ba.jsxs)("div",{className:"text-center p-4",children:[(0,ba.jsx)(cd,{animation:"border",role:"status",children:(0,ba.jsx)("span",{className:"visually-hidden",children:"Chargement..."})}),(0,ba.jsx)("p",{className:"mt-2",children:"Chargement du planning..."})]}):(0,ba.jsxs)("div",{className:"coach-planning-view",children:[(0,ba.jsxs)(fi,{children:[(0,ba.jsxs)(fi.Header,{children:[(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-day me-2"}),gu(e,new Date)&&!ju(e)?"Historique du ".concat(hu(e,"dd MMMM yyyy",{locale:Cu})):"Planning du ".concat(hu(e,"dd MMMM yyyy",{locale:Cu}))]}),(0,ba.jsxs)("div",{className:"d-flex align-items-center",children:[h&&(0,ba.jsx)("div",{className:"me-3",children:(0,ba.jsx)(cd,{animation:"border",size:"sm"})}),gu(e,new Date)&&!ju(e)&&(0,ba.jsxs)(Ui,{bg:"info",className:"me-2",children:[(0,ba.jsx)("i",{className:"fas fa-history me-1"}),"Historique"]}),(0,ba.jsx)(gi,{variant:"outline-primary",size:"sm",onClick:()=>{const e=new Date;s(e),t(e)},className:"me-2",children:"Aujourd'hui"})]})]}),(0,ba.jsxs)("div",{className:"mt-3",children:[(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,ba.jsxs)(gi,{variant:"outline-secondary",size:"sm",onClick:()=>{const a=vu(n,1);s(a),(e<vd(a)||e>bd(a))&&t(vd(a))},className:"month-navigation-btn",children:[(0,ba.jsx)("i",{className:"fas fa-chevron-left me-1"}),hu(vu(n,1),"MMM",{locale:Cu})]}),(0,ba.jsx)("h6",{className:"mb-0 text-center flex-grow-1",children:hu(n,"MMMM yyyy",{locale:Cu})}),(0,ba.jsxs)(gi,{variant:"outline-secondary",size:"sm",onClick:()=>{const a=xu(n,1);s(a),(e<vd(a)||e>bd(a))&&t(vd(a))},className:"month-navigation-btn",children:[hu(xu(n,1),"MMM",{locale:Cu}),(0,ba.jsx)("i",{className:"fas fa-chevron-right ms-1"})]})]}),(0,ba.jsx)("div",{className:"compact-calendar",tabIndex:"0",children:(0,ba.jsx)("div",{className:"calendar-scroll-container",children:(0,ba.jsx)("div",{className:"calendar-scroll-wrapper",children:j.map(((t,a)=>{const s=fu(t,e),l=fu(t,new Date),r=(e=>gu(e,new Date)&&!ju(e))(t),i=(e=>hu(e,"yyyy-MM")===hu(n,"yyyy-MM"))(t);return(0,ba.jsxs)("div",{className:"compact-day ".concat(s?"selected":""," ").concat(l?"today":""," ").concat(r?"past":""," ").concat(i?"":"other-month"," ").concat(h&&s?"loading":""),onClick:()=>w(t),style:{cursor:"pointer"},tabIndex:0,children:[(0,ba.jsx)("div",{className:"compact-day-name",children:hu(t,"EEE",{locale:Cu}).substring(0,3)}),(0,ba.jsx)("div",{className:"compact-day-number",children:hu(t,"d")}),l&&(0,ba.jsx)("div",{className:"compact-today-indicator",children:"\u2022"})]},a)}))})})})]})]}),(0,ba.jsxs)(fi.Body,{className:"p-0",children:[(0,ba.jsxs)("div",{className:"daily-planning-container",children:[(0,ba.jsxs)("div",{className:"daily-planning-header",children:[(0,ba.jsx)("div",{className:"time-column-header",children:"Horaires"}),l.map((e=>(console.log("Rendering coach ".concat(e.name," with image:"),e.profile_image||e.photo),(0,ba.jsxs)("div",{className:"coach-header",children:[(0,ba.jsxs)("div",{className:"coach-avatar",children:[e.profile_image||e.photo?(0,ba.jsx)("img",{src:e.profile_image||e.photo,alt:e.name,className:"coach-image",onError:t=>{console.log("Failed to load image for ".concat(e.name,":"),t.target.src),t.target.style.display="none",t.target.nextSibling.style.display="flex"},onLoad:()=>{console.log("Successfully loaded image for ".concat(e.name))}}):null,(0,ba.jsx)("div",{className:"coach-initials",style:{display:e.profile_image||e.photo?"none":"flex"},children:e.name.split(" ").map((e=>e[0])).join("").toUpperCase()})]}),(0,ba.jsx)("div",{className:"coach-details",children:(0,ba.jsx)("div",{className:"coach-name",children:e.name})})]},e.id))))]}),(0,ba.jsx)("div",{className:"daily-planning-grid",children:b.map(((t,n)=>(0,ba.jsxs)("div",{className:"time-row",children:[(0,ba.jsx)("div",{className:"time-label",children:t.display}),l.length>0?l.map((n=>{const a=((t,n)=>{const a=hu(e,"yyyy-MM-dd"),s=n.start;1===t.id&&"09:00"===s&&(console.log("DEBUG: Looking for slot:",t.id,a,s),console.log("Available slots for this coach:",i.filter((e=>e.coach_id===t.id))),console.log("Reservations for this coach:",c.filter((e=>e.coach_id===t.id))));const l=i.find((e=>{const n=e.date?"string"===typeof e.date?e.date.split("T")[0]:hu(new Date(e.date),"yyyy-MM-dd"):null,l=e.start_time?"string"===typeof e.start_time?e.start_time.substring(0,5):e.start_time:null,r=e.coach_id===t.id&&n===a&&l===s;return 1===t.id&&"09:00"===s&&r&&console.log("Found matching availability slot:",e),r})),r=c.find((e=>{const n=e.date?"string"===typeof e.date?e.date.split("T")[0]:hu(new Date(e.date),"yyyy-MM-dd"):null,l=e.time?"string"===typeof e.time?e.time.substring(0,5):e.time:null,r=e.coach_id===t.id&&n===a&&l===s;return 1===t.id&&"09:00"===s&&r&&console.log("Found matching reservation:",e),r}));return r?{available:!1,reserved:!0,configured:!0,slot:l,reservation:r}:!l||1!==l.is_available&&"1"!==l.is_available&&0!==l.is_booked&&"0"!==l.is_booked?{available:!1,reserved:!1,configured:!1,slot:null,reservation:null}:{available:!0,reserved:!1,configured:!0,slot:l,reservation:null}})(n,t),s=(e=>e.reserved?"reserved":e.available?"available":e.configured?"unavailable":"blank")(a);return(0,ba.jsx)("div",{className:"time-slot ".concat(s),onClick:()=>((t,n,a)=>{console.log("Slot clicked:",{coach:t,timeSlot:n,slotInfo:a}),x(ze({coach:t,date:e,time:n.display,timeSlot:n},a)),g(!0)})(n,t,a),style:{cursor:"pointer"},title:"".concat(n.name," - ").concat(t.display),children:k(a)},n.id)})):(0,ba.jsx)("div",{className:"no-coaches-message",children:"Aucun coach disponible - Veuillez v\xe9rifier la connexion \xe0 la base de donn\xe9es"})]},n)))})]}),(0,ba.jsxs)("div",{className:"planning-legend",children:[(0,ba.jsxs)("div",{className:"legend-item",children:[(0,ba.jsx)("div",{className:"legend-color available"}),(0,ba.jsx)("span",{children:"Disponible"})]}),(0,ba.jsxs)("div",{className:"legend-item",children:[(0,ba.jsx)("div",{className:"legend-color reserved"}),(0,ba.jsx)("span",{children:"R\xe9serv\xe9"})]}),(0,ba.jsxs)("div",{className:"legend-item",children:[(0,ba.jsx)("div",{className:"legend-color blank"}),(0,ba.jsx)("span",{children:"Non configur\xe9"})]}),(0,ba.jsxs)("div",{className:"legend-item",children:[(0,ba.jsx)("div",{className:"legend-color unavailable"}),(0,ba.jsx)("span",{children:"Indisponible"})]}),gu(e,new Date)&&!ju(e)&&(0,ba.jsxs)("div",{className:"legend-item historical",children:[(0,ba.jsx)("i",{className:"fas fa-info-circle me-2"}),(0,ba.jsx)("span",{children:"Vous consultez les donn\xe9es historiques"})]})]})]})]}),(0,ba.jsxs)(zo,{show:v,onHide:()=>g(!1),children:[(0,ba.jsx)(zo.Header,{closeButton:!0,children:(0,ba.jsx)(zo.Title,{children:null!==f&&void 0!==f&&f.reserved?"R\xe9servation":null!==f&&void 0!==f&&f.available?"Cr\xe9neau Disponible":"Cr\xe9neau Non Configur\xe9"})}),(0,ba.jsx)(zo.Body,{children:f&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Coach:"})," ",f.coach.name]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Date:"})," ",hu(f.date,"dd MMMM yyyy",{locale:Cu})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Heure:"})," ",f.time]}),f.reserved&&f.reservation&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Client:"})," ",f.reservation.client_name||"Non sp\xe9cifi\xe9"]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Email:"})," ",f.reservation.client_email||"Non sp\xe9cifi\xe9"]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"T\xe9l\xe9phone:"})," ",f.reservation.client_phone||"Non sp\xe9cifi\xe9"]}),(0,ba.jsx)("div",{className:"mb-3",children:(0,ba.jsx)(Ui,{bg:"confirmed"===f.reservation.status?"success":"warning",children:"confirmed"===f.reservation.status?"Confirm\xe9e":"En attente"})})]}),f.available&&!f.reserved&&(0,ba.jsxs)("div",{className:"alert alert-success",children:[(0,ba.jsx)("i",{className:"fas fa-check-circle me-2"}),"Ce cr\xe9neau est disponible pour r\xe9servation."]}),!f.configured&&(0,ba.jsxs)("div",{className:"alert alert-info",children:[(0,ba.jsx)("i",{className:"fas fa-info-circle me-2"}),"Aucun cr\xe9neau n'est configur\xe9 pour ce coach \xe0 cette heure."]})]})}),(0,ba.jsx)(zo.Footer,{children:(0,ba.jsx)(gi,{variant:"secondary",onClick:()=>g(!1),children:"Fermer"})})]})]})},Pu=e=>{let{installment:t,show:n,onHide:s,onUpdate:l,paymentPlan:r}=e;const[i,o]=(0,a.useState)({amount:(null===t||void 0===t?void 0:t.amount)||"",due_date:(null===t||void 0===t?void 0:t.due_date)||"",payment_method:(null===t||void 0===t?void 0:t.payment_method)||"cash",rib:(null===t||void 0===t?void 0:t.rib)||"",bank_reference:(null===t||void 0===t?void 0:t.bank_reference)||"",receipt_number:(null===t||void 0===t?void 0:t.receipt_number)||"",notes:(null===t||void 0===t?void 0:t.notes)||"",status:(null===t||void 0===t?void 0:t.status)||"pending",payment_date:(null===t||void 0===t?void 0:t.payment_date)||""}),[c,d]=(0,a.useState)(!1),u=e=>{const{name:t,value:n}=e.target;o((e=>ze(ze({},e),{},{[t]:n}))),"payment_method"===t&&"cash"===n&&o((e=>ze(ze({},e),{},{rib:"",bank_reference:""})))},m=e=>{o((t=>ze(ze({},t),{},{status:e,payment_date:"paid"===e?t.payment_date||(new Date).toISOString().split("T")[0]:""})))};return n&&t?(0,ba.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,ba.jsx)("div",{className:"modal-dialog modal-lg",children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",children:[(0,ba.jsxs)("h5",{className:"modal-title",children:["Edit Installment #",t.installment_number]}),(0,ba.jsx)("button",{type:"button",className:"btn-close",onClick:s})]}),(0,ba.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!i.amount||i.amount<=0?(Da("Please enter a valid amount","error"),0):i.due_date?"virement"!==i.payment_method||i.rib?"paid"!==i.status||i.payment_date||(Da("Payment date is required for paid installments","error"),0):(Da("RIB is required for bank transfer payments","error"),0):(Da("Please select a due date","error"),0))try{d(!0),await ga.put("/api/admin/payments/installments/".concat(t.id),i),"paid"===i.status&&"paid"!==t.status&&await ga.put("/api/admin/payments/installments/".concat(t.id,"/paid"),{payment_date:i.payment_date,payment_method:i.payment_method,rib:i.rib,bank_reference:i.bank_reference,receipt_number:i.receipt_number,notes:i.notes}),Da("Installment updated successfully","success"),l(),s()}catch(n){console.error("Error updating installment:",n),Da("Error updating installment","error")}finally{d(!1)}},children:[(0,ba.jsxs)("div",{className:"modal-body",children:[(0,ba.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,ba.jsxs)("h6",{className:"alert-heading",children:[(0,ba.jsx)("i",{className:"fas fa-info-circle me-2"}),"Installment Configuration"]}),(0,ba.jsx)("p",{className:"mb-0",children:"Set payment method (Cash or Virement) and payment status (Paid/Unpaid) for this installment. Each installment can have different settings."})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsxs)("label",{className:"form-label",children:[(0,ba.jsx)("i",{className:"fas fa-money-bill me-2 text-success"}),"Amount (DH)"]}),(0,ba.jsx)("input",{type:"number",className:"form-control",name:"amount",value:i.amount,onChange:u,step:"0.01",min:"0",required:!0})]}),(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsxs)("label",{className:"form-label",children:[(0,ba.jsx)("i",{className:"fas fa-calendar me-2 text-primary"}),"Due Date"]}),(0,ba.jsx)("input",{type:"date",className:"form-control",name:"due_date",value:i.due_date,onChange:u,required:!0})]}),(0,ba.jsxs)("div",{className:"col-12 mb-4",children:[(0,ba.jsxs)("label",{className:"form-label",children:[(0,ba.jsx)("i",{className:"fas fa-credit-card me-2 text-info"}),"Payment Method for this Installment"]}),(0,ba.jsx)("div",{className:"card border-primary",children:(0,ba.jsx)("div",{className:"card-body p-3",children:(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"form-check form-check-inline",children:[(0,ba.jsx)("input",{className:"form-check-input",type:"radio",name:"payment_method",id:"method-cash",value:"cash",checked:"cash"===i.payment_method,onChange:u}),(0,ba.jsxs)("label",{className:"form-check-label",htmlFor:"method-cash",children:[(0,ba.jsx)("span",{className:"badge bg-success me-2",children:"\ud83d\udcb5"}),(0,ba.jsx)("strong",{children:"Cash Payment"}),(0,ba.jsx)("small",{className:"d-block text-muted",children:"Payment in cash with receipt"})]})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"form-check form-check-inline",children:[(0,ba.jsx)("input",{className:"form-check-input",type:"radio",name:"payment_method",id:"method-virement",value:"virement",checked:"virement"===i.payment_method,onChange:u}),(0,ba.jsxs)("label",{className:"form-check-label",htmlFor:"method-virement",children:[(0,ba.jsx)("span",{className:"badge bg-info me-2",children:"\ud83c\udfe6"}),(0,ba.jsx)("strong",{children:"Bank Transfer (Virement)"}),(0,ba.jsx)("small",{className:"d-block text-muted",children:"Payment via bank transfer"})]})]})})]})})})]}),(0,ba.jsxs)("div",{className:"col-12 mb-4",children:[(0,ba.jsxs)("label",{className:"form-label",children:[(0,ba.jsx)("i",{className:"fas fa-check-circle me-2 text-success"}),"Payment Status for this Installment"]}),(0,ba.jsx)("div",{className:"card border-warning",children:(0,ba.jsx)("div",{className:"card-body p-3",children:(0,ba.jsxs)("div",{className:"btn-group w-100",role:"group",children:[(0,ba.jsx)("input",{type:"radio",className:"btn-check",name:"status",id:"status-pending",checked:"pending"===i.status,onChange:()=>m("pending")}),(0,ba.jsxs)("label",{className:"btn btn-outline-warning",htmlFor:"status-pending",children:[(0,ba.jsx)("i",{className:"fas fa-clock me-2"}),(0,ba.jsx)("strong",{children:"Pending"}),(0,ba.jsx)("small",{className:"d-block",children:"Not yet paid"})]}),(0,ba.jsx)("input",{type:"radio",className:"btn-check",name:"status",id:"status-paid",checked:"paid"===i.status,onChange:()=>m("paid")}),(0,ba.jsxs)("label",{className:"btn btn-outline-success",htmlFor:"status-paid",children:[(0,ba.jsx)("i",{className:"fas fa-check me-2"}),(0,ba.jsx)("strong",{children:"Effectu\xe9 (Paid)"}),(0,ba.jsx)("small",{className:"d-block",children:"Payment completed"})]}),(0,ba.jsx)("input",{type:"radio",className:"btn-check",name:"status",id:"status-cancelled",checked:"cancelled"===i.status,onChange:()=>m("cancelled")}),(0,ba.jsxs)("label",{className:"btn btn-outline-danger",htmlFor:"status-cancelled",children:[(0,ba.jsx)("i",{className:"fas fa-times me-2"}),(0,ba.jsx)("strong",{children:"Cancelled"}),(0,ba.jsx)("small",{className:"d-block",children:"Payment cancelled"})]})]})})})]}),"paid"===i.status&&(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Payment Date"}),(0,ba.jsx)("input",{type:"date",className:"form-control",name:"payment_date",value:i.payment_date,onChange:u,required:"paid"===i.status})]}),"virement"===i.payment_method&&(0,ba.jsxs)("div",{className:"col-12 mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"RIB (Bank Account Number)"}),(0,ba.jsx)("input",{type:"text",className:"form-control",name:"rib",value:i.rib,onChange:u,placeholder:"Enter RIB number",required:"virement"===i.payment_method})]}),"paid"===i.status&&"virement"===i.payment_method&&(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Bank Reference"}),(0,ba.jsx)("input",{type:"text",className:"form-control",name:"bank_reference",value:i.bank_reference,onChange:u,placeholder:"Transaction reference"})]}),"paid"===i.status&&"cash"===i.payment_method&&(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Receipt Number"}),(0,ba.jsx)("input",{type:"text",className:"form-control",name:"receipt_number",value:i.receipt_number,onChange:u,placeholder:"Receipt number"})]}),(0,ba.jsxs)("div",{className:"col-12 mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Notes"}),(0,ba.jsx)("textarea",{className:"form-control",name:"notes",value:i.notes,onChange:u,rows:"3",placeholder:"Additional notes about this installment..."})]})]}),(0,ba.jsxs)("div",{className:"alert alert-info",children:[(0,ba.jsx)("strong",{children:"Payment Plan Summary:"}),(0,ba.jsx)("br",{}),"Total Amount: ",null===r||void 0===r?void 0:r.total_amount," DH | Installments: ",null===r||void 0===r?void 0:r.number_of_installments," | Client: ",null===r||void 0===r?void 0:r.client_name]})]}),(0,ba.jsxs)("div",{className:"modal-footer",children:[(0,ba.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:s,children:"Cancel"}),"paid"===t.status&&(0,ba.jsx)("button",{type:"button",className:"btn btn-warning",onClick:async()=>{if(await Ha("Mark as Unpaid","Are you sure you want to mark this installment as unpaid? This will remove the payment record."))try{d(!0),await ga.put("/api/admin/payments/installments/".concat(t.id,"/unpaid")),Da("Installment marked as unpaid","success"),l(),s()}catch(e){console.error("Error marking as unpaid:",e),Da("Error marking installment as unpaid","error")}finally{d(!1)}},disabled:c,children:"Mark as Unpaid"}),(0,ba.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"jumping-logo",style:{maxWidth:"20px",maxHeight:"20px"}}):"Update Installment"})]})]})]})})}):null},Tu=e=>{let{installments:t,paymentPlan:n,onRefresh:s}=e;const[l,r]=(0,a.useState)(null),i=e=>e?new Date(e).toLocaleDateString("fr-FR"):"-";return(0,ba.jsxs)("div",{className:"installments-list",children:[(0,ba.jsxs)("div",{className:"alert alert-success mb-3",children:[(0,ba.jsxs)("h6",{className:"alert-heading",children:[(0,ba.jsx)("i",{className:"fas fa-list-alt me-2"}),"Installment Management"]}),(0,ba.jsx)("p",{className:"mb-0",children:'Each installment can be individually configured for payment method (Cash/Virement) and status (Paid/Unpaid). Click "Edit" to modify any installment.'})]}),(0,ba.jsx)("div",{className:"table-responsive",children:(0,ba.jsxs)("table",{className:"table table-striped table-hover",children:[(0,ba.jsx)("thead",{className:"table-dark",children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{width:"8%",children:"#"}),(0,ba.jsx)("th",{width:"15%",children:"Amount"}),(0,ba.jsx)("th",{width:"12%",children:"Due Date"}),(0,ba.jsx)("th",{width:"15%",children:"Payment Method"}),(0,ba.jsx)("th",{width:"15%",children:"Payment Status"}),(0,ba.jsx)("th",{width:"12%",children:"Payment Date"}),(0,ba.jsx)("th",{width:"15%",children:"Details"}),(0,ba.jsx)("th",{width:"8%",children:"Actions"})]})}),(0,ba.jsx)("tbody",{children:t.map((e=>{return(0,ba.jsxs)("tr",{className:"paid"===e.status?"table-success":"",children:[(0,ba.jsx)("td",{children:(0,ba.jsx)("span",{className:"badge bg-primary fs-6",children:e.installment_number})}),(0,ba.jsx)("td",{children:(0,ba.jsx)("strong",{className:"text-success",children:(t=e.amount,new Intl.NumberFormat("fr-MA",{style:"currency",currency:"MAD"}).format(t))})}),(0,ba.jsx)("td",{children:(0,ba.jsx)("small",{className:"text-muted",children:i(e.due_date)})}),(0,ba.jsx)("td",{children:(0,ba.jsx)("div",{className:"d-flex align-items-center",children:"cash"===e.payment_method?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"badge bg-success me-2",children:"\ud83d\udcb5"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("strong",{children:"Cash"}),(0,ba.jsx)("small",{className:"d-block text-muted",children:"Payment in cash"})]})]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"badge bg-info me-2",children:"\ud83c\udfe6"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("strong",{children:"Virement"}),(0,ba.jsx)("small",{className:"d-block text-muted",children:"Bank transfer"})]})]})})}),(0,ba.jsx)("td",{children:(0,ba.jsx)("div",{className:"d-flex align-items-center",children:"paid"===e.status?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"badge bg-success me-2",children:"\u2705"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("strong",{className:"text-success",children:"Effectu\xe9"}),(0,ba.jsx)("small",{className:"d-block text-muted",children:"Payment completed"})]})]}):"pending"===e.status?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"badge bg-warning me-2",children:"\u23f3"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("strong",{className:"text-warning",children:"Pending"}),(0,ba.jsx)("small",{className:"d-block text-muted",children:"Awaiting payment"})]})]}):"overdue"===e.status?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"badge bg-danger me-2",children:"\u26a0\ufe0f"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("strong",{className:"text-danger",children:"Overdue"}),(0,ba.jsx)("small",{className:"d-block text-muted",children:"Payment late"})]})]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"badge bg-secondary me-2",children:"\u274c"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("strong",{className:"text-secondary",children:"Cancelled"}),(0,ba.jsx)("small",{className:"d-block text-muted",children:"Payment cancelled"})]})]})})}),(0,ba.jsx)("td",{children:e.payment_date?(0,ba.jsxs)("span",{className:"text-success",children:[(0,ba.jsx)("i",{className:"fas fa-check-circle me-1"}),i(e.payment_date)]}):(0,ba.jsxs)("span",{className:"text-muted",children:[(0,ba.jsx)("i",{className:"fas fa-minus-circle me-1"}),"Not paid yet"]})}),(0,ba.jsxs)("td",{children:["virement"===e.payment_method&&e.rib&&(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("small",{className:"text-primary",children:[(0,ba.jsx)("i",{className:"fas fa-university me-1"}),"RIB: ",e.rib.substring(0,8),"..."]}),e.bank_reference&&(0,ba.jsxs)("small",{className:"d-block text-muted",children:["Ref: ",e.bank_reference]})]}),"cash"===e.payment_method&&e.receipt_number&&(0,ba.jsxs)("small",{className:"text-success",children:[(0,ba.jsx)("i",{className:"fas fa-receipt me-1"}),"Receipt: ",e.receipt_number]})]}),(0,ba.jsx)("td",{children:(0,ba.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>r(e),title:"Edit this installment",children:(0,ba.jsx)("i",{className:"fas fa-edit"})})})]},e.id);var t}))})]})}),(0,ba.jsx)(Pu,{installment:l,show:!!l,onHide:()=>r(null),onUpdate:s,paymentPlan:n})]})},Du=e=>{let{installment:t,onUpdate:n,currentRib:a}=e;return(0,ba.jsx)(ba.Fragment,{children:(0,ba.jsx)("div",{className:"quick-payment-actions",children:(0,ba.jsxs)("div",{className:"btn-group-vertical",role:"group",children:[(0,ba.jsx)("button",{className:"btn btn-sm ".concat("paid"===t.status?"btn-success":"btn-outline-success"),onClick:async()=>{try{if("paid"===t.status){if(!await Ha("Marquer comme non pay\xe9","\xcates-vous s\xfbr de vouloir marquer cet acompte comme non pay\xe9 ?"))return;await ga.put("/api/admin/payments/installments/".concat(t.id,"/unpaid")),Da("Paiement marqu\xe9 comme non pay\xe9","success")}else{let e={payment_date:(new Date).toISOString().split("T")[0],payment_method:t.payment_method,rib:a||t.rib||null,bank_reference:t.bank_reference||null,receipt_number:t.receipt_number||null,notes:"Enregistrement de paiement rapide"};if("virement"===t.payment_method&&!e.rib)return void Da("Veuillez saisir et enregistrer les informations RIB pour le paiement par virement d'abord","error");await ga.put("/api/admin/payments/installments/".concat(t.id,"/paid"),e),Da("Paiement marqu\xe9 comme pay\xe9","success")}n()}catch(e){console.error("Error toggling payment status:",e),Da("Erreur lors de la mise \xe0 jour du statut de paiement","error")}},title:"paid"===t.status?"Marquer comme non pay\xe9":"Marquer comme pay\xe9",children:"paid"===t.status?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-check-circle me-1"}),"Pay\xe9"]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"far fa-circle me-1"}),"Marquer Pay\xe9"]})}),(0,ba.jsx)("button",{className:"btn btn-sm ".concat("cash"===t.payment_method?"btn-success":"btn-info"),onClick:async()=>{try{const e="cash"===t.payment_method?"virement":"cash";await ga.put("/api/admin/payments/installments/".concat(t.id),{payment_method:e}),Da("M\xe9thode de paiement chang\xe9e vers ".concat(e),"success"),n()}catch(e){console.error("Error updating payment method:",e),Da("Erreur lors de la mise \xe0 jour de la m\xe9thode de paiement","error")}},title:"Changer vers ".concat("cash"===t.payment_method?"virement":"esp\xe8ces"),disabled:"paid"===t.status,children:"cash"===t.payment_method?(0,ba.jsx)(ba.Fragment,{children:"\ud83d\udcb5 Esp\xe8ces"}):(0,ba.jsx)(ba.Fragment,{children:"\ud83c\udfe6 Virement"})})]})})})},Ru=e=>{let{installment:t,paymentPlan:n,onUpdate:s}=e;const[l,r]=(0,a.useState)(t.rib||""),[i,o]=(0,a.useState)(t.bank_reference||""),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[f,x]=(0,a.useState)(!1),[v,g]=(0,a.useState)(t.due_date?t.due_date.split("T")[0]:"");(0,a.useEffect)((()=>{r(t.rib||""),o(t.bank_reference||""),g(t.due_date?t.due_date.split("T")[0]:""),m(!1),p(!t.rib&&"virement"===t.payment_method)}),[t.rib,t.bank_reference,t.due_date,t.payment_method]);const b=e=>e?new Date(e).toLocaleDateString("fr-FR"):"Non d\xe9finie";return(0,ba.jsx)("div",{className:"installment-card-container",children:(0,ba.jsxs)("div",{className:"card installment-status-card",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap",children:[(0,ba.jsxs)("h6",{className:"mb-0 installment-title",children:[(0,ba.jsxs)("span",{className:"badge bg-primary me-2",children:["#",t.installment_number]}),"\xc9ch\xe9ance ",t.installment_number," - ",(j=t.amount,new Intl.NumberFormat("fr-MA",{style:"currency",currency:"MAD"}).format(j))]}),(0,ba.jsx)(Du,{installment:t,onUpdate:s,currentRib:l})]})}),(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsxs)("div",{className:"installment-info-grid",children:[(0,ba.jsxs)("div",{className:"info-card payment-method",children:[(0,ba.jsxs)("div",{className:"info-header",children:[(0,ba.jsx)("i",{className:"fas fa-credit-card"}),(0,ba.jsx)("span",{children:"M\xe9thode de Paiement"})]}),(0,ba.jsx)("div",{className:"info-content",children:(0,ba.jsx)("span",{className:"method-badge ".concat("cash"===t.payment_method?"cash":"transfer"),children:"cash"===t.payment_method?"\ud83d\udcb5 Paiement Esp\xe8ces":"\ud83c\udfe6 Virement Bancaire"})})]}),(0,ba.jsxs)("div",{className:"info-card status",children:[(0,ba.jsxs)("div",{className:"info-header",children:[(0,ba.jsx)("i",{className:"fas fa-chart-line"}),(0,ba.jsx)("span",{children:"Statut"})]}),(0,ba.jsx)("div",{className:"info-content",children:(0,ba.jsx)("span",{className:"status-badge ".concat(t.status),children:"paid"===t.status?"\u2705 Pay\xe9":"overdue"===t.status?"\u26a0\ufe0f En Retard":"\u23f3 En Attente"})})]}),(0,ba.jsxs)("div",{className:"info-card due-date",children:[(0,ba.jsxs)("div",{className:"info-header",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-alt"}),(0,ba.jsx)("span",{children:"Date d'\xc9ch\xe9ance"})]}),(0,ba.jsx)("div",{className:"info-content",children:f?(0,ba.jsxs)("div",{className:"date-edit-section",children:[(0,ba.jsx)("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:e=>g(e.target.value)}),(0,ba.jsxs)("div",{className:"edit-buttons mt-2",children:[(0,ba.jsx)("button",{className:"btn btn-sm btn-primary me-1",onClick:async()=>{if(v)try{await ga.put("/api/admin/payments/installments/".concat(t.id),{due_date:v}),Da("\u2705 Date d'\xe9ch\xe9ance mise \xe0 jour avec succ\xe8s !","success"),x(!1),s()}catch(e){console.error("Error updating due date:",e),Da("\u274c Erreur lors de la mise \xe0 jour de la date d'\xe9ch\xe9ance","error")}else Da("Veuillez s\xe9lectionner une date d'\xe9ch\xe9ance","error")},children:(0,ba.jsx)("i",{className:"fas fa-save"})}),(0,ba.jsx)("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>{g(t.due_date?t.due_date.split("T")[0]:""),x(!1)},children:(0,ba.jsx)("i",{className:"fas fa-times"})})]})]}):(0,ba.jsxs)("div",{className:"date-display",onClick:()=>{x(!0)},children:[(0,ba.jsx)("span",{className:"date-value",children:b(t.due_date)}),(0,ba.jsx)("i",{className:"fas fa-edit edit-icon ms-2"})]})})]}),(0,ba.jsxs)("div",{className:"info-card payment-date",children:[(0,ba.jsxs)("div",{className:"info-header",children:[(0,ba.jsx)("i",{className:"fas fa-money-check-alt"}),(0,ba.jsx)("span",{children:"Date de Paiement"})]}),(0,ba.jsx)("div",{className:"info-content",children:(0,ba.jsx)("span",{className:"date-value ".concat(t.payment_date?"paid":"not-paid"),children:b(t.payment_date)})})]})]}),"virement"===t.payment_method&&(0,ba.jsx)("div",{className:"bank-info-section",children:!h&&t.rib?(0,ba.jsxs)("div",{className:"rib-display-section",children:[(0,ba.jsxs)("div",{className:"section-header",children:[(0,ba.jsxs)("h6",{className:"section-title",children:[(0,ba.jsx)("i",{className:"fas fa-university me-2"}),"\ud83c\udfe6 Informations Bancaires Enregistr\xe9es"]}),(0,ba.jsxs)("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>{p(!0)},children:[(0,ba.jsx)("i",{className:"fas fa-edit me-1"}),"Modifier RIB"]})]}),(0,ba.jsxs)("div",{className:"rib-display-grid",children:[(0,ba.jsxs)("div",{className:"rib-info-card rib-number",children:[(0,ba.jsx)("div",{className:"rib-label",children:"\u2705 Num\xe9ro RIB"}),(0,ba.jsx)("div",{className:"rib-value",children:t.rib})]}),t.bank_reference&&(0,ba.jsxs)("div",{className:"rib-info-card bank-ref",children:[(0,ba.jsx)("div",{className:"rib-label",children:"\ud83d\udcdd R\xe9f\xe9rence"}),(0,ba.jsx)("div",{className:"rib-value",children:t.bank_reference})]})]})]}):(0,ba.jsxs)("div",{className:"rib-input-section ".concat(u?"has-changes":""),children:[(0,ba.jsxs)("div",{className:"section-header",children:[(0,ba.jsxs)("h6",{className:"section-title",children:[(0,ba.jsx)("i",{className:"fas fa-university me-2"}),"\ud83c\udfe6 Informations Bancaires Requises"]}),t.rib&&(0,ba.jsxs)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{r(t.rib||""),o(t.bank_reference||""),m(!1),p(!1)},children:[(0,ba.jsx)("i",{className:"fas fa-times me-1"}),"Annuler"]})]}),(0,ba.jsxs)("div",{className:"rib-input-form",children:[(0,ba.jsxs)("div",{className:"form-row",children:[(0,ba.jsxs)("div",{className:"form-group rib-input",children:[(0,ba.jsxs)("label",{className:"form-label",children:[(0,ba.jsx)("i",{className:"fas fa-credit-card me-2"}),"Num\xe9ro RIB ",(0,ba.jsx)("span",{className:"text-danger",children:"*"})]}),(0,ba.jsx)("input",{type:"text",className:"form-control ".concat(u?"border-warning":""),placeholder:"Saisir le num\xe9ro de compte bancaire complet",value:l,onChange:e=>{return n=e.target.value,r(n),void m(n!==(t.rib||"")||i!==(t.bank_reference||""));var n}})]}),(0,ba.jsxs)("div",{className:"form-group bank-ref-input",children:[(0,ba.jsxs)("label",{className:"form-label",children:[(0,ba.jsx)("i",{className:"fas fa-hashtag me-2"}),"R\xe9f\xe9rence Bancaire (Optionnel)"]}),(0,ba.jsx)("input",{type:"text",className:"form-control ".concat(u?"border-warning":""),placeholder:"R\xe9f\xe9rence optionnelle",value:i,onChange:e=>{return n=e.target.value,o(n),void m(l!==(t.rib||"")||n!==(t.bank_reference||""));var n}})]})]}),(0,ba.jsxs)("div",{className:"form-actions",children:[(0,ba.jsxs)("div",{className:"alert-section",children:[!l.trim()&&(0,ba.jsxs)("div",{className:"alert alert-warning",children:[(0,ba.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("strong",{children:"RIB Requis !"}),(0,ba.jsx)("br",{}),(0,ba.jsx)("small",{children:"Veuillez saisir le num\xe9ro de compte bancaire pour ce paiement par virement."})]})]}),u&&l.trim()&&(0,ba.jsxs)("div",{className:"alert alert-info",children:[(0,ba.jsx)("i",{className:"fas fa-edit me-2"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("strong",{children:"Pr\xeat \xe0 Enregistrer !"}),(0,ba.jsx)("br",{}),(0,ba.jsx)("small",{children:"Vous avez fait des modifications. Cliquez sur le bouton sauvegarder pour les appliquer."})]})]})]}),(0,ba.jsx)("div",{className:"save-section",children:(0,ba.jsx)("button",{type:"button",className:"btn save-btn ".concat(u?"btn-primary":"btn-outline-secondary"),onClick:async()=>{if(l.trim())try{d(!0),await ga.put("/api/admin/payments/installments/".concat(t.id),{rib:l.trim(),bank_reference:i.trim()}),Da("\u2705 Informations RIB enregistr\xe9es avec succ\xe8s !","success"),m(!1),p(!1),s()}catch(e){console.error("Error updating RIB:",e),Da("\u274c Erreur lors de l'enregistrement des informations RIB","error")}finally{d(!1)}else Da("Veuillez saisir un num\xe9ro RIB","error")},disabled:c||!l.trim()||!u,title:u?"Sauvegarder les modifications":"Aucune modification \xe0 sauvegarder",children:c?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-spinner fa-spin me-2"}),"Enregistrement..."]}):u?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-save me-2"}),"Enregistrer Info Bancaires"]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-check me-2"}),"Tout Enregistr\xe9"]})})})]})]})]})}),"cash"===t.payment_method&&t.receipt_number&&(0,ba.jsx)("div",{className:"receipt-section",children:(0,ba.jsxs)("div",{className:"receipt-info",children:[(0,ba.jsx)("i",{className:"fas fa-receipt me-2"}),(0,ba.jsx)("span",{className:"receipt-label",children:"Re\xe7u :"}),(0,ba.jsx)("code",{className:"receipt-number",children:t.receipt_number})]})})]})]})});var j},Ou=()=>{var e;const[t,n]=(0,a.useState)("overview"),[s,l]=(0,a.useState)([]),[r,i]=(0,a.useState)([]),[o,c]=(0,a.useState)({}),[d,u]=(0,a.useState)([]),[m,h]=(0,a.useState)(null),[p,f]=(0,a.useState)([]),[x,v]=(0,a.useState)([]),[g,b]=(0,a.useState)({}),[j,y]=(0,a.useState)(!1),[N,w]=(0,a.useState)(!1),[k,S]=(0,a.useState)(null),[C,_]=(0,a.useState)({user_pack_id:"",total_amount:"",number_of_installments:1,payment_type:"cash",first_due_date:"",notes:""}),[E,P]=(0,a.useState)({payment_date:(new Date).toISOString().split("T")[0],payment_method:"cash",rib:"",bank_reference:"",receipt_number:"",notes:""}),[T,D]=(0,a.useState)(!1),[R,O]=(0,a.useState)(null),[F,I]=(0,a.useState)({total_amount:"",number_of_installments:1,payment_type:"cash",notes:"",installments:[]}),[A,L]=(0,a.useState)({}),[M,z]=(0,a.useState)(null),[U,B]=(0,a.useState)(""),[W,q]=(0,a.useState)(new Set),H=async()=>{try{b((e=>ze(ze({},e),{},{payments:!0})));const e=await ga.get("/api/admin/payments");l(e.data)}catch(e){Da("Erreur lors de la r\xe9cup\xe9ration des paiements","error")}finally{b((e=>ze(ze({},e),{},{payments:!1})))}},V=async()=>{try{b((e=>ze(ze({},e),{},{overdue:!0})));const e=await ga.get("/api/admin/payments/overdue");i(e.data)}catch(e){Da("Erreur lors de la r\xe9cup\xe9ration des paiements en retard","error")}finally{b((e=>ze(ze({},e),{},{overdue:!1})))}},G=async()=>{try{const e=await ga.get("/api/admin/payments/statistics");c(e.data)}catch(e){Da("Erreur lors de la r\xe9cup\xe9ration des statistiques de paiement","error")}},Y=async()=>{try{const e=await ga.get("/api/admin/user-packs/without-payment-plans");u(e.data)}catch(e){Da("Erreur lors de la r\xe9cup\xe9ration des packs utilisateur","error")}},$=async e=>{try{b((e=>ze(ze({},e),{},{installments:!0})));const t=await ga.get("/api/admin/payments/".concat(e,"/installments"));L((n=>ze(ze({},n),{},{[e]:t.data}))),q((t=>new Set([...t,e]))),f(t.data)}catch(t){Da("Erreur lors de la r\xe9cup\xe9ration des \xe9ch\xe9ances","error")}finally{b((e=>ze(ze({},e),{},{installments:!1})))}};(0,a.useEffect)((()=>{H(),V(),G(),Y()}),[]);const K=e=>{h(e),$(e.payment_plan_id),(async e=>{try{const t=await ga.get("/api/admin/payments/history/".concat(e));v(t.data)}catch(t){Da("Erreur lors de la r\xe9cup\xe9ration de l'historique des paiements","error")}})(e.user_pack_id)},J=e=>{O(e),I({total_amount:e.total_amount,number_of_installments:e.number_of_installments,payment_type:e.payment_type,notes:e.plan_notes||"",installments:[]}),$(e.payment_plan_id).then((()=>{D(!0)}))},Q=e=>new Intl.NumberFormat("fr-MA",{style:"currency",currency:"MAD"}).format(e),X=e=>new Date(e).toLocaleDateString("fr-FR"),Z=s.filter((e=>e.client_name.toLowerCase().includes(U.toLowerCase())||e.client_email.toLowerCase().includes(U.toLowerCase())||e.pack_name.toLowerCase().includes(U.toLowerCase())));return(0,ba.jsxs)("div",{className:"admin-payments",children:[(0,ba.jsxs)("div",{className:"row mb-4",children:[(0,ba.jsx)("div",{className:"col-md-3",children:(0,ba.jsx)("div",{className:"card text-center",children:(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsx)("h5",{className:"card-title text-primary",children:"Total Collect\xe9"}),(0,ba.jsx)("h3",{className:"text-success",children:Q(o.total_collected||0)})]})})}),(0,ba.jsx)("div",{className:"col-md-3",children:(0,ba.jsx)("div",{className:"card text-center",children:(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsx)("h5",{className:"card-title text-primary",children:"Montant en Attente"}),(0,ba.jsx)("h3",{className:"text-warning",children:Q(o.total_pending||0)})]})})}),(0,ba.jsx)("div",{className:"col-md-3",children:(0,ba.jsx)("div",{className:"card text-center",children:(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsx)("h5",{className:"card-title text-primary",children:"\xc9l\xe9ments en Retard"}),(0,ba.jsx)("h3",{className:"text-danger",children:o.overdue_installments||0})]})})}),(0,ba.jsx)("div",{className:"col-md-3",children:(0,ba.jsx)("div",{className:"card text-center",children:(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsx)("h5",{className:"card-title text-primary",children:"Plans Totaux"}),(0,ba.jsx)("h3",{className:"text-info",children:o.total_payment_plans||0})]})})})]}),(0,ba.jsxs)("ul",{className:"nav nav-tabs mb-4",children:[(0,ba.jsx)("li",{className:"nav-item",children:(0,ba.jsxs)("button",{className:"nav-link ".concat("overview"===t?"active":""),onClick:()=>n("overview"),children:[(0,ba.jsx)("i",{className:"fas fa-chart-line me-2"}),"Aper\xe7u"]})}),(0,ba.jsx)("li",{className:"nav-item",children:(0,ba.jsxs)("button",{className:"nav-link ".concat("installments"===t?"active":""),onClick:()=>n("installments"),children:[(0,ba.jsx)("i",{className:"fas fa-credit-card me-2"}),"Gestionnaire d'\xc9ch\xe9ances"]})}),(0,ba.jsx)("li",{className:"nav-item",children:(0,ba.jsxs)("button",{className:"nav-link ".concat("overdue"===t?"active":""),onClick:()=>n("overdue"),children:[(0,ba.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),"En Retard (",r.length,")"]})}),(0,ba.jsx)("li",{className:"nav-item",children:(0,ba.jsxs)("button",{className:"nav-link ".concat("create"===t?"active":""),onClick:()=>n("create"),children:[(0,ba.jsx)("i",{className:"fas fa-plus me-2"}),"Cr\xe9er Plan"]})})]}),"overview"===t&&(0,ba.jsxs)("div",{className:"tab-content",children:[(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,ba.jsx)("h4",{children:"Plans de Paiement"}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("button",{className:"btn btn-warning me-2",onClick:async()=>{try{const e=await ga.post("/api/admin/payments/update-overdue");Da(e.data.message,"success"),H(),V()}catch(e){Da("Erreur lors de la mise \xe0 jour des paiements en retard","error")}},children:[(0,ba.jsx)("i",{className:"fas fa-sync-alt me-2"}),"Mettre \xe0 Jour Retards"]}),(0,ba.jsxs)("button",{className:"btn btn-primary",onClick:H,children:[(0,ba.jsx)("i",{className:"fas fa-refresh me-2"}),"Refresh"]})]})]}),g.payments?(0,ba.jsx)("div",{className:"text-center py-4",children:(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"jumping-logo"})}):(0,ba.jsx)("div",{className:"table-responsive",children:(0,ba.jsxs)("table",{className:"table table-striped",children:[(0,ba.jsx)("thead",{children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:"Client"}),(0,ba.jsx)("th",{children:"Pack"}),(0,ba.jsx)("th",{children:"Montant Total"}),(0,ba.jsx)("th",{children:"\xc9ch\xe9ances"}),(0,ba.jsx)("th",{children:"Pay\xe9"}),(0,ba.jsx)("th",{children:"En Attente"}),(0,ba.jsx)("th",{children:"Prochaine \xc9ch\xe9ance"}),(0,ba.jsx)("th",{children:"Statut"}),(0,ba.jsx)("th",{children:"Actions"})]})}),(0,ba.jsx)("tbody",{children:s.map((e=>(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:(0,ba.jsxs)("div",{children:[(0,ba.jsx)("strong",{children:e.client_name}),(0,ba.jsx)("br",{}),(0,ba.jsx)("small",{className:"text-muted",children:e.client_email})]})}),(0,ba.jsx)("td",{children:e.pack_name}),(0,ba.jsx)("td",{children:Q(e.total_amount)}),(0,ba.jsx)("td",{children:e.number_of_installments}),(0,ba.jsx)("td",{className:"text-success",children:Q(e.amount_paid)}),(0,ba.jsx)("td",{className:"text-warning",children:Q(e.amount_pending)}),(0,ba.jsx)("td",{children:e.next_due_date?X(e.next_due_date):"Termin\xe9"}),(0,ba.jsx)("td",{children:(0,ba.jsx)("span",{className:e.amount_pending>0?"badge bg-warning":"badge bg-success",children:e.amount_pending>0?"En Attente":"Pay\xe9"})}),(0,ba.jsxs)("td",{children:[(0,ba.jsxs)("button",{className:"btn btn-sm btn-outline-primary me-1",onClick:()=>K(e),children:[(0,ba.jsx)("i",{className:"fas fa-eye me-1"}),"Voir"]}),(0,ba.jsx)("button",{className:"btn btn-sm btn-outline-warning me-1",onClick:()=>J(e),title:"Modifier le plan de paiement",children:(0,ba.jsx)("i",{className:"fas fa-edit"})}),(0,ba.jsx)("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>(async e=>{if(await Ha("\xcates-vous s\xfbr de vouloir supprimer le plan de paiement pour ".concat(e.client_name,"? Cette action supprimera \xe9galement toutes les \xe9ch\xe9ances associ\xe9es."),{title:"Confirmer la suppression",confirmText:"Supprimer",cancelText:"Annuler",confirmButtonClass:"btn-danger"})){b((t=>ze(ze({},t),{},{["removePlan_".concat(e.payment_plan_id)]:!0})));try{await ga.delete("/api/admin/payments/plans/".concat(e.payment_plan_id)),Da("Plan de paiement supprim\xe9 avec succ\xe8s","success"),H(),V(),G(),Y()}catch(t){console.error("Error removing payment plan:",t),Da("Erreur lors de la suppression du plan de paiement","error")}finally{b((t=>ze(ze({},t),{},{["removePlan_".concat(e.payment_plan_id)]:!1})))}}})(e),disabled:g.removePlan,title:"Supprimer le plan de paiement",children:g.removePlan?(0,ba.jsx)("i",{className:"fas fa-spinner fa-spin"}):(0,ba.jsx)("i",{className:"fas fa-trash"})})]})]},e.payment_plan_id)))})]})})]}),"overdue"===t&&(0,ba.jsxs)("div",{className:"tab-content",children:[(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,ba.jsx)("h4",{className:"text-danger",children:"Paiements en Retard"}),(0,ba.jsxs)("button",{className:"btn btn-primary",onClick:V,children:[(0,ba.jsx)("i",{className:"fas fa-refresh me-2"}),"Actualiser"]})]}),g.overdue?(0,ba.jsx)("div",{className:"text-center py-4",children:(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"jumping-logo"})}):(0,ba.jsx)("div",{className:"table-responsive",children:(0,ba.jsxs)("table",{className:"table table-striped",children:[(0,ba.jsx)("thead",{children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:"Client"}),(0,ba.jsx)("th",{children:"Pack"}),(0,ba.jsx)("th",{children:"\xc9ch\xe9ance"}),(0,ba.jsx)("th",{children:"Montant"}),(0,ba.jsx)("th",{children:"Date d'\xc9ch\xe9ance"}),(0,ba.jsx)("th",{children:"Jours de Retard"}),(0,ba.jsx)("th",{children:"M\xe9thode de Paiement"}),(0,ba.jsx)("th",{children:"Actions"})]})}),(0,ba.jsx)("tbody",{children:r.map((e=>(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:(0,ba.jsxs)("div",{children:[(0,ba.jsx)("strong",{children:e.client_name}),(0,ba.jsx)("br",{}),(0,ba.jsx)("small",{className:"text-muted",children:e.client_phone})]})}),(0,ba.jsx)("td",{children:e.pack_name}),(0,ba.jsxs)("td",{children:["#",e.installment_number]}),(0,ba.jsx)("td",{children:Q(e.amount)}),(0,ba.jsx)("td",{children:X(e.due_date)}),(0,ba.jsx)("td",{children:(0,ba.jsxs)("span",{className:"badge bg-danger",children:[e.days_overdue," jours"]})}),(0,ba.jsx)("td",{children:(0,ba.jsx)("span",{className:"badge ".concat("cash"===e.payment_method?"bg-success":"bg-info"),children:e.payment_method})}),(0,ba.jsx)("td",{children:(0,ba.jsxs)("button",{className:"btn btn-sm btn-success me-1",onClick:()=>{return t={id:e.installment_id,payment_method:e.payment_method,rib:e.rib},S(t),P({payment_date:(new Date).toISOString().split("T")[0],payment_method:t.payment_method,rib:t.rib||"",bank_reference:"",receipt_number:"",notes:""}),void w(!0);var t},children:[(0,ba.jsx)("i",{className:"fas fa-check me-1"}),"Marquer Pay\xe9"]})})]},e.installment_id)))})]})})]}),"create"===t&&(0,ba.jsx)("div",{className:"tab-content",children:(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-8",children:(0,ba.jsxs)("div",{className:"card",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsx)("h5",{children:"Cr\xe9er un Nouveau Plan de Paiement"})}),(0,ba.jsx)("div",{className:"card-body",children:(0,ba.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),b((e=>ze(ze({},e),{},{createPlan:!0})));try{await ga.post("/api/admin/payments",C),Da("Plan de paiement cr\xe9\xe9 avec succ\xe8s","success"),y(!1),_({user_pack_id:"",total_amount:"",number_of_installments:1,payment_type:"cash",first_due_date:"",notes:""}),H(),Y()}catch(t){Da("Erreur lors de la cr\xe9ation du plan de paiement","error")}finally{b((e=>ze(ze({},e),{},{createPlan:!1})))}},children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Pack Utilisateur *"}),(0,ba.jsxs)("select",{className:"form-select",value:C.user_pack_id,onChange:e=>_(ze(ze({},C),{},{user_pack_id:e.target.value})),required:!0,children:[(0,ba.jsx)("option",{value:"",children:"S\xe9lectionner un pack utilisateur"}),d.map((e=>(0,ba.jsxs)("option",{value:e.user_pack_id,children:[e.client_name," - ",e.pack_name," (",Q(e.pack_price),")"]},e.user_pack_id)))]})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Total Amount *"}),(0,ba.jsx)("input",{type:"number",step:"0.01",className:"form-control",value:C.total_amount,onChange:e=>_(ze(ze({},C),{},{total_amount:e.target.value})),required:!0})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Number of Installments *"}),(0,ba.jsxs)("select",{className:"form-select",value:C.number_of_installments,onChange:e=>_(ze(ze({},C),{},{number_of_installments:parseInt(e.target.value)})),required:!0,children:[(0,ba.jsx)("option",{value:1,children:"1 Payment"}),(0,ba.jsx)("option",{value:2,children:"2 Installments"}),(0,ba.jsx)("option",{value:3,children:"3 Installments"})]})]})})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Payment Type *"}),(0,ba.jsxs)("select",{className:"form-select",value:C.payment_type,onChange:e=>_(ze(ze({},C),{},{payment_type:e.target.value})),required:!0,children:[(0,ba.jsx)("option",{value:"cash",children:"Cash Only"}),(0,ba.jsx)("option",{value:"virement",children:"Bank Transfer Only"}),(0,ba.jsx)("option",{value:"mixed",children:"Mixed (Cash + Bank Transfer)"})]})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"First Due Date *"}),(0,ba.jsx)("input",{type:"date",className:"form-control",value:C.first_due_date,onChange:e=>_(ze(ze({},C),{},{first_due_date:e.target.value})),required:!0})]})})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Notes"}),(0,ba.jsx)("textarea",{className:"form-control",rows:3,value:C.notes,onChange:e=>_(ze(ze({},C),{},{notes:e.target.value})),placeholder:"Additional notes about the payment plan..."})]}),(0,ba.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,ba.jsx)("i",{className:"fas fa-plus me-2"}),"Create Payment Plan"]})]})})]})}),(0,ba.jsx)("div",{className:"col-md-4",children:(0,ba.jsxs)("div",{className:"card",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsx)("h6",{children:"User Packs Without Payment Plans"})}),(0,ba.jsx)("div",{className:"card-body",children:0===d.length?(0,ba.jsx)("p",{className:"text-muted",children:"No user packs found without payment plans."}):(0,ba.jsx)("div",{className:"list-group",children:d.map((e=>(0,ba.jsx)("div",{className:"list-group-item",children:(0,ba.jsx)("div",{className:"d-flex justify-content-between",children:(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h6",{className:"mb-1",children:e.client_name}),(0,ba.jsx)("p",{className:"mb-1",children:e.pack_name}),(0,ba.jsx)("small",{className:"text-muted",children:Q(e.pack_price)})]})})},e.user_pack_id)))})})]})})]})}),m&&(0,ba.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:(0,ba.jsx)("div",{className:"modal-dialog modal-xl",children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",children:[(0,ba.jsxs)("h5",{className:"modal-title",children:["Payment Plan Details - ",m.client_name]}),(0,ba.jsx)("button",{type:"button",className:"btn-close",onClick:()=>h(null)})]}),(0,ba.jsx)("div",{className:"modal-body",children:(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-4",children:(0,ba.jsx)("div",{className:"card",children:(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,ba.jsx)("h6",{className:"mb-0",children:"Plan Summary"}),(0,ba.jsxs)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>J(m),title:"Edit payment plan",children:[(0,ba.jsx)("i",{className:"fas fa-edit"})," Edit Plan"]})]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Pack:"})," ",m.pack_name]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Total:"})," ",Q(m.total_amount)]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Installments:"})," ",m.number_of_installments]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Type:"})," ",m.payment_type]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Paid:"})," ",(0,ba.jsx)("span",{className:"text-success",children:Q(m.amount_paid)})]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"En Attente:"})," ",(0,ba.jsx)("span",{className:"text-warning",children:Q(m.amount_pending)})]})]})})}),(0,ba.jsxs)("div",{className:"col-md-8",children:[(0,ba.jsx)("h6",{children:"Installments - Enhanced Editing"}),g.installments?(0,ba.jsx)("div",{className:"text-center py-3",children:(0,ba.jsx)("div",{className:"spinner-border",role:"status"})}):(0,ba.jsx)(Tu,{installments:p,paymentPlan:m,onRefresh:()=>{$(m.payment_plan_id),H(),V(),G()}})]})]})})]})})}),N&&k&&(0,ba.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:(0,ba.jsx)("div",{className:"modal-dialog",children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",children:[(0,ba.jsx)("h5",{className:"modal-title",children:"Record Payment"}),(0,ba.jsx)("button",{type:"button",className:"btn-close",onClick:()=>w(!1)})]}),(0,ba.jsx)("div",{className:"modal-body",children:(0,ba.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await ga.put("/api/admin/payments/installments/".concat(k.id,"/paid"),E),Da("Paiement enregistr\xe9 avec succ\xe8s","success"),w(!1),S(null),P({payment_date:(new Date).toISOString().split("T")[0],payment_method:"cash",rib:"",bank_reference:"",receipt_number:"",notes:""}),H(),V(),m&&$(m.payment_plan_id)}catch(t){Da("Erreur lors de l'enregistrement du paiement","error")}},children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Payment Date *"}),(0,ba.jsx)("input",{type:"date",className:"form-control",value:E.payment_date,onChange:e=>P(ze(ze({},E),{},{payment_date:e.target.value})),required:!0})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Payment Method *"}),(0,ba.jsxs)("select",{className:"form-select",value:E.payment_method,onChange:e=>P(ze(ze({},E),{},{payment_method:e.target.value})),required:!0,children:[(0,ba.jsx)("option",{value:"cash",children:"Cash"}),(0,ba.jsx)("option",{value:"virement",children:"Bank Transfer"})]})]}),"virement"===E.payment_method&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"RIB"}),(0,ba.jsx)("input",{type:"text",className:"form-control",value:E.rib,onChange:e=>P(ze(ze({},E),{},{rib:e.target.value})),placeholder:"Bank account number"})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Bank Reference"}),(0,ba.jsx)("input",{type:"text",className:"form-control",value:E.bank_reference,onChange:e=>P(ze(ze({},E),{},{bank_reference:e.target.value})),placeholder:"Transaction reference"})]})]}),"cash"===E.payment_method&&(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Receipt Number"}),(0,ba.jsx)("input",{type:"text",className:"form-control",value:E.receipt_number,onChange:e=>P(ze(ze({},E),{},{receipt_number:e.target.value})),placeholder:"Receipt number"})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Notes"}),(0,ba.jsx)("textarea",{className:"form-control",rows:3,value:E.notes,onChange:e=>P(ze(ze({},E),{},{notes:e.target.value})),placeholder:"Additional notes..."})]}),(0,ba.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,ba.jsx)("button",{type:"button",className:"btn btn-secondary me-2",onClick:()=>w(!1),children:"Cancel"}),(0,ba.jsxs)("button",{type:"submit",className:"btn btn-success",children:[(0,ba.jsx)("i",{className:"fas fa-check me-2"}),"Record Payment"]})]})]})})]})})}),T&&R&&(0,ba.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:(0,ba.jsx)("div",{className:"modal-dialog modal-lg",children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",children:[(0,ba.jsxs)("h5",{className:"modal-title",children:["Edit Payment Plan - ",R.client_name]}),(0,ba.jsx)("button",{type:"button",className:"btn-close",onClick:()=>D(!1)})]}),(0,ba.jsx)("div",{className:"modal-body",children:(0,ba.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{if(await ga.put("/api/admin/payments/plans/".concat(R.payment_plan_id),{total_amount:F.total_amount,payment_type:F.payment_type,notes:F.notes}),F.installments.length>0)for(const e of F.installments)await ga.put("/api/admin/payments/installments/".concat(e.id),{amount:e.amount});Da("Plan de paiement mis \xe0 jour avec succ\xe8s","success"),D(!1),H(),$(R.payment_plan_id)}catch(e){console.error("Error updating payment plan:",e),Da("Erreur lors de la mise \xe0 jour du plan de paiement","error")}})()},children:[(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Total Amount (DH)"}),(0,ba.jsx)("input",{type:"number",className:"form-control",value:F.total_amount,onChange:e=>I(ze(ze({},F),{},{total_amount:e.target.value})),step:"0.01",min:"0",required:!0})]}),(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Payment Type"}),(0,ba.jsxs)("select",{className:"form-select",value:F.payment_type,onChange:e=>I(ze(ze({},F),{},{payment_type:e.target.value})),children:[(0,ba.jsx)("option",{value:"cash",children:"Cash Only"}),(0,ba.jsx)("option",{value:"virement",children:"Bank Transfer Only"}),(0,ba.jsx)("option",{value:"mixed",children:"Mixed (Cash + Transfer)"})]})]}),(0,ba.jsxs)("div",{className:"col-12 mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Notes"}),(0,ba.jsx)("textarea",{className:"form-control",value:F.notes,onChange:e=>I(ze(ze({},F),{},{notes:e.target.value})),rows:"3",placeholder:"Additional notes about this payment plan..."})]})]}),(0,ba.jsxs)("div",{className:"card mt-3",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,ba.jsx)("h6",{className:"mb-0",children:"Installment Amount Distribution"}),(0,ba.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>{const e=parseFloat(F.total_amount),t=parseInt(F.number_of_installments);if(e&&t){const n=Math.floor(e/t*100)/100,a=e-n*t,s=p.map(((e,t)=>ze(ze({},e),{},{amount:0===t?n+a:n})));I((e=>ze(ze({},e),{},{installments:s})))}},children:"Auto Distribute"})]})}),(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsx)("p",{className:"text-muted mb-3",children:"Example: For a 3000 DH pack, you can set first installment to 2000 DH and second to 1000 DH."}),p.length>0?(0,ba.jsx)("div",{className:"table-responsive",children:(0,ba.jsxs)("table",{className:"table table-sm",children:[(0,ba.jsx)("thead",{children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:"Installment #"}),(0,ba.jsx)("th",{children:"Current Amount"}),(0,ba.jsx)("th",{children:"New Amount (DH)"}),(0,ba.jsx)("th",{children:"Status"})]})}),(0,ba.jsx)("tbody",{children:p.map(((e,t)=>{var n;return(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:e.installment_number}),(0,ba.jsx)("td",{children:Q(e.amount)}),(0,ba.jsx)("td",{children:(0,ba.jsx)("input",{type:"number",className:"form-control form-control-sm",value:(null===(n=F.installments.find((t=>t.id===e.id)))||void 0===n?void 0:n.amount)||e.amount,onChange:t=>{return n=e.id,a=t.target.value,void I((e=>ze(ze({},e),{},{installments:e.installments.map((e=>e.id===n?ze(ze({},e),{},{amount:parseFloat(a)}):e))})));var n,a},step:"0.01",min:"0",disabled:"paid"===e.status})}),(0,ba.jsx)("td",{children:(0,ba.jsx)("span",{className:"badge ".concat("paid"===e.status?"bg-success":"bg-warning"),children:"paid"===e.status?"Paid (Locked)":"Editable"})})]},e.id)}))}),(0,ba.jsx)("tfoot",{children:(0,ba.jsxs)("tr",{className:"table-info",children:[(0,ba.jsx)("th",{children:"Total"}),(0,ba.jsx)("th",{children:Q(p.reduce(((e,t)=>e+parseFloat(t.amount)),0))}),(0,ba.jsx)("th",{children:Q(F.installments.length>0?F.installments.reduce(((e,t)=>e+parseFloat(t.amount||0)),0):p.reduce(((e,t)=>e+parseFloat(t.amount)),0))}),(0,ba.jsx)("th",{})]})})]})}):(0,ba.jsx)("p",{className:"text-muted",children:"Loading installments..."})]})]}),(0,ba.jsxs)("div",{className:"d-flex justify-content-end mt-3",children:[(0,ba.jsx)("button",{type:"button",className:"btn btn-secondary me-2",onClick:()=>D(!1),children:"Cancel"}),(0,ba.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,ba.jsx)("i",{className:"fas fa-save me-2"}),"Save Payment Plan"]})]})]})})]})})}),"installments"===t&&(0,ba.jsxs)("div",{className:"card",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-credit-card me-2"}),M?"Gestion des \xc9ch\xe9ances - ".concat(M.client_name):"Gestionnaire d'\xc9ch\xe9ances"]}),(0,ba.jsx)("p",{className:"mb-0 text-muted",children:M?"G\xe9rer les m\xe9thodes de paiement (Esp\xe8ces/Virement) et statuts pour chaque \xe9ch\xe9ance individuellement.":"S\xe9lectionnez un client pour g\xe9rer ses \xe9ch\xe9ances de paiement."})]}),(0,ba.jsxs)("div",{children:[M&&(0,ba.jsxs)("button",{className:"btn btn-outline-secondary btn-sm me-2",onClick:()=>{z(null),B("")},children:[(0,ba.jsx)("i",{className:"fas fa-arrow-left me-1"}),"Retour \xe0 la Liste"]}),(0,ba.jsxs)("button",{className:"btn btn-outline-primary btn-sm me-2",onClick:async()=>{const e=Array.from(W).map((e=>$(e)));await Promise.all(e)},disabled:g.installments,children:[(0,ba.jsx)("i",{className:"fas fa-sync-alt me-1"}),"Actualiser"]})]})]})}),(0,ba.jsx)("div",{className:"card-body",children:M?(0,ba.jsx)("div",{children:g.installments?(0,ba.jsxs)("div",{className:"text-center py-5",children:[(0,ba.jsx)("div",{className:"spinner-border",role:"status"}),(0,ba.jsx)("p",{className:"mt-2 text-muted",children:"Chargement des \xe9ch\xe9ances..."})]}):(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"card bg-light mb-4",children:(0,ba.jsx)("div",{className:"card-body",children:(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-8",children:[(0,ba.jsx)("h6",{className:"text-primary",children:M.client_name}),(0,ba.jsxs)("p",{className:"mb-1",children:[(0,ba.jsx)("strong",{children:"Pack:"})," ",M.pack_name]}),(0,ba.jsxs)("p",{className:"mb-0",children:[(0,ba.jsx)("strong",{children:"Email:"})," ",M.client_email]})]}),(0,ba.jsxs)("div",{className:"col-md-4 text-end",children:[(0,ba.jsx)("div",{className:"mb-1",children:(0,ba.jsxs)("span",{className:"badge bg-primary",children:[M.number_of_installments," \xe9ch\xe9ances"]})}),(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("span",{className:"text-success",children:["Pay\xe9: ",Q(M.amount_paid)]}),(0,ba.jsx)("br",{}),(0,ba.jsxs)("span",{className:"text-warning",children:["En Attente: ",Q(M.amount_pending)]})]})]})]})})}),(0,ba.jsx)("div",{className:"installments-container",style:{maxHeight:"60vh",overflowY:"auto"},children:(null===(e=A[M.payment_plan_id])||void 0===e?void 0:e.length)>0?(0,ba.jsx)("div",{className:"row g-2",children:A[M.payment_plan_id].map((e=>(0,ba.jsx)("div",{className:"col-12 col-lg-6",children:(0,ba.jsx)(Ru,{installment:e,paymentPlan:M,onUpdate:()=>$(M.payment_plan_id)})},e.id)))}):(0,ba.jsxs)("div",{className:"text-center py-5",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-times fa-3x text-muted mb-3"}),(0,ba.jsx)("h5",{className:"text-muted",children:"Aucune \xe9ch\xe9ance trouv\xe9e"}),(0,ba.jsx)("p",{className:"text-muted",children:"Ce plan de paiement n'a pas encore d'\xe9ch\xe9ances configur\xe9es."})]})})]})}):(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"row mb-4",children:(0,ba.jsxs)("div",{className:"col-md-6",children:[(0,ba.jsxs)("div",{className:"input-group",children:[(0,ba.jsx)("span",{className:"input-group-text",children:(0,ba.jsx)("i",{className:"fas fa-search"})}),(0,ba.jsx)("input",{type:"text",className:"form-control",placeholder:"Rechercher par nom, email ou pack...",value:U,onChange:e=>B(e.target.value)}),U&&(0,ba.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>B(""),children:(0,ba.jsx)("i",{className:"fas fa-times"})})]}),(0,ba.jsxs)("small",{className:"text-muted",children:[Z.length," client(s) trouv\xe9(s)"]})]})}),g.payments?(0,ba.jsxs)("div",{className:"text-center py-5",children:[(0,ba.jsx)("div",{className:"spinner-border",role:"status"}),(0,ba.jsx)("p",{className:"mt-2 text-muted",children:"Chargement des clients..."})]}):0===Z.length?(0,ba.jsxs)("div",{className:"text-center py-5",children:[(0,ba.jsx)("i",{className:"fas fa-users fa-3x text-muted mb-3"}),(0,ba.jsx)("h5",{className:"text-muted",children:U?"Aucun client trouv\xe9":"Aucun plan de paiement trouv\xe9"}),(0,ba.jsx)("p",{className:"text-muted",children:U?"Essayez de modifier votre recherche.":"Cr\xe9ez un plan de paiement pour commencer."})]}):(0,ba.jsx)("div",{className:"row",children:Z.map((e=>(0,ba.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,ba.jsxs)("div",{className:"card h-100 client-card",onClick:()=>(e=>{z(e),A[e.payment_plan_id]||$(e.payment_plan_id)})(e),style:{cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.15)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow=""},children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h6",{className:"mb-1 text-primary",children:e.client_name}),(0,ba.jsx)("small",{className:"text-muted",children:e.client_email})]}),(0,ba.jsx)("span",{className:"badge ".concat(e.amount_pending>0?"bg-warning":"bg-success"),children:e.amount_pending>0?"En Cours":"Termin\xe9"})]})}),(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsx)("h6",{className:"mb-2",children:e.pack_name}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,ba.jsx)("span",{children:"Total:"}),(0,ba.jsx)("strong",{children:Q(e.total_amount)})]}),(0,ba.jsxs)("div",{className:"d-flex justify-content-between text-success",children:[(0,ba.jsx)("span",{children:"Pay\xe9:"}),(0,ba.jsx)("span",{children:Q(e.amount_paid)})]}),(0,ba.jsxs)("div",{className:"d-flex justify-content-between text-warning",children:[(0,ba.jsx)("span",{children:"En Attente:"}),(0,ba.jsx)("span",{children:Q(e.amount_pending)})]})]}),(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,ba.jsxs)("small",{className:"text-muted",children:[e.number_of_installments," \xe9ch\xe9ances"]}),e.next_due_date&&(0,ba.jsxs)("small",{className:"text-muted",children:["Prochaine: ",X(e.next_due_date)]})]})]}),(0,ba.jsx)("div",{className:"card-footer",children:(0,ba.jsxs)("div",{className:"text-center",children:[(0,ba.jsx)("i",{className:"fas fa-tasks text-primary"}),(0,ba.jsx)("span",{className:"ms-2 text-primary",children:"Cliquer pour g\xe9rer les \xe9ch\xe9ances"})]})})]})},e.payment_plan_id)))})]})})]})]})};let Fu=!1;const Iu=async function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;for(let h=1;h<=n;h++)try{console.log("Silent API call attempt ".concat(h,"/").concat(n));const t=await e();return console.log("Silent API call successful on attempt ".concat(h)),t}catch(u){var s,l,r,i,o,c,d;t=u,console.log("Silent API call failed on attempt ".concat(h,", retrying silently..."));if(("NETWORK_ERROR"===u.code||(null===(s=u.response)||void 0===s?void 0:s.status)>=500||"DB_CONNECTION_ERROR"===(null===(l=u.response)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.code)||"DB_TIMEOUT"===(null===(i=u.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.code)||!0===(null===(c=u.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.retry)||u.message.includes("timeout")||u.message.includes("Network Error"))&&h<n){const e=a*Math.pow(1.5,h-1)+1e3*Math.random();console.log("Silent retry in ".concat(Math.round(e),"ms...")),await new Promise((t=>setTimeout(t,e)));try{await Au()}catch(m){console.log("Connection warming failed, continuing with retry...")}continue}if(h===n)throw console.error("Silent retry failed after ".concat(n," attempts")),t}},Au=async()=>{try{return console.log("Warming database connection..."),await _a.post("/api/health/warm"),console.log("Database connection warmed successfully"),!0}catch(e){return console.error("Failed to warm database connection:",e),!1}},Lu=async()=>{try{return(await _a.get("/api/health")).data}catch(e){throw console.error("Health check failed:",e),e}},Mu={get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Iu((()=>_a.get(e,t)),arguments.length>2&&void 0!==arguments[2]?arguments[2]:5)},post:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Iu((()=>_a.post(e,t,n)),arguments.length>3&&void 0!==arguments[3]?arguments[3]:5)},put:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Iu((()=>_a.put(e,t,n)),arguments.length>3&&void 0!==arguments[3]?arguments[3]:5)},delete:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Iu((()=>_a.delete(e,t)),arguments.length>2&&void 0!==arguments[2]?arguments[2]:5)},patch:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Iu((()=>_a.patch(e,t,n)),arguments.length>3&&void 0!==arguments[3]?arguments[3]:5)}},zu=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{console.log("Background refresh initiated...");const n=await Iu(e,3,2e3);return t&&t(n),console.log("Background refresh successful"),n}catch(a){return console.log("Background refresh failed silently:",a.message),n&&n(a),null}};(async()=>{if(!Fu){Fu=!0;try{await Au()}catch(e){console.log("Auto-warm failed, will retry on next request"),Fu=!1}}})();const Uu=Mu,Bu=()=>{const[e,t]=(0,a.useState)("connected"),[n,s]=(0,a.useState)(!1),l=async()=>{try{await Lu(),t("connected"),s(!1)}catch(e){console.log("Connection check failed, will retry silently..."),t("disconnected"),n||(s(!0),setTimeout((async()=>{try{await Lu(),t("connected"),s(!1)}catch(e){s(!1)}}),3e3))}};return(0,a.useEffect)((()=>{const e=setInterval(l,3e4),n=()=>{l()},a=()=>{t("connected"),l()},s=()=>{t("disconnected")};return window.addEventListener("focus",n),window.addEventListener("online",a),window.addEventListener("offline",s),()=>{clearInterval(e),window.removeEventListener("focus",n),window.removeEventListener("online",a),window.removeEventListener("offline",s)}}),[]),null},Wu=()=>{const{adminUser:e,isAdmin:t}=(0,a.useContext)(ya),n=te(),[s,l]=(0,a.useState)({reservations:!0,coaches:!0,clients:!0}),r=e=>{const{name:t,value:n,type:a,checked:s}=e.target;if("goalCheckbox"===t)re((e=>{const t=e.goals||[];if(s)t.includes(n)||t.push(n);else{const e=t.indexOf(n);e>-1&&t.splice(e,1)}return ze(ze({},e),{},{goals:t})}));else{let e=n;"number"===a&&""!==n&&(e=Number(n)),re((n=>ze(ze({},n),{},{[t]:e})))}},[i,o]=(0,a.useState)("reservations"),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[f,x]=(0,a.useState)([]),[v,g]=(0,a.useState)([]),[b,j]=(0,a.useState)(""),[y,N]=(0,a.useState)(null),[w,k]=(0,a.useState)({coachId:"",clientId:"",date:"",dateFilter:"all",status:"all"}),[S,C]=(0,a.useState)([]),[_,E]=(0,a.useState)([]),[P,T]=(0,a.useState)({status:"all",dateFilter:"all",date:"",sessionType:"all"}),[D,R]=(0,a.useState)({name:"",bio:"",specialty:"",photo:"",email:"",matricule:"",password:""}),O=["correction de la posture","prise de masse","perte de poids","preparation physique","strongman","Renforcement musculaire","Tonification"],[F,I]=(0,a.useState)({username:"",email:"",password:"",solo_points:0,team_points:0,full_name:"",phone:"",age:"",gender:"",goals:[]}),[A,L]=(0,a.useState)({clientId:"",points:0,pointType:"solo",action:"add"}),[M,z]=(0,a.useState)({date:"",start_time:"",end_time:""}),[U,B]=(0,a.useState)(!1),[W,q]=(0,a.useState)({coach_id:"",start_date:"",end_date:"",start_time:"",end_time:"",days_of_week:[],repeat_for_weeks:4,session_types:["normal","bilan"]}),[H,V]=(0,a.useState)(!1),[G,Y]=(0,a.useState)({client_id:"",coach_id:"",start_date:"",end_date:"",time_slot:"",days_of_week:[],repeat_for_weeks:4}),[$,K]=(0,a.useState)(!1),[J,Q]=(0,a.useState)({client_id:"",coach_id:"",date:"",time_slot:"",session_type:"normal"}),[X,Z]=(0,a.useState)([]),[ee,ne]=(0,a.useState)(!1),[ae,se]=(0,a.useState)(null),[le,re]=(0,a.useState)(null),[ie,oe]=(0,a.useState)([]),[ce,de]=(0,a.useState)(!1),[ue,me]=(0,a.useState)(!1),[he,pe]=(0,a.useState)(null),[fe,xe]=(0,a.useState)([]),[ve,ge]=(0,a.useState)([]),[be,je]=(0,a.useState)({coachId:"",bilan:""}),[ye,Ne]=(0,a.useState)(!1),[we,ke]=(0,a.useState)({reservations:!0,coaches:!0,clients:!0,availability:!1,addingCoach:!1,addingClient:!1,addingTimeSlot:!1,bulkReservations:!1,bulkTimeSlots:!1,normalReservation:!1,bulkDeleteAvailability:!1});(0,a.useEffect)((()=>{const e=e=>{"Escape"===e.key&&le&&re(null)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[le]),(0,a.useEffect)((()=>{if(!e||!t)return console.log("Not authenticated as admin, redirecting to login",{adminUser:e,isAdmin:t}),void n("/admin/login");const a=localStorage.getItem("adminToken");a?(ga.defaults.headers.common.Authorization="Bearer ".concat(a),console.log("Authorization header set for admin page")):console.log("No token found for admin page"),Se(),Ce(),_e()}),[e,t,n]),(0,a.useEffect)((()=>{if(!s.reservations&&!s.coaches&&!s.clients){const e=setInterval((()=>{switch(console.log("Background refresh initiated..."),i){case"reservations":zu((()=>Uu.get("/api/admin/reservations")),(e=>{const t=[...e.data].sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at)));m(t),d(t),console.log("Reservations refreshed silently")}));break;case"coaches":zu((()=>Uu.get("/api/coaches")),(e=>{p(e.data),console.log("Coaches refreshed silently")}));break;case"clients":zu((()=>Uu.get("/api/admin/clients")),(e=>{x(e.data),g(e.data),console.log("Clients refreshed silently")}))}}),12e4);return()=>clearInterval(e)}}),[s,i]),(0,a.useEffect)((()=>{if(""===b.trim())g(f);else{const e=f.filter((e=>{var t,n,a,s,l;return(null===(t=e.username)||void 0===t?void 0:t.toLowerCase().includes(b.toLowerCase()))||(null===(n=e.full_name)||void 0===n?void 0:n.toLowerCase().includes(b.toLowerCase()))||(null===(a=e.email)||void 0===a?void 0:a.toLowerCase().includes(b.toLowerCase()))||(null===(s=e.phone)||void 0===s?void 0:s.includes(b))||(null===(l=e.matricule)||void 0===l?void 0:l.toLowerCase().includes(b.toLowerCase()))}));g(e)}}),[f,b]);const Se=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ke((e=>ze(ze({},e),{},{reservations:!0})));try{console.log("Fetching reservations from /api/admin/reservations..."),await Au();const e=await Uu.get("/api/admin/reservations");console.log("Reservations response:",e.data);const t=[...e.data].sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at)));m(t),d(t),l((e=>ze(ze({},e),{},{reservations:!1})))}catch(t){console.error("Error fetching reservations after all retries:",t),e||Da("Unable to load reservations. Please check your connection and try again.",{type:"error",title:"Connection Error",duration:4e3})}finally{ke((e=>ze(ze({},e),{},{reservations:!1})))}},Ce=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ke((e=>ze(ze({},e),{},{coaches:!0})));try{await Au();const e=await Uu.get("/api/coaches");p(e.data),l((e=>ze(ze({},e),{},{coaches:!1})))}catch(t){console.error("Error fetching coaches after all retries:",t),e||Da("Unable to load coaches. Please check your connection and try again.",{type:"error",title:"Connection Error",duration:4e3})}finally{ke((e=>ze(ze({},e),{},{coaches:!1})))}},_e=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ke((e=>ze(ze({},e),{},{clients:!0})));try{console.log("Fetching clients from /api/admin/clients..."),await Au();const e=await Uu.get("/api/admin/clients");console.log("Clients response:",e.data),x(e.data),g(e.data),l((e=>ze(ze({},e),{},{clients:!1})))}catch(t){console.error("Error fetching clients after all retries:",t),e||Da("Unable to load clients. Please check your connection and try again.",{type:"error",title:"Connection Error",duration:4e3})}finally{ke((e=>ze(ze({},e),{},{clients:!1})))}},Ee=async e=>{ke((e=>ze(ze({},e),{},{availability:!0})));try{const t=await ga.get("/api/coaches/".concat(e,"/all-availability"));E(t.data),C(t.data)}catch(t){console.error("Error fetching coach availability:",t),Da("Failed to load coach availability. Please try again.",{type:"error",title:"Loading Error",duration:5e3})}finally{ke((e=>ze(ze({},e),{},{availability:!1})))}},Pe=e=>{N(e),T({status:"all",dateFilter:"all",date:""}),oe([]),de(!1),Ee(e.id)},Te=e=>{const{name:t,value:n}=e.target;R((e=>ze(ze({},e),{},{[t]:n})))},De=e=>{const{name:t,value:n}=e.target;z((e=>ze(ze({},e),{},{[t]:n})))},Re=e=>{const{name:t,value:n,type:a,checked:s}=e.target;if("days_of_week"===t){const e=parseInt(n);q((t=>ze(ze({},t),{},{days_of_week:s?[...t.days_of_week,e]:t.days_of_week.filter((t=>t!==e))})))}else q("session_types"===t?e=>ze(ze({},e),{},{session_types:s?[...e.session_types,n]:e.session_types.filter((e=>e!==n))}):e=>ze(ze({},e),{},{[t]:n}))},Oe=e=>{const{name:t,value:n,type:a,checked:s}=e.target;if("days_of_week"===t){const e=parseInt(n);Y((t=>ze(ze({},t),{},{days_of_week:s?[...t.days_of_week,e]:t.days_of_week.filter((t=>t!==e))})))}else Y((e=>ze(ze({},e),{},{[t]:n})))},Fe=e=>{const{name:t,value:n}=e.target,a=ze(ze({},J),{},{[t]:n});if(Q(a),"coach_id"===t||"date"===t||"session_type"===t){Q((e=>ze(ze({},a),{},{time_slot:""}))),Z([]);const e="coach_id"===t?n:a.coach_id,s="date"===t?n:a.date,l="session_type"===t?n:a.session_type;e&&s&&l&&Ie(e,s,l)}},Ie=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";ne(!0);try{console.log("\n=== ADMIN NORMAL RESERVATION: Fetching ".concat(n," availability for coach ").concat(e," on date ").concat(t," ==="));const a=await ga.get("/api/coaches/".concat(e,"/availability?session_type=").concat(n));console.log("Availability response: Found ".concat(a.data.length," total slots")),a.data.length>0&&(console.log("All slots received:"),a.data.forEach(((e,t)=>{console.log("".concat(t+1,". Date: ").concat(e.date,", Time: ").concat(e.start_time,"-").concat(e.end_time,", ID: ").concat(e.id,", Booked: ").concat(e.is_booked))})));const s=a.data.filter((e=>{try{const t=Fa(new Date(e.date));return Aa(t)&&!e.is_booked}catch(t){return console.error("Error filtering slot:",t),!1}}));console.log("Filtered future available slots:",s.length);const l=Fa(new Date(t)),r=s.filter((e=>Fa(new Date(e.date))===l));if(console.log("Slots for selected date ".concat(l,":"),r.length),console.log("Filtered slots for date:",r),console.log("=== End of admin availability fetch ===\n"),Z(r),0===r.length){const e=a.data.filter((e=>Fa(new Date(e.date))===l));0===e.length?Da("No time slots exist for this coach on the selected date. Please create time slots first or select a different date.",{type:"warning",title:"No Time Slots",duration:6e3}):Da("All ".concat(e.length," time slots for this coach on the selected date are already booked. Please select a different date."),{type:"warning",title:"All Slots Booked",duration:6e3})}}catch(a){console.error("Error fetching time slots:",a),Da("Failed to fetch available time slots",{type:"error",title:"Error",duration:4e3}),Z([])}finally{ne(!1)}},Ae=e=>{const{name:t,value:n,type:a,checked:s}=e.target;if("goalCheckbox"===t)I((e=>{const t=[...e.goals];if(s)t.includes(n)||t.push(n);else{const e=t.indexOf(n);e>-1&&t.splice(e,1)}return ze(ze({},e),{},{goals:t})}));else{let e=n;"solo_points"!==t&&"team_points"!==t&&"age"!==t||""===n||(e=Number(n)),I((n=>ze(ze({},n),{},{[t]:e})))}},Le=e=>{const{name:t,value:n}=e.target;L((e=>ze(ze({},e),{},{[t]:n})))},Me=()=>{me(!1),pe(null),ge([]),je({coachId:"",bilan:""})},Ue=e=>{const{name:t,value:n}=e.target;se((e=>ze(ze({},e),{},{[t]:n})))},Be=e=>{try{if(!e)return"Invalid date";console.log("Formatting date:",e);const t=new Date(e);return isNaN(t.getTime())?"Invalid date":t.toLocaleDateString("en-US")}catch(t){return console.error("Error formatting date:",t,"Date string:",e),"Error"}},We=e=>{try{if(!e)return"Invalid time";if(console.log("Formatting time:",e),/^\d{2}:\d{2}:\d{2}$/.test(e)){const[t,n]=e.split(":");return new Date(2e3,0,1,t,n).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}const t=new Date("2000-01-01T".concat(e));return isNaN(t.getTime())?"Invalid time":t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch(t){return console.error("Error formatting time:",t,"Time string:",e),"Error"}},qe=e=>{const t=new Date;t.setDate(t.getDate()+1);const n=Fa(t);return Fa(e)===n},He=e=>{const t=new Date,n=new Date(e);t.setHours(0,0,0,0),n.setHours(0,0,0,0);const a=(n-t)/864e5;return a>=0&&a<7},Ve=(e,t)=>{if(!e||!t)return!1;const n=new Date,[a,s]=t.split(":").map(Number),l=new Date(e);return l.setHours(a,s,0,0),l<n},Ge=()=>{if(!u.length)return;console.log("Filtering reservations with filters:",w),console.log("Total reservations before filtering:",u.length);let e=[...u];if(w.coachId){const t=Number(w.coachId);e=e.filter((e=>e.coach_id===t)),console.log("After coach filter:",e.length)}if(w.clientId){const t=Number(w.clientId);e=e.filter((e=>e.user_id===t)),console.log("After client filter:",e.length)}switch(console.log("Applying date filter:",w.dateFilter),w.dateFilter){case"today":e=e.filter((e=>{const t=Ia(e.date);return console.log("Date ".concat(e.date," is today:"),t),t}));break;case"tomorrow":e=e.filter((e=>{const t=qe(e.date);return console.log("Date ".concat(e.date," is tomorrow:"),t),t}));break;case"week":e=e.filter((e=>{const t=He(e.date);return console.log("Date ".concat(e.date," is this week:"),t),t}));break;case"custom":w.date&&(console.log("Custom date filter value:",w.date),e=e.filter((e=>{let t;if(e.date.includes("T")){const t=e.date.split("T")[0],n=new Date(e.date),a=n.getFullYear(),s=String(n.getMonth()+1).padStart(2,"0"),l=String(n.getDate()).padStart(2,"0"),r="".concat(a,"-").concat(s,"-").concat(l),i=t===w.date,o=r===w.date;return console.log("Date ".concat(e.date,": simple split = ").concat(t,", local = ").concat(r,", filter = ").concat(w.date)),console.log("Simple match: ".concat(i,", Local match: ").concat(o)),i||o}{t=e.date;const n=t===w.date;return console.log("Date ".concat(e.date," matches custom date ").concat(w.date,":"),n),n}})),console.log("After custom date filter:",e.length));break;default:console.log("No date filter applied")}switch(console.log("Applying status filter:",w.status),w.status){case"confirmed":e=e.filter((e=>{const t="confirmed"===e.status&&!Ve(e.date,e.time);return console.log("Reservation ".concat(e.id," is confirmed and not past:"),t),t}));break;case"cancelled":e=e.filter((e=>{const t="cancelled"===e.status;return console.log("Reservation ".concat(e.id," is cancelled:"),t),t}));break;case"past":e=e.filter((e=>{const t=Ve(e.date,e.time);return console.log("Reservation ".concat(e.id," is past:"),t),t}));break;default:console.log("No status filter applied")}console.log("Final filtered count:",e.length),d(e)},Ye=e=>{const{name:t,value:n}=e.target;k((e=>{const a=ze(ze({},e),{},{[t]:n});return"dateFilter"===t&&"custom"!==n&&(a.date=""),a}))};(0,a.useEffect)((()=>{Ge()}),[w,u]);const $e=e=>{const{name:t,value:n}=e.target;T((e=>ze(ze({},e),{},{[t]:n},"dateFilter"===t&&"custom"!==n?{date:""}:{})))};(0,a.useEffect)((()=>{Ge()}),[w,u]),(0,a.useEffect)((()=>{(()=>{if(!_.length)return;let e=[..._];if("all"!==P.status&&("available"===P.status?e=e.filter((e=>!e.is_booked&&!e.is_past)):"booked"===P.status?e=e.filter((e=>e.is_booked)):"past"===P.status&&(e=e.filter((e=>e.is_past)))),"all"!==P.dateFilter)if("today"===P.dateFilter)e=e.filter((e=>Ia(e.date)));else if("tomorrow"===P.dateFilter)e=e.filter((e=>qe(e.date)));else if("week"===P.dateFilter)e=e.filter((e=>He(e.date)));else if("custom"===P.dateFilter&&P.date){const t=new Date(P.date).toDateString();e=e.filter((e=>new Date(e.date).toDateString()===t))}"all"!==P.sessionType&&(e=e.filter((e=>e.session_type===P.sessionType))),C(e)})()}),[P,_]),(0,a.useEffect)((()=>{const e=S.filter((e=>!e.is_booked));de(e.length>0&&ie.length===e.length)}),[ie,S]);const[Ke,Je]=(0,a.useState)([]),[Qe,Xe]=(0,a.useState)(!1);return we.reservations&&s.reservations&&"reservations"===i||we.coaches&&s.coaches&&"coaches"===i||we.clients&&s.clients&&"clients"===i?(0,ba.jsx)("div",{className:"logo-loading-container",children:(0,ba.jsxs)("div",{className:"logo-animation-wrapper",children:[(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"jumping-logo"}),(0,ba.jsx)("div",{className:"logo-shadow"})]})}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(Bu,{}),(0,ba.jsxs)("div",{className:"container mt-5 slide-up",children:[(0,ba.jsxs)("div",{className:"page-header",children:[(0,ba.jsx)("h1",{style:{color:"var(--secondary-color)"},children:"Admin Dashboard"}),(0,ba.jsx)("div",{className:"section-separator"}),(0,ba.jsxs)("p",{className:"lead",style:{color:"var(--text-color)"},children:["Welcome, ",(0,ba.jsx)("strong",{style:{color:"var(--highlight-color)"},children:null===e||void 0===e?void 0:e.username})," (Matricule: ",null===e||void 0===e?void 0:e.matricule,") | Manage all reservations, coaches, and schedules"]})]}),(0,ba.jsxs)("div",{className:"row mb-4",children:[(0,ba.jsx)("div",{className:"col-md-3 mb-3",children:(0,ba.jsx)("div",{className:"card h-100 admin-stats-card",children:(0,ba.jsxs)("div",{className:"card-body text-center",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-check fa-3x mb-3 admin-icon"}),(0,ba.jsx)("h3",{className:"admin-value",children:c.length}),(0,ba.jsx)("p",{className:"admin-title",children:"Total Reservations"})]})})}),(0,ba.jsx)("div",{className:"col-md-3 mb-3",children:(0,ba.jsx)("div",{className:"card h-100 admin-stats-card",children:(0,ba.jsxs)("div",{className:"card-body text-center",children:[(0,ba.jsx)("i",{className:"fas fa-users fa-3x mb-3 admin-icon"}),(0,ba.jsx)("h3",{className:"admin-value",children:new Set(c.map((e=>e.full_name))).size}),(0,ba.jsx)("p",{className:"admin-title",children:"Unique Visitors"})]})})}),(0,ba.jsx)("div",{className:"col-md-3 mb-3",children:(0,ba.jsx)("div",{className:"card h-100 admin-stats-card",children:(0,ba.jsxs)("div",{className:"card-body text-center",children:[(0,ba.jsx)("i",{className:"fas fa-user-tie fa-3x mb-3 admin-icon"}),(0,ba.jsx)("h3",{className:"admin-value",children:h.length}),(0,ba.jsx)("p",{className:"admin-title",children:"Active Coaches"})]})})}),(0,ba.jsx)("div",{className:"col-md-3 mb-3",children:(0,ba.jsx)("div",{className:"card h-100 admin-stats-card",children:(0,ba.jsxs)("div",{className:"card-body text-center",children:[(0,ba.jsx)("i",{className:"fas fa-user-friends fa-3x mb-3 admin-icon"}),(0,ba.jsx)("h3",{className:"admin-value",children:f.length}),(0,ba.jsx)("p",{className:"admin-title",children:"Registered Clients"})]})})})]}),(0,ba.jsxs)("ul",{className:"nav nav-tabs mb-4",children:[(0,ba.jsx)("li",{className:"nav-item",children:(0,ba.jsxs)("button",{className:"nav-link ".concat("reservations"===i?"active":""),onClick:()=>o("reservations"),children:[(0,ba.jsx)("i",{className:"fas fa-calendar-check me-2"}),"Reservations"]})}),(0,ba.jsx)("li",{className:"nav-item",children:(0,ba.jsxs)("button",{className:"nav-link ".concat("planning"===i?"active":""),onClick:()=>o("planning"),children:[(0,ba.jsx)("i",{className:"fas fa-calendar-week me-2"}),"Planning"]})}),(0,ba.jsx)("li",{className:"nav-item",children:(0,ba.jsxs)("button",{className:"nav-link ".concat("coaches"===i?"active":""),onClick:()=>o("coaches"),children:[(0,ba.jsx)("i",{className:"fas fa-user-tie me-2"}),"Coaches"]})}),(0,ba.jsx)("li",{className:"nav-item",children:(0,ba.jsxs)("button",{className:"nav-link ".concat("availability"===i?"active":""),onClick:()=>o("availability"),children:[(0,ba.jsx)("i",{className:"fas fa-clock me-2"}),"Time Slots"]})}),(0,ba.jsx)("li",{className:"nav-item",children:(0,ba.jsxs)("button",{className:"nav-link ".concat("clients"===i?"active":""),onClick:()=>o("clients"),children:[(0,ba.jsx)("i",{className:"fas fa-user-friends me-2"}),"Clients"]})}),(0,ba.jsx)("li",{className:"nav-item",children:(0,ba.jsxs)("button",{className:"nav-link ".concat("group-courses"===i?"active":""),onClick:()=>o("group-courses"),children:[(0,ba.jsx)("i",{className:"fas fa-users me-2"}),"Group Courses"]})}),(0,ba.jsx)("li",{className:"nav-item",children:(0,ba.jsxs)("button",{className:"nav-link ".concat("packs"===i?"active":""),onClick:()=>o("packs"),children:[(0,ba.jsx)("i",{className:"fas fa-gift me-2"}),"Packs"]})}),(0,ba.jsx)("li",{className:"nav-item",children:(0,ba.jsxs)("button",{className:"nav-link ".concat("payments"===i?"active":""),onClick:()=>o("payments"),children:[(0,ba.jsx)("i",{className:"fas fa-credit-card me-2"}),"Payments"]})})]}),"      ","reservations"===i&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,ba.jsx)("h2",{className:"mb-0",children:"Reservations"}),(0,ba.jsxs)("div",{className:"d-flex gap-2",children:[(0,ba.jsxs)("button",{className:"btn btn-success",onClick:()=>K(!0),children:[(0,ba.jsx)("i",{className:"fas fa-plus me-2"}),"Create Single Reservation"]}),(0,ba.jsxs)("button",{className:"btn btn-outline-primary",onClick:()=>V(!0),children:[(0,ba.jsx)("i",{className:"fas fa-calendar-plus me-2"}),"Bulk Create Reservations"]}),(0,ba.jsxs)("button",{className:"btn admin-btn-primary",onClick:Se,children:[(0,ba.jsx)("i",{className:"fas fa-sync-alt me-2"}),"Refresh"]})]})]}),(0,ba.jsxs)("div",{className:"card mb-4",children:[(0,ba.jsx)("div",{className:"card-header admin-card-header",children:(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-filter me-2"})," Filtres"]})}),(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsxs)("div",{className:"row g-3",children:[(0,ba.jsxs)("div",{className:"col-md-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Coach"}),(0,ba.jsxs)("select",{className:"form-select",name:"coachId",value:w.coachId,onChange:Ye,children:["                    ",(0,ba.jsx)("option",{value:"",children:"Tous les coachs"}),h.map((e=>(0,ba.jsxs)("option",{value:e.id,children:[e.name," (ID: ",e.id,")"]},e.id)))]})]}),(0,ba.jsxs)("div",{className:"col-md-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Client"}),(0,ba.jsxs)("select",{className:"form-select",name:"clientId",value:w.clientId,onChange:Ye,children:[(0,ba.jsx)("option",{value:"",children:"Tous les clients"}),f.map((e=>(0,ba.jsxs)("option",{value:e.id,children:[e.full_name||e.username," (ID: ",e.id,")"]},e.id)))]})]}),(0,ba.jsxs)("div",{className:"col-md-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"P\xe9riode"}),(0,ba.jsxs)("select",{className:"form-select",name:"dateFilter",value:w.dateFilter,onChange:Ye,children:[(0,ba.jsx)("option",{value:"all",children:"Toutes les dates"}),(0,ba.jsx)("option",{value:"today",children:"Aujourd'hui"}),(0,ba.jsx)("option",{value:"tomorrow",children:"Demain"}),(0,ba.jsx)("option",{value:"week",children:"Cette semaine"}),(0,ba.jsx)("option",{value:"custom",children:"Date personnalis\xe9e"})]})]}),(0,ba.jsxs)("div",{className:"col-md-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Statut"}),(0,ba.jsxs)("select",{className:"form-select",name:"status",value:w.status,onChange:Ye,children:[(0,ba.jsx)("option",{value:"all",children:"Tous les statuts"}),(0,ba.jsx)("option",{value:"confirmed",children:"Confirm\xe9"}),(0,ba.jsx)("option",{value:"cancelled",children:"Annul\xe9"}),(0,ba.jsx)("option",{value:"past",children:"Pass\xe9"})]})]}),"custom"===w.dateFilter&&(0,ba.jsxs)("div",{className:"col-md-12",children:[(0,ba.jsx)("label",{className:"form-label",children:"Date sp\xe9cifique"}),(0,ba.jsx)("input",{type:"date",className:"form-control",name:"date",value:w.date,onChange:Ye})]})]}),(0,ba.jsx)("div",{className:"row mt-3",children:(0,ba.jsx)("div",{className:"col-12",children:(0,ba.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>{k({coachId:"",clientId:"",date:"",dateFilter:"all",status:"all"})},children:[(0,ba.jsx)("i",{className:"fas fa-undo me-2"}),"R\xe9initialiser les filtres"]})})})]})]}),(0,ba.jsxs)("div",{className:"card",children:[(0,ba.jsx)("div",{className:"card-header admin-card-header",children:(0,ba.jsx)("h5",{className:"mb-0",children:u.length===c.length?"Toutes les r\xe9servations (".concat(c.length,")"):"R\xe9servations filtr\xe9es (".concat(c.length,"/").concat(u.length,")")})}),(0,ba.jsx)("div",{className:"card-body",children:0===c.length?(0,ba.jsxs)("div",{className:"text-center py-4",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-times fa-3x mb-3",style:{color:"var(--highlight-color)"}}),(0,ba.jsx)("p",{style:{color:"var(--text-color)"},children:"No reservations found."})]}):(0,ba.jsx)("div",{className:"table-responsive",style:{overflowX:"auto",width:"100%"},children:(0,ba.jsxs)("table",{className:"table admin-table",style:{minWidth:"1000px"},children:[(0,ba.jsx)("thead",{children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:(0,ba.jsx)("input",{type:"checkbox",checked:Ke.length===c.length&&c.length>0,onChange:()=>{Ke.length===c.length?Je([]):Je(c.map((e=>e.id)))},"aria-label":"Tout s\xe9lectionner"})}),(0,ba.jsx)("th",{children:"ID"}),(0,ba.jsx)("th",{children:"Client"}),(0,ba.jsx)("th",{children:"Coach"}),(0,ba.jsx)("th",{children:"Type de S\xe9ance"}),(0,ba.jsx)("th",{children:"Date & Heure de s\xe9ance"}),(0,ba.jsx)("th",{children:"Contact"}),(0,ba.jsx)("th",{children:"Objectifs"}),(0,ba.jsx)("th",{children:"Statut"}),(0,ba.jsx)("th",{children:"R\xe9servation cr\xe9\xe9e le"}),(0,ba.jsx)("th",{children:"Actions"})]})}),(0,ba.jsx)("tbody",{children:c.map((e=>(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:(0,ba.jsx)("input",{type:"checkbox",checked:Ke.includes(e.id),onChange:()=>{return t=e.id,void Je((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},"aria-label":"S\xe9lectionner la r\xe9servation ".concat(e.id)})}),(0,ba.jsx)("td",{children:e.id}),(0,ba.jsxs)("td",{children:[(0,ba.jsx)("strong",{children:e.full_name}),(0,ba.jsx)("br",{}),(0,ba.jsxs)("small",{className:"text-muted",children:[e.age," years, ",e.gender]})]}),(0,ba.jsx)("td",{children:(0,ba.jsx)("strong",{children:e.coach_name})}),(0,ba.jsxs)("td",{children:[(0,ba.jsx)("span",{className:"badge ".concat("bilan"===e.session_type?"bg-success":"bg-primary"),children:"bilan"===e.session_type?"Bilan (25min)":"Normale (55min)"}),"bilan"===e.session_type&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("br",{}),(0,ba.jsx)("small",{className:"text-success",children:"Gratuit"})]})]}),(0,ba.jsxs)("td",{children:[Be(e.date),(0,ba.jsx)("br",{}),We(e.time)]}),(0,ba.jsx)("td",{children:(0,ba.jsxs)("small",{children:[(0,ba.jsx)("i",{className:"fas fa-envelope me-1"})," ",e.email,(0,ba.jsx)("br",{}),(0,ba.jsx)("i",{className:"fas fa-phone me-1"})," ",e.phone]})}),(0,ba.jsx)("td",{children:(0,ba.jsx)("small",{children:e.goal||"No goals specified"})}),(0,ba.jsxs)("td",{children:["cancelled"===e.status?(0,ba.jsx)("span",{className:"badge bg-danger",children:"Annul\xe9e"}):Ve(e.date,e.time)?(0,ba.jsx)("span",{className:"badge bg-secondary",children:"Pass\xe9e"}):(0,ba.jsx)("span",{className:"badge bg-success",children:"Confirm\xe9e"}),e.cancelled_at&&(0,ba.jsx)("small",{className:"d-block text-muted mt-1",children:new Date(e.cancelled_at).toLocaleString("fr-FR",{dateStyle:"short",timeStyle:"short"})})]}),(0,ba.jsx)("td",{children:(0,ba.jsxs)("small",{className:"text-muted",children:[new Date(e.created_at).toLocaleString("fr-FR",{dateStyle:"medium",timeStyle:"short"}),(0,ba.jsx)("br",{}),(0,ba.jsx)("span",{className:e.created_at?"badge bg-info text-dark":"",children:Ia(e.created_at)?"Aujourd'hui":""})]})}),(0,ba.jsx)("td",{children:(0,ba.jsxs)("div",{className:"btn-group btn-group-sm",children:[(0,ba.jsx)("button",{className:"btn btn-outline-warning",onClick:()=>(async e=>{const t=c.find((t=>t.id===e));if(t&&Ve(t.date,t.time))return void Da("Impossible d'annuler une r\xe9servation pass\xe9e. La s\xe9ance a d\xe9j\xe0 eu lieu.",{type:"warning",title:"Annulation impossible",duration:4e3});if(await Ha("\xcates-vous s\xfbr de vouloir annuler cette r\xe9servation? Le cr\xe9neau sera lib\xe9r\xe9 et pourra \xeatre r\xe9serv\xe9 par d'autres clients.",{title:"Confirmer l'annulation",confirmText:"Annuler la r\xe9servation",cancelText:"Ne pas annuler",confirmButtonClass:"btn-warning"}))try{await ga.post("/api/cancel/".concat(e),{refundPoints:!0}),Da("R\xe9servation annul\xe9e avec succ\xe8s. Le cr\xe9neau est maintenant disponible pour r\xe9servation.",{type:"success",title:"Annulation r\xe9ussie",duration:5e3}),Se()}catch(n){console.error("Error cancelling reservation:",n),Da("\xc9chec de l'annulation de la r\xe9servation. Veuillez r\xe9essayer.",{type:"error",title:"Erreur",duration:5e3})}})(e.id),title:Ve(e.date,e.time)?"Impossible d'annuler une r\xe9servation pass\xe9e":"Annuler la r\xe9servation et lib\xe9rer le cr\xe9neau",disabled:"cancelled"===e.status||Ve(e.date,e.time),children:(0,ba.jsx)("i",{className:"fas fa-times-circle"})}),(0,ba.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>(async e=>{if(await Ha("\xcates-vous s\xfbr de vouloir supprimer cette r\xe9servation? Cette action est irr\xe9versible.",{title:"Confirmer la suppression",confirmText:"Supprimer",cancelText:"Annuler",confirmButtonClass:"btn-danger"}))try{await ga.delete("/api/admin/reservations/".concat(e)),Da("R\xe9servation supprim\xe9e avec succ\xe8s",{type:"success",title:"Suppression r\xe9ussie",duration:5e3}),Se()}catch(t){console.error("Error deleting reservation:",t),Da("\xc9chec de la suppression de la r\xe9servation. Veuillez r\xe9essayer.",{type:"error",title:"Erreur",duration:5e3})}})(e.id),title:"Supprimer d\xe9finitivement la r\xe9servation",children:(0,ba.jsx)("i",{className:"fas fa-trash-alt"})})]})})]},e.id)))})]})})})]}),"reservations"===i&&Ke.length>0&&(0,ba.jsxs)("div",{className:"mb-3 p-2 d-flex gap-2 align-items-center border rounded bg-light",style:{borderColor:"#e0e0e0"},children:[(0,ba.jsxs)("span",{className:"fw-bold",children:[Ke.length," s\xe9lectionn\xe9(s)"]}),(0,ba.jsxs)("button",{className:"btn btn-sm btn-danger",onClick:async()=>{if(0===Ke.length)return;if(!await Ha("\xcates-vous s\xfbr de vouloir supprimer ".concat(Ke.length," r\xe9servations s\xe9lectionn\xe9es ? Cette action est irr\xe9versible."),{title:"Confirmer la suppression multiple",confirmText:"Supprimer",cancelText:"Annuler",confirmButtonClass:"btn-danger"}))return;Xe(!0);let e=0;for(const n of Ke)try{await ga.delete("/api/admin/reservations/".concat(n)),e++}catch(t){}Xe(!1),Je([]),Se(),Da("".concat(e," r\xe9servation(s) supprim\xe9e(s) avec succ\xe8s"),{type:"success",title:"Suppression multiple",duration:5e3})},disabled:Qe,children:[(0,ba.jsx)("i",{className:"fas fa-trash-alt me-1"}),"Supprimer s\xe9lection"]}),(0,ba.jsxs)("button",{className:"btn btn-sm btn-warning",onClick:async()=>{if(0===Ke.length)return;if(!await Ha("\xcates-vous s\xfbr de vouloir annuler ".concat(Ke.length," r\xe9servations s\xe9lectionn\xe9es ? Les cr\xe9neaux seront lib\xe9r\xe9s."),{title:"Confirmer l'annulation multiple",confirmText:"Annuler",cancelText:"Ne pas annuler",confirmButtonClass:"btn-warning"}))return;Xe(!0);let e=0;for(const n of Ke)try{await ga.post("/api/cancel/".concat(n),{refundPoints:!0}),e++}catch(t){}Xe(!1),Je([]),Se(),Da("".concat(e," r\xe9servation(s) annul\xe9e(s) avec succ\xe8s"),{type:"success",title:"Annulation multiple",duration:5e3})},disabled:Qe,children:[(0,ba.jsx)("i",{className:"fas fa-times-circle me-1"}),"Annuler s\xe9lection"]}),Qe&&(0,ba.jsx)("span",{className:"ms-2",children:"Traitement en cours..."})]})]}),"planning"===i&&(0,ba.jsx)(Eu,{}),"coaches"===i&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,ba.jsx)("h2",{className:"mb-0",children:"Coaches"}),"            ",(0,ba.jsxs)("button",{className:"btn admin-btn-primary",onClick:Ce,children:[(0,ba.jsx)("i",{className:"fas fa-sync-alt me-2"}),"Refresh"]})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-lg-8",children:["              ",(0,ba.jsxs)("div",{className:"card mb-4",children:[(0,ba.jsx)("div",{className:"card-header admin-card-header",children:(0,ba.jsxs)("h5",{className:"mb-0",children:["All Coaches (",h.length,")"]})}),(0,ba.jsxs)("div",{className:"card-body",children:["                  ",0===h.length?(0,ba.jsxs)("div",{className:"text-center py-4",children:[(0,ba.jsx)("i",{className:"fas fa-user-times fa-3x mb-3",style:{color:"var(--highlight-color)"}}),(0,ba.jsx)("p",{style:{color:"var(--text-color)"},children:"No coaches found."})]}):(0,ba.jsx)("div",{className:"table-responsive",style:{overflowX:"auto",width:"100%"},children:(0,ba.jsxs)("table",{className:"table admin-table",style:{minWidth:"1100px"},children:[(0,ba.jsx)("thead",{children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:"ID"}),(0,ba.jsx)("th",{children:"Photo"}),(0,ba.jsx)("th",{children:"Name"}),(0,ba.jsx)("th",{children:"Specialty"}),(0,ba.jsx)("th",{children:"Actions"})]})}),(0,ba.jsx)("tbody",{children:h.map((e=>(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:e.id}),(0,ba.jsx)("td",{children:(0,ba.jsx)("img",{src:e.photo,alt:e.name,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"50%"}})}),(0,ba.jsx)("td",{children:(0,ba.jsx)("strong",{children:e.name})}),(0,ba.jsx)("td",{children:e.specialty}),(0,ba.jsxs)("td",{children:["                                ",(0,ba.jsxs)("button",{className:"btn btn-sm admin-btn-outline",onClick:()=>{o("availability"),Pe(e)},children:[(0,ba.jsx)("i",{className:"fas fa-clock me-1"}),"Manage Time Slots"]}),(0,ba.jsxs)("button",{className:"btn btn-sm admin-btn-outline ms-2",onClick:()=>se(e),children:["                                  ",(0,ba.jsx)("i",{className:"fas fa-edit me-1"}),"Edit"]}),(0,ba.jsxs)("button",{className:"btn btn-sm admin-btn-danger ms-2",onClick:()=>(async e=>{try{const t='Are you sure you want to delete coach "'.concat(e.name,'"? This will remove all related reservations and availability data.');if(!await Ha(t,{title:"Delete Coach",confirmText:"Delete",cancelText:"Cancel",type:"danger"}))return;await ga.delete("/api/coaches/".concat(e.id)),p((t=>t.filter((t=>t.id!==e.id)))),y&&y.id===e.id&&(N(null),C([])),Da("Coach deleted successfully",{type:"success",title:"Coach Deleted",duration:5e3})}catch(a){var t,n;console.error("Error deleting coach:",a),console.error("Error details:",(null===(t=a.response)||void 0===t?void 0:t.data)||a.message);const e=(null===(n=a.response)||void 0===n?void 0:n.data)||{},s=e.message||e.sqlMessage||a.message;Da("Failed to delete coach: ".concat(s),{type:"error",title:"Error",duration:5e3})}})(e),children:[(0,ba.jsx)("i",{className:"fas fa-trash-alt me-1"}),"Delete"]})]})]},e.id)))})]})})]})]})]}),(0,ba.jsxs)("div",{className:"col-lg-4",children:["              ",(0,ba.jsxs)("div",{className:"card",children:[(0,ba.jsx)("div",{className:"card-header admin-card-header",children:(0,ba.jsx)("h5",{className:"mb-0",children:"Add New Coach"})}),(0,ba.jsx)("div",{className:"card-body",children:(0,ba.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),ke((e=>ze(ze({},e),{},{addingCoach:!0})));try{console.log("Submitting new coach with data:",D);const e=await ga.post("/api/coaches",D);console.log("Server response for add coach:",e.data),p((t=>[...t,e.data])),R({name:"",bio:"",specialty:"",photo:"",email:"",matricule:"",password:""}),Da("Coach added successfully!",{type:"success",title:"Success",duration:5e3})}catch(s){var t,n,a;console.error("Error adding coach:",s),console.error("Error details:",(null===(t=s.response)||void 0===t?void 0:t.data)||s.message),Da("Failed to add coach: ".concat((null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||s.message),{type:"error",title:"Error",duration:7e3})}finally{ke((e=>ze(ze({},e),{},{addingCoach:!1})))}},children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Name *"}),"                      ",(0,ba.jsx)("input",{type:"text",className:"form-control admin-form-control",name:"name",value:D.name,onChange:Te,required:!0})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Specialty *"}),"                      ",(0,ba.jsx)("input",{type:"text",className:"form-control admin-form-control",name:"specialty",value:D.specialty,onChange:Te,required:!0})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Bio"}),"                      ",(0,ba.jsx)("textarea",{className:"form-control admin-form-control",name:"bio",value:D.bio,onChange:Te,rows:"3"})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Email *"}),(0,ba.jsx)("input",{type:"email",className:"form-control admin-form-control",name:"email",value:D.email,onChange:Te,required:!0})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Matricule"}),(0,ba.jsx)("input",{type:"text",className:"form-control admin-form-control",name:"matricule",value:D.matricule,onChange:Te,placeholder:"Unique coach ID (optional - will be auto-generated if empty)"})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Password *"}),(0,ba.jsxs)("div",{className:"input-group",children:[(0,ba.jsx)("input",{type:"text",className:"form-control admin-form-control",name:"password",value:D.password,onChange:Te,required:!0}),(0,ba.jsx)("button",{type:"button",className:"btn admin-btn-secondary",onClick:()=>{const e=Math.random().toString(36).slice(-8);R((t=>ze(ze({},t),{},{password:e})))},children:"Generate"})]})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Coach Photo"}),(0,ba.jsx)(es,{onImageUploaded:e=>{console.log("Image URL received in handleImageUploaded:",e),R((t=>ze(ze({},t),{},{photo:e})))},existingImage:D.photo||null})]}),(0,ba.jsxs)("div",{className:"d-grid",children:["                      ",(0,ba.jsx)("button",{type:"submit",className:"btn admin-btn-primary",disabled:we.addingCoach,children:we.addingCoach?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Adding Coach..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-plus-circle me-2"}),"Add Coach"]})})]})]})})]})]})]})]}),"availability"===i&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,ba.jsx)("h2",{className:"mb-0",children:"Time Slots"}),(0,ba.jsxs)("div",{children:[y&&(0,ba.jsxs)("span",{className:"me-3",children:[(0,ba.jsx)("strong",{children:"Selected Coach:"})," ",y.name]}),(0,ba.jsxs)("button",{className:"btn btn-primary",onClick:()=>y&&Ee(y.id),disabled:!y,children:[(0,ba.jsx)("i",{className:"fas fa-sync-alt me-2"}),"Refresh"]})]})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-lg-8",children:(0,ba.jsxs)("div",{className:"card admin-card mb-4",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsx)("h5",{className:"mb-0",children:y?"Time Slots for ".concat(y.name," (").concat(S.length,")"):"Select a Coach to View Time Slots"})}),y&&(0,ba.jsxs)("div",{className:"card-body border-bottom bg-light",children:[(0,ba.jsxs)("div",{className:"row g-3 align-items-end",children:[(0,ba.jsxs)("div",{className:"col-md-3",children:[(0,ba.jsx)("label",{className:"form-label small fw-semibold",children:"Status Filter"}),(0,ba.jsxs)("select",{className:"form-select form-select-sm",name:"status",value:P.status,onChange:$e,children:[(0,ba.jsx)("option",{value:"all",children:"All Statuses"}),(0,ba.jsx)("option",{value:"available",children:"Available Only"}),(0,ba.jsx)("option",{value:"booked",children:"Booked Only"}),(0,ba.jsx)("option",{value:"past",children:"Closed(Past)"})]})]}),(0,ba.jsxs)("div",{className:"col-md-3",children:[(0,ba.jsx)("label",{className:"form-label small fw-semibold",children:"Session Type"}),(0,ba.jsxs)("select",{className:"form-select form-select-sm",name:"sessionType",value:P.sessionType,onChange:$e,children:[(0,ba.jsx)("option",{value:"all",children:"All Types"}),(0,ba.jsx)("option",{value:"normal",children:"Normal (55min)"}),(0,ba.jsx)("option",{value:"bilan",children:"Bilan (25min)"})]})]}),(0,ba.jsxs)("div",{className:"col-md-3",children:[(0,ba.jsx)("label",{className:"form-label small fw-semibold",children:"Day Filter"}),(0,ba.jsxs)("select",{className:"form-select form-select-sm",name:"dateFilter",value:P.dateFilter,onChange:$e,children:[(0,ba.jsx)("option",{value:"all",children:"All Days"}),(0,ba.jsx)("option",{value:"today",children:"Today"}),(0,ba.jsx)("option",{value:"tomorrow",children:"Tomorrow"}),(0,ba.jsx)("option",{value:"week",children:"This Week"}),(0,ba.jsx)("option",{value:"custom",children:"Custom Date"})]})]}),"custom"===P.dateFilter&&(0,ba.jsxs)("div",{className:"col-md-3",children:[(0,ba.jsx)("label",{className:"form-label small fw-semibold",children:"Select Date"}),(0,ba.jsx)("input",{type:"date",className:"form-control form-control-sm",name:"date",value:P.date,onChange:$e})]}),(0,ba.jsx)("div",{className:"col-md-auto",children:(0,ba.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>{T({status:"all",dateFilter:"all",date:"",sessionType:"all"})},title:"Clear all filters",children:[(0,ba.jsx)("i",{className:"fas fa-times me-1"}),"Clear Filters"]})})]}),(0,ba.jsx)("div",{className:"mt-2",children:(0,ba.jsxs)("small",{className:"text-muted",children:["Showing ",S.length," of ",_.length," time slots","all"!==P.status&&(0,ba.jsx)("span",{className:"badge bg-info ms-2",children:"available"===P.status?"Available":"booked"===P.status?"Booked":"Closed(Past)"}),"all"!==P.dateFilter&&(0,ba.jsx)("span",{className:"badge bg-warning ms-2",children:"today"===P.dateFilter?"Today":"tomorrow"===P.dateFilter?"Tomorrow":"week"===P.dateFilter?"This Week":"Custom Date"})]})})]}),(0,ba.jsx)("div",{className:"card-body",children:y?we.availability?(0,ba.jsxs)("div",{className:"text-center py-4",children:[(0,ba.jsx)("div",{className:"spinner-border",role:"status",children:(0,ba.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,ba.jsx)("p",{className:"mt-3",children:"Loading time slots..."})]}):0===S.length?(0,ba.jsxs)("div",{className:"text-center py-4",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-times fa-3x mb-3 text-muted"}),(0,ba.jsx)("p",{children:"No time slots found for this coach."})]}):(0,ba.jsxs)("div",{children:[ie.length>0&&(0,ba.jsxs)("div",{className:"alert alert-info d-flex justify-content-between align-items-center mb-3",children:[(0,ba.jsxs)("span",{children:[(0,ba.jsx)("i",{className:"fas fa-info-circle me-2"}),ie.length," slot",ie.length>1?"s":""," selected",(()=>{const e=S.filter((e=>ie.includes(e.id))).filter((e=>e.is_past)).length,t=ie.length-e;return e>0?(0,ba.jsxs)("small",{className:"d-block text-warning",children:[(0,ba.jsx)("i",{className:"fas fa-exclamation-triangle me-1"}),t," future/current, ",e," past slot",e>1?"s":""," (will show warning)"]}):null})()]}),(0,ba.jsx)("button",{className:"btn btn-sm btn-danger",onClick:async()=>{if(0===ie.length)return void Da("Please select at least one slot to delete.",{type:"warning",title:"No Selection",duration:4e3});const e=S.filter((e=>ie.includes(e.id))),t=e.filter((e=>e.is_past)),n=e.filter((e=>e.is_booked));if(n.length>0)return void Da("Cannot delete ".concat(n.length," booked slot").concat(n.length>1?"s":"",". Please deselect booked slots first."),{type:"warning",title:"Booked Slots Selected",duration:4e3});let a="Are you sure you want to delete ".concat(ie.length," availability slot").concat(ie.length>1?"s":"","?"),s={title:"Bulk Delete Availability",confirmText:"Delete All",cancelText:"Cancel",type:"warning"};if(t.length>0){const e=ie.length-t.length;a="\u26a0\ufe0f WARNING: You are about to delete ".concat(ie.length," time slots:\n\n")+"\u2022 ".concat(e," future/current slots\n")+"\u2022 ".concat(t.length," PAST slots (affects historical data)\n\n")+"Deleting past slots could affect historical records and data integrity.\n\nAre you absolutely sure you want to proceed with this bulk deletion?",s={title:"Bulk Delete - Past Slots Warning!",confirmText:"Yes, Delete All (Including Past)",cancelText:"Cancel",type:"danger"}}if(await Ha(a,s)){ke((e=>ze(ze({},e),{},{bulkDeleteAvailability:!0})));try{await ga.post("/api/coaches/availability/bulk-delete",{ids:ie}),E((e=>e.filter((e=>!ie.includes(e.id))))),C((e=>e.filter((e=>!ie.includes(e.id))))),oe([]),de(!1),Da("".concat(ie.length," availability slot").concat(ie.length>1?"s":""," deleted successfully!"),{type:"success",title:"Bulk Delete Complete",duration:5e3})}catch(i){var l,r;console.error("Error bulk deleting availability:",i),Da("Failed to delete availability slots: ".concat((null===(l=i.response)||void 0===l||null===(r=l.data)||void 0===r?void 0:r.error)||i.message),{type:"error",title:"Bulk Delete Failed",duration:7e3})}finally{ke((e=>ze(ze({},e),{},{bulkDeleteAvailability:!1})))}}},disabled:we.bulkDeleteAvailability,children:we.bulkDeleteAvailability?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"spinner-border spinner-border-sm me-1",role:"status",children:(0,ba.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),"Deleting..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-trash me-1"}),"Delete Selected (",ie.length,")"]})})]}),(0,ba.jsx)("div",{className:"table-responsive",style:{overflowX:"auto",width:"100%"},children:(0,ba.jsxs)("table",{className:"table table-striped",style:{minWidth:"800px"},children:[(0,ba.jsx)("thead",{children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:(0,ba.jsx)("input",{type:"checkbox",className:"form-check-input",checked:ce,onChange:()=>{if(ce)oe([]);else{const e=S.filter((e=>!e.is_booked)).map((e=>e.id));oe(e)}de(!ce)},disabled:0===S.filter((e=>!e.is_booked)).length,title:"Select all non-booked slots (includes past slots with warning)"})}),(0,ba.jsx)("th",{children:"ID"}),(0,ba.jsx)("th",{children:"Date"}),(0,ba.jsx)("th",{children:"Time"}),(0,ba.jsx)("th",{children:"Type"}),(0,ba.jsx)("th",{children:"Status"}),(0,ba.jsx)("th",{children:"Actions"})]})}),(0,ba.jsx)("tbody",{children:S.map((e=>(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:(0,ba.jsx)("input",{type:"checkbox",className:"form-check-input",checked:ie.includes(e.id),onChange:()=>{return t=e.id,void oe((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},disabled:e.is_booked,title:e.is_booked?"Cannot select booked slots":e.is_past?"Past slot - will show warning when deleting":"Available slot"})}),(0,ba.jsx)("td",{children:e.id}),(0,ba.jsx)("td",{children:e.date?Be(e.date):"N/A"}),(0,ba.jsx)("td",{children:e.start_time&&e.end_time?"".concat(We(e.start_time)," - ").concat(We(e.end_time)):"N/A"}),(0,ba.jsxs)("td",{children:[(0,ba.jsx)("span",{className:"badge ".concat("bilan"===e.session_type?"bg-success":"bg-primary"),children:"bilan"===e.session_type?"Bilan (25min)":"Normal (55min)"}),"bilan"===e.session_type&&(0,ba.jsx)("br",{}),"bilan"===e.session_type&&(0,ba.jsx)("small",{className:"text-success",children:"Gratuit"})]}),(0,ba.jsx)("td",{children:e.is_booked?(0,ba.jsx)("span",{className:"badge bg-danger",children:"Booked"}):e.is_past?(0,ba.jsx)("span",{className:"badge bg-secondary",children:"Closed (Past)"}):(0,ba.jsx)("span",{className:"badge bg-success",children:"Available"})}),(0,ba.jsx)("td",{children:e.is_booked?(0,ba.jsxs)("button",{className:"btn btn-sm btn-outline-secondary",disabled:!0,title:"Cannot delete booked slots - cancel reservation first",children:[(0,ba.jsx)("i",{className:"fas fa-lock me-1"}),"Booked"]}):(0,ba.jsxs)("button",{className:"btn btn-sm ".concat(e.is_past?"btn-outline-warning":"btn-outline-danger"),onClick:()=>(async e=>{const t=S.find((t=>t.id===e));if(t&&t.is_booked)return void Da("Cannot delete booked availability slots. Please cancel the reservation first.",{type:"warning",title:"Operation Not Allowed",duration:4e3});let n="Are you sure you want to delete this availability slot?",a={title:"Delete Availability",confirmText:"Delete",cancelText:"Cancel",type:"warning"};if(t&&t.is_past&&(n="\u26a0\ufe0f WARNING: You are about to delete a PAST time slot!\n\nThis slot is already closed and may have had associated activity. Deleting it could affect historical data.\n\nAre you absolutely sure you want to proceed?",a={title:"Delete Past Time Slot - Warning!",confirmText:"Yes, Delete Past Slot",cancelText:"Cancel",type:"danger"}),await Ha(n,a))try{await ga.delete("/api/coaches/availability/".concat(e)),E((t=>t.filter((t=>t.id!==e)))),C((t=>t.filter((t=>t.id!==e)))),Da("Availability slot deleted successfully!",{type:"success",title:"Slot Deleted",duration:5e3})}catch(r){var s,l;console.error("Error deleting availability:",r),Da("Failed to delete availability: ".concat((null===(s=r.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.error)||r.message),{type:"error",title:"Deletion Failed",duration:7e3})}})(e.id),title:e.is_past?"Delete past slot (WARNING: This affects historical data)":"Delete available slot",children:[(0,ba.jsx)("i",{className:"fas ".concat(e.is_past?"fa-exclamation-triangle":"fa-trash"," me-1")}),e.is_past?"Delete (Past)":"Delete"]})})]},e.id)))})]})})]}):(0,ba.jsxs)("div",{className:"text-center py-4",children:[(0,ba.jsx)("i",{className:"fas fa-user-clock fa-3x mb-3 text-muted"}),(0,ba.jsx)("p",{children:"Please select a coach from the dropdown below."}),(0,ba.jsx)("div",{className:"mt-3",children:(0,ba.jsxs)("select",{className:"form-select",onChange:e=>{const t=h.find((t=>t.id===parseInt(e.target.value)));t&&Pe(t)},children:[(0,ba.jsx)("option",{value:"",children:"-- Select a Coach --"}),h.map((e=>(0,ba.jsxs)("option",{value:e.id,children:[e.name," - ",e.specialty]},e.id)))]})})]})})]})}),(0,ba.jsx)("div",{className:"col-lg-4",children:(0,ba.jsxs)("div",{className:"card admin-card",children:[(0,ba.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,ba.jsx)("h5",{className:"mb-0",children:"Add New Time Slot"}),(0,ba.jsxs)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>B(!0),type:"button",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-plus me-1"}),"Bulk Create"]})]}),(0,ba.jsx)("div",{className:"card-body",children:y?(0,ba.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),y){ke((e=>ze(ze({},e),{},{addingTimeSlot:!0})));try{const e=(await ga.post("/api/coaches/".concat(y.id,"/availability"),M)).data;E((t=>[...t,...e])),C((t=>[...t,...e])),z({date:"",start_time:"",end_time:""}),Da("".concat(e.length," availability slots added successfully! (Both normal and bilan sessions created)"),{type:"success",title:"Success",duration:5e3})}catch(a){var t,n;console.error("Error adding availability:",a),Da("Failed to add availability: ".concat((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||a.message),{type:"error",title:"Error",duration:7e3})}finally{ke((e=>ze(ze({},e),{},{addingTimeSlot:!1})))}}else Da("Please select a coach first",{type:"warning",title:"Coach Required",duration:4e3})},children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsxs)("label",{className:"form-label",children:["Date * ",(0,ba.jsx)("small",{className:"text-muted",children:"(Future dates only)"})]}),(0,ba.jsx)("input",{type:"date",className:"form-control",name:"date",value:M.date,onChange:De,min:(new Date).toISOString().split("T")[0],required:!0}),(0,ba.jsx)("small",{className:"text-muted",children:"Past dates are automatically disabled"})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Start Time *"}),(0,ba.jsx)("input",{type:"time",className:"form-control",name:"start_time",value:M.start_time,onChange:De,required:!0})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"End Time *"}),(0,ba.jsx)("input",{type:"time",className:"form-control",name:"end_time",value:M.end_time,onChange:De,required:!0})]}),(0,ba.jsx)("div",{className:"d-grid",children:(0,ba.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:we.addingTimeSlot,children:we.addingTimeSlot?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Adding Slot..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-plus-circle me-2"}),"Add Time Slot"]})})})]}):(0,ba.jsx)("div",{className:"text-center py-4",children:(0,ba.jsx)("p",{children:"Please select a coach first"})})})]})})]})]}),"clients"===i&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,ba.jsx)("h2",{className:"mb-0",children:"Client Management"}),"            ",(0,ba.jsxs)("button",{className:"btn admin-btn-primary",onClick:_e,children:[(0,ba.jsx)("i",{className:"fas fa-sync-alt me-2"}),"Refresh"]})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsxs)("div",{className:"input-group",children:[(0,ba.jsx)("span",{className:"input-group-text",children:(0,ba.jsx)("i",{className:"fas fa-search"})}),(0,ba.jsx)("input",{type:"text",className:"form-control",placeholder:"Search clients by name, username, email, phone, or matricule...",value:b,onChange:e=>j(e.target.value)}),b&&(0,ba.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:()=>j(""),title:"Clear search",children:(0,ba.jsx)("i",{className:"fas fa-times"})})]}),b&&(0,ba.jsxs)("small",{className:"text-muted mt-1 d-block",children:["Showing ",v.length," of ",f.length," clients"]})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-lg-8",children:["              ",(0,ba.jsxs)("div",{className:"card",children:[(0,ba.jsx)("div",{className:"card-header admin-card-header",children:(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-users me-2"}),"Registered Clients (",v.length,b?" of ".concat(f.length):"",")"]})}),(0,ba.jsx)("div",{className:"card-body p-0",children:we.clients?(0,ba.jsxs)("div",{className:"p-4 text-center",children:[(0,ba.jsx)("div",{className:"spinner-border",role:"status",children:(0,ba.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,ba.jsx)("p",{className:"mt-2",children:"Loading clients..."})]}):0===v.length?(0,ba.jsxs)("div",{className:"p-4 text-center",children:[(0,ba.jsx)("i",{className:"fas fa-user-slash fa-3x mb-3",style:{color:"var(--highlight-color)"}}),(0,ba.jsx)("p",{style:{color:"var(--text-color)"},children:b?"No clients found matching your search.":"No clients found. Add your first client using the form."})]}):(0,ba.jsx)("div",{className:"table-responsive",style:{overflowX:"auto",width:"100%"},children:(0,ba.jsxs)("table",{className:"table admin-table mb-0",style:{minWidth:"1200px"},children:[(0,ba.jsx)("thead",{children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:"Matricule"}),(0,ba.jsx)("th",{children:"Username"}),(0,ba.jsx)("th",{children:"Full Name"}),(0,ba.jsx)("th",{children:"Email"}),(0,ba.jsx)("th",{children:"Phone"}),(0,ba.jsx)("th",{children:"Points"}),(0,ba.jsx)("th",{children:"Goal"}),(0,ba.jsx)("th",{children:"Registration Date"}),(0,ba.jsx)("th",{children:"Actions"})]})}),(0,ba.jsx)("tbody",{children:v.map((e=>(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:e.matricule}),(0,ba.jsx)("td",{children:e.username}),(0,ba.jsx)("td",{children:e.full_name||"-"}),(0,ba.jsx)("td",{children:e.email}),(0,ba.jsx)("td",{children:e.phone||"-"}),(0,ba.jsx)("td",{children:(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("span",{className:"badge bg-primary me-1",title:"Session individuelle",children:["SI: ",e.solo_points||0]}),(0,ba.jsxs)("span",{className:"badge bg-success",title:"Session en \xe9quipe",children:["SE: ",e.team_points||0]})]})}),(0,ba.jsx)("td",{children:e.goal?(0,ba.jsx)("span",{className:"text-truncate d-inline-block",style:{maxWidth:"150px"},title:e.goal,children:e.goal}):"-"}),(0,ba.jsx)("td",{children:Be(e.created_at)}),(0,ba.jsx)("td",{children:(0,ba.jsxs)("div",{className:"btn-group btn-group-sm",children:[(0,ba.jsx)("button",{className:"btn btn-outline-primary",onClick:()=>{L({clientId:e.id.toString(),points:0,action:"add"}),document.getElementById("pointsUpdateForm").scrollIntoView({behavior:"smooth"})},title:"Manage Points",children:(0,ba.jsx)("i",{className:"fas fa-coins"})}),(0,ba.jsx)("button",{className:"btn btn-outline-info",onClick:()=>(async e=>{try{pe(e);const t=await ga.get("/api/admin/coaches-list");xe(t.data);const n=(await ga.get("/api/admin/clients-with-bilans")).data.find((t=>t.id===e.id));ge((null===n||void 0===n?void 0:n.bilans)||[]),je({coachId:"",bilan:""}),me(!0)}catch(t){console.error("Error loading bilan data:",t),Da("Failed to load bilan data",{type:"error",title:"Error",duration:5e3})}})(e),title:"Manage Bilan",children:(0,ba.jsx)("i",{className:"fas fa-file-medical-alt"})}),(0,ba.jsx)("button",{className:"btn btn-outline-warning",onClick:()=>re(ze(ze({},e),{},{password:"",full_name:e.full_name||"",phone:e.phone||"",age:e.age||"",gender:e.gender||"",goals:e.goal?e.goal.split(", "):[]})),title:"Edit Client",children:(0,ba.jsx)("i",{className:"fas fa-edit"})}),(0,ba.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>(async e=>{if(await Ha("Are you sure you want to delete this client? This action cannot be undone.",{title:"Delete Client",confirmText:"Delete",cancelText:"Cancel",type:"danger"}))try{await ga.delete("/api/admin/clients/".concat(e)),x((t=>t.filter((t=>t.id!==e)))),g((t=>t.filter((t=>t.id!==e)))),Da("Client deleted successfully!",{type:"success",title:"Client Deleted",duration:5e3})}catch(a){var t,n;console.error("Error deleting client:",a),Da("Failed to delete client: ".concat((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||a.message),{type:"error",title:"Deletion Failed",duration:7e3})}})(e.id),title:"Delete Client",children:(0,ba.jsx)("i",{className:"fas fa-trash"})})]})})]},e.id)))})]})})})]})]}),(0,ba.jsxs)("div",{className:"col-lg-4",children:[(0,ba.jsxs)("div",{className:"card admin-card mb-4",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-user-plus me-2"}),"Add New Client"]})}),"                ",(0,ba.jsx)("div",{className:"card-body",children:(0,ba.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),ke((e=>ze(ze({},e),{},{addingClient:!0})));try{const e=ze(ze({},F),{},{goal:F.goals.join(", ")});delete e.goals,e.points=(e.solo_points||0)+(e.team_points||0),console.log("Submitting new client with data:",e);const t=await ga.post("/api/admin/clients",e);console.log("Server response for add client:",t.data),x((e=>[...e,t.data])),g((e=>[...e,t.data])),I({username:"",email:"",password:"",points:0,full_name:"",phone:"",age:"",gender:"",goals:[]}),Da("Client added successfully!",{type:"success",title:"Success",duration:5e3})}catch(a){var t,n;console.error("Error adding client:",a),Da("Failed to add client: ".concat((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||a.message),{type:"error",title:"Error",duration:7e3})}finally{ke((e=>ze(ze({},e),{},{addingClient:!1})))}},children:[(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username*"}),(0,ba.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",value:F.username,onChange:Ae,required:!0})]}),(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email*"}),(0,ba.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",value:F.email,onChange:Ae,required:!0})]})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password*"}),(0,ba.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",value:F.password,onChange:Ae,required:!0})]}),(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"full_name",className:"form-label",children:"Full Name"}),(0,ba.jsx)("input",{type:"text",className:"form-control",id:"full_name",name:"full_name",value:F.full_name,onChange:Ae})]})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),(0,ba.jsx)("input",{type:"text",className:"form-control",id:"phone",name:"phone",value:F.phone,onChange:Ae})]}),(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsxs)("label",{htmlFor:"solo_points",className:"form-label",children:[(0,ba.jsx)("span",{className:"badge bg-primary me-1",children:"SI"}),"Session individuelle"]}),(0,ba.jsx)("input",{type:"number",className:"form-control",id:"solo_points",name:"solo_points",value:F.solo_points||0,onChange:Ae,min:"0"}),(0,ba.jsx)("small",{className:"form-text text-muted",children:"For individual coaching sessions"})]}),(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsxs)("label",{htmlFor:"team_points",className:"form-label",children:[(0,ba.jsx)("span",{className:"badge bg-success me-1",children:"SE"}),"Session en \xe9quipe"]}),(0,ba.jsx)("input",{type:"number",className:"form-control",id:"team_points",name:"team_points",value:F.team_points||0,onChange:Ae,min:"0"}),(0,ba.jsx)("small",{className:"form-text text-muted",children:"For group courses"})]})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"age",className:"form-label",children:"Age"}),(0,ba.jsx)("input",{type:"number",className:"form-control",id:"age",name:"age",value:F.age,onChange:Ae,min:"0"})]}),(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"gender",className:"form-label",children:"Gender"}),(0,ba.jsxs)("select",{className:"form-select",id:"gender",name:"gender",value:F.gender,onChange:Ae,children:[(0,ba.jsx)("option",{value:"",children:"Select Gender"}),(0,ba.jsx)("option",{value:"male",children:"Male"}),(0,ba.jsx)("option",{value:"female",children:"Female"}),(0,ba.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Client's Goals"}),(0,ba.jsx)("div",{className:"goal-checkboxes border rounded p-3",style:{maxHeight:"200px",overflowY:"auto"},children:O.map(((e,t)=>(0,ba.jsxs)("div",{className:"form-check",children:[(0,ba.jsx)("input",{className:"form-check-input",type:"checkbox",id:"new-goal-".concat(t),name:"goalCheckbox",value:e,checked:F.goals.includes(e),onChange:Ae}),(0,ba.jsx)("label",{className:"form-check-label",htmlFor:"new-goal-".concat(t),children:e.charAt(0).toUpperCase()+e.slice(1)})]},t)))}),(0,ba.jsx)("small",{className:"form-text text-muted",children:"Select one or more fitness goals for this client"})]}),(0,ba.jsx)("div",{className:"d-grid",children:(0,ba.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:we.addingClient,children:we.addingClient?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Adding Client..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-plus-circle me-2"}),"Add Client"]})})})]})})]}),(0,ba.jsxs)("div",{className:"card admin-card",id:"pointsUpdateForm",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-coins me-2"}),"Manage Points"]})}),(0,ba.jsx)("div",{className:"card-body",children:(0,ba.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{console.log("Updating points for client:",A);const e=await ga.patch("/api/admin/clients/".concat(A.clientId,"/points"),{points:A.points,pointType:A.pointType||"solo",action:A.action});console.log("Server response for points update:",e.data),x((t=>t.map((t=>t.id===parseInt(A.clientId)?e.data:t)))),g((t=>t.map((t=>t.id===parseInt(A.clientId)?e.data:t)))),L({clientId:"",points:0,pointType:"solo",action:"add"}),Da("".concat("solo"===A.pointType?"Session individuelle (SI)":"Session en \xe9quipe (SE)"," updated successfully!"),{type:"success",title:"Points Updated",duration:5e3})}catch(a){var t,n;console.error("Error updating client points:",a),Da("Failed to update client points: ".concat((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||a.message),{type:"error",title:"Update Failed",duration:7e3})}},children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{htmlFor:"clientId",className:"form-label",children:"Select Client"}),(0,ba.jsxs)("select",{className:"form-select",id:"clientId",name:"clientId",value:A.clientId,onChange:Le,required:!0,children:[(0,ba.jsx)("option",{value:"",children:"-- Select Client --"}),f.map((e=>(0,ba.jsxs)("option",{value:e.id,children:[e.username," (",e.email,") - SI: ",e.solo_points||0,", SE: ",e.team_points||0]},e.id)))]})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{htmlFor:"action",className:"form-label",children:"Action"}),(0,ba.jsxs)("select",{className:"form-select",id:"action",name:"action",value:A.action,onChange:Le,required:!0,children:[(0,ba.jsx)("option",{value:"add",children:"Add Points"}),(0,ba.jsx)("option",{value:"remove",children:"Remove Points"}),(0,ba.jsx)("option",{value:"set",children:"Set Points"})]})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{htmlFor:"pointType",className:"form-label",children:"Point Type"}),(0,ba.jsxs)("select",{className:"form-select",id:"pointType",name:"pointType",value:A.pointType,onChange:Le,required:!0,children:[(0,ba.jsx)("option",{value:"solo",children:"Session individuelle (SI) - Individual Sessions"}),(0,ba.jsx)("option",{value:"team",children:"Session en \xe9quipe (SE) - Group Courses"})]}),(0,ba.jsx)("small",{className:"form-text text-muted",children:"Session individuelle are used for individual coaching sessions, Session en \xe9quipe for group courses."})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{htmlFor:"points",className:"form-label",children:"solo"===A.pointType?"Session individuelle (SI)":"Session en \xe9quipe (SE)"}),(0,ba.jsx)("input",{type:"number",className:"form-control",id:"points",name:"points",value:A.points,onChange:Le,min:"0",required:!0}),(0,ba.jsxs)("small",{className:"form-text text-muted",children:["Enter the number of points to ",A.action," for this client."]})]}),(0,ba.jsx)("div",{className:"d-grid",children:(0,ba.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:!A.clientId,children:[(0,ba.jsx)("i",{className:"fas fa-save me-2"}),"Update Points"]})})]})})]})]})]})]}),ae&&(0,ba.jsx)("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},children:(0,ba.jsx)("div",{className:"modal-dialog",children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",children:[(0,ba.jsx)("h5",{className:"modal-title",children:"Edit Coach"}),(0,ba.jsx)("button",{type:"button",className:"btn-close",onClick:()=>se(null)})]}),(0,ba.jsx)("div",{className:"modal-body",children:(0,ba.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=ze(ze({},ae),{},{updateCredentials:!0});console.log("Submitting edit coach with data:",e);const t=await ga.put("/api/coaches/".concat(ae.id),e);console.log("Server response for edit coach:",t.data),p((e=>e.map((e=>e.id===ae.id?t.data:e)))),se(null),Da("Coach updated successfully!",{type:"success",title:"Coach Updated",duration:5e3})}catch(s){var t,n,a;console.error("Error updating coach:",s),console.error("Error details:",(null===(t=s.response)||void 0===t?void 0:t.data)||s.message),Da("Failed to update coach: ".concat((null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||s.message),{type:"error",title:"Update Failed",duration:7e3})}},children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Name *"}),(0,ba.jsx)("input",{type:"text",className:"form-control",name:"name",value:ae.name,onChange:Ue,required:!0})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Specialty *"}),(0,ba.jsx)("input",{type:"text",className:"form-control",name:"specialty",value:ae.specialty,onChange:Ue,required:!0})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Bio"}),(0,ba.jsx)("textarea",{className:"form-control",name:"bio",value:ae.bio||"",onChange:Ue,rows:"3"})]}),(0,ba.jsx)("hr",{className:"my-3"}),(0,ba.jsx)("h6",{className:"mb-3",children:"Coach Credentials"}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Email *"}),(0,ba.jsx)("input",{type:"email",className:"form-control",name:"email",value:ae.email||"",onChange:Ue,required:!0})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Matricule"}),(0,ba.jsx)("input",{type:"text",className:"form-control",name:"matricule",value:ae.matricule||"",onChange:Ue})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Reset Password"}),(0,ba.jsxs)("div",{className:"input-group",children:[(0,ba.jsx)("input",{type:"text",className:"form-control",name:"password",value:ae.password||"",onChange:Ue,placeholder:"Leave empty to keep current password"}),(0,ba.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{const e=Math.random().toString(36).slice(-8);se((t=>ze(ze({},t),{},{password:e})))},children:"Generate"})]}),(0,ba.jsx)("small",{className:"text-muted",children:"Leave empty to keep current password"})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Coach Photo"}),(0,ba.jsx)(es,{onImageUploaded:e=>{console.log("Image URL received in handleEditCoachImageUploaded:",e),se((t=>ze(ze({},t),{},{photo:e})))},existingImage:ae.photo||null})]}),(0,ba.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,ba.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>se(null),children:"Cancel"}),(0,ba.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,ba.jsx)("i",{className:"fas fa-save me-2"}),"Save Changes"]})]})]})})]})})}),"      ","      ",le&&(0,ba.jsx)("div",{className:"modal fade show",style:{display:"block",position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1050,overflow:"auto",backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:e=>{e.target===e.currentTarget&&re(null)},tabIndex:"-1",role:"dialog","aria-labelledby":"editClientModalLabel","aria-modal":"true",children:(0,ba.jsx)("div",{className:"modal-dialog modal-lg",style:{margin:"30px auto",pointerEvents:"auto"},children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",style:{backgroundColor:"var(--highlight-color)",color:"white"},children:[(0,ba.jsxs)("h5",{className:"modal-title",id:"editClientModalLabel",children:[(0,ba.jsx)("i",{className:"fas fa-user-edit me-2"}),"Edit Client: ",le.username]}),(0,ba.jsx)("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>re(null),"aria-label":"Close"})]}),(0,ba.jsx)("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:(0,ba.jsxs)("form",{id:"editClientForm",onSubmit:e=>{e.preventDefault(),console.log("Form submitted");const t=ze({},le);t.password||delete t.password,t.goals&&(t.goal=t.goals.join(", "),delete t.goals),void 0!==t.age&&""!==t.age?t.age=Number(t.age):t.age=null,void 0!==t.solo_points&&""!==t.solo_points?t.solo_points=Number(t.solo_points):t.solo_points=0,void 0!==t.team_points&&""!==t.team_points?t.team_points=Number(t.team_points):t.team_points=0,t.points=t.solo_points+t.team_points,ga.put("/api/admin/clients/".concat(le.id),t).then((e=>{x((t=>t.map((t=>t.id===le.id?e.data:t)))),g((t=>t.map((t=>t.id===le.id?e.data:t)))),re(null),Da("Client updated successfully!",{type:"success",title:"Success",duration:5e3})})).catch((e=>{var t,n;console.error("Error updating client:",e),Da("Failed to update client: ".concat((null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||e.message),{type:"error",title:"Error",duration:7e3})}))},children:[(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"edit-username",className:"form-label",children:"Username"}),(0,ba.jsx)("input",{type:"text",className:"form-control",id:"edit-username",name:"username",value:le.username,onChange:r,required:!0})]}),(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"edit-email",className:"form-label",children:"Email"}),(0,ba.jsx)("input",{type:"email",className:"form-control",id:"edit-email",name:"email",value:le.email,onChange:r,required:!0})]})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsxs)("label",{htmlFor:"edit-password",className:"form-label",children:["Password ",(0,ba.jsx)("small",{className:"text-muted",children:"(Leave blank to keep unchanged)"})]}),(0,ba.jsx)("input",{type:"password",className:"form-control",id:"edit-password",name:"password",value:le.password,onChange:r,placeholder:"New password"})]}),(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"edit-full_name",className:"form-label",children:"Full Name"}),(0,ba.jsx)("input",{type:"text",className:"form-control",id:"edit-full_name",name:"full_name",value:le.full_name||"",onChange:r})]})]}),(0,ba.jsx)("div",{className:"row",children:(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"edit-phone",className:"form-label",children:"Phone"}),(0,ba.jsx)("input",{type:"text",className:"form-control",id:"edit-phone",name:"phone",value:le.phone||"",onChange:r})]})}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsxs)("label",{htmlFor:"edit-solo-points",className:"form-label",children:[(0,ba.jsx)("span",{className:"badge bg-primary me-1",children:"SP"}),"Session individuelle"]}),(0,ba.jsx)("input",{type:"number",className:"form-control",id:"edit-solo-points",name:"solo_points",value:le.solo_points||0,onChange:r,min:"0",required:!0}),(0,ba.jsx)("small",{className:"form-text text-muted",children:"For individual coaching sessions"})]}),(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsxs)("label",{htmlFor:"edit-team-points",className:"form-label",children:[(0,ba.jsx)("span",{className:"badge bg-success me-1",children:"TP"}),"Session en \xe9quipe"]}),(0,ba.jsx)("input",{type:"number",className:"form-control",id:"edit-team-points",name:"team_points",value:le.team_points||0,onChange:r,min:"0",required:!0}),(0,ba.jsx)("small",{className:"form-text text-muted",children:"For group courses"})]})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"edit-age",className:"form-label",children:"Age"}),(0,ba.jsx)("input",{type:"number",className:"form-control",id:"edit-age",name:"age",value:le.age||"",onChange:r,min:"0"})]}),(0,ba.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"edit-gender",className:"form-label",children:"Gender"}),(0,ba.jsxs)("select",{className:"form-select",id:"edit-gender",name:"gender",value:le.gender||"",onChange:r,children:[(0,ba.jsx)("option",{value:"",children:"Select Gender"}),(0,ba.jsx)("option",{value:"male",children:"Male"}),(0,ba.jsx)("option",{value:"female",children:"Female"}),(0,ba.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Client's Goals"}),(0,ba.jsx)("div",{className:"goal-checkboxes border rounded p-3",style:{maxHeight:"200px",overflowY:"auto"},children:O.map(((e,t)=>(0,ba.jsxs)("div",{className:"form-check",children:[(0,ba.jsx)("input",{className:"form-check-input",type:"checkbox",id:"edit-goal-".concat(t),name:"goalCheckbox",value:e,checked:le.goals&&le.goals.includes(e),onChange:r}),(0,ba.jsx)("label",{className:"form-check-label",htmlFor:"edit-goal-".concat(t),children:e.charAt(0).toUpperCase()+e.slice(1)})]},t)))}),(0,ba.jsx)("small",{className:"form-text text-muted",children:"Select one or more fitness goals for this client"})]}),(0,ba.jsxs)("div",{className:"modal-footer",style:{display:"flex",justifyContent:"space-between"},children:[(0,ba.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>re(null),children:"Cancel"}),(0,ba.jsxs)("button",{type:"submit",className:"btn btn-warning",children:[(0,ba.jsx)("i",{className:"fas fa-save me-2"}),"Save Changes"]})]})]})})]})})}),ue&&(0,ba.jsx)("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)",zIndex:9999},onClick:Me,children:(0,ba.jsx)("div",{className:"modal-dialog modal-xl",style:{margin:"30px auto",pointerEvents:"auto"},onClick:e=>e.stopPropagation(),children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",style:{backgroundColor:"var(--highlight-color)",color:"white"},children:[(0,ba.jsxs)("h5",{className:"modal-title",children:[(0,ba.jsx)("i",{className:"fas fa-file-medical-alt me-2"}),"Manage Bilan for ",(null===he||void 0===he?void 0:he.full_name)||(null===he||void 0===he?void 0:he.username)]}),(0,ba.jsx)("button",{type:"button",className:"btn-close btn-close-white",onClick:Me})]}),(0,ba.jsxs)("div",{className:"modal-body",children:[(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-4",children:(0,ba.jsxs)("div",{className:"card mb-4",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsx)("h6",{className:"mb-0",children:"Client Information"})}),(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Name:"})," ",(null===he||void 0===he?void 0:he.full_name)||(null===he||void 0===he?void 0:he.username)]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Email:"})," ",null===he||void 0===he?void 0:he.email]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Phone:"})," ",(null===he||void 0===he?void 0:he.phone)||"Not provided"]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Goal:"})," ",(null===he||void 0===he?void 0:he.goal)||"Not defined"]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Points:"}),(0,ba.jsxs)("span",{className:"badge bg-primary ms-1",children:["SI: ",(null===he||void 0===he?void 0:he.solo_points)||0]}),(0,ba.jsxs)("span",{className:"badge bg-success ms-1",children:["SE: ",(null===he||void 0===he?void 0:he.team_points)||0]})]})]})]})}),(0,ba.jsx)("div",{className:"col-md-8",children:(0,ba.jsxs)("div",{className:"card mb-4",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsxs)("h6",{className:"mb-0",children:["Existing Bilans (",ve.length,")"]})}),(0,ba.jsx)("div",{className:"card-body",children:0===ve.length?(0,ba.jsx)("p",{className:"text-muted fst-italic",children:"No bilans found for this client."}):(0,ba.jsx)("div",{className:"row",children:ve.map(((e,t)=>{return(0,ba.jsx)("div",{className:"col-12 mb-3",children:(0,ba.jsxs)("div",{className:"card border-info",children:[(0,ba.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,ba.jsxs)("h6",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-user-md me-2"}),"Coach: ",e.coach_name]}),(0,ba.jsxs)("div",{className:"btn-group btn-group-sm",children:[(0,ba.jsx)("button",{className:"btn btn-outline-warning",onClick:()=>(e=>{const t=fe.find((t=>t.name===e.coach_name));t&&je({coachId:t.id.toString(),bilan:e.bilan})})(e),title:"Edit Bilan",children:(0,ba.jsx)("i",{className:"fas fa-edit"})}),(0,ba.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>(async e=>{if(await Ha("Are you sure you want to delete the bilan from ".concat(e,"?"),{title:"Delete Bilan",confirmText:"Delete",cancelText:"Cancel",type:"danger"}))try{const t=fe.find((t=>t.name===e));if(!t)throw new Error("Coach not found");await ga.delete("/api/admin/clients/".concat(he.id,"/bilan/").concat(t.id));const n=(await ga.get("/api/admin/clients-with-bilans")).data.find((e=>e.id===he.id));ge((null===n||void 0===n?void 0:n.bilans)||[]),Da("Bilan deleted successfully!",{type:"success",title:"Bilan Deleted",duration:5e3})}catch(a){var t,n;console.error("Error deleting bilan:",a),Da("Failed to delete bilan: ".concat((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||a.message),{type:"error",title:"Delete Failed",duration:7e3})}})(e.coach_name),title:"Delete Bilan",children:(0,ba.jsx)("i",{className:"fas fa-trash"})})]})]}),(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsx)("p",{className:"mb-1",children:e.bilan}),(0,ba.jsxs)("small",{className:"text-muted",children:["Updated: ",(n=e.updated_at,n?new Date(n).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never")]})]})]})},t);var n}))})})]})})]}),(0,ba.jsxs)("div",{className:"card",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsxs)("h6",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-plus-circle me-2"}),be.coachId?"Edit Bilan":"Add New Bilan"]})}),(0,ba.jsx)("div",{className:"card-body",children:(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"coachSelect",className:"form-label",children:"Select Coach *"}),(0,ba.jsxs)("select",{id:"coachSelect",className:"form-select",value:be.coachId,onChange:e=>je((t=>ze(ze({},t),{},{coachId:e.target.value}))),disabled:ye,children:[(0,ba.jsx)("option",{value:"",children:"-- Select a Coach --"}),fe.map((e=>(0,ba.jsxs)("option",{value:e.id,children:[e.name," (",e.specialty,")"]},e.id)))]})]}),(0,ba.jsxs)("div",{className:"col-md-8 mb-3",children:[(0,ba.jsx)("label",{htmlFor:"bilanText",className:"form-label",children:"Bilan Content *"}),(0,ba.jsx)("textarea",{id:"bilanText",className:"form-control",rows:"6",placeholder:"Enter the bilan assessment for this client...",value:be.bilan,onChange:e=>je((t=>ze(ze({},t),{},{bilan:e.target.value}))),disabled:ye})]})]})})]})]}),(0,ba.jsxs)("div",{className:"modal-footer",children:[(0,ba.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:Me,disabled:ye,children:"Close"}),(0,ba.jsx)("button",{type:"button",className:"btn btn-primary",onClick:async()=>{if(be.coachId&&be.bilan.trim()){Ne(!0);try{await ga.post("/api/admin/clients/".concat(he.id,"/bilan/").concat(be.coachId),{bilan:be.bilan});const e=(await ga.get("/api/admin/clients-with-bilans")).data.find((e=>e.id===he.id));ge((null===e||void 0===e?void 0:e.bilans)||[]),je({coachId:"",bilan:""}),Da("Bilan saved successfully!",{type:"success",title:"Bilan Saved",duration:5e3})}catch(n){var e,t;console.error("Error saving bilan:",n),Da("Failed to save bilan: ".concat((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||n.message),{type:"error",title:"Save Failed",duration:7e3})}finally{Ne(!1)}}else Da("Please select a coach and enter bilan content",{type:"warning",title:"Missing Information",duration:5e3})},disabled:ye||!be.coachId||!be.bilan.trim(),children:ye?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Saving..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-save me-2"}),"Save Bilan"]})})]})]})})}),"packs"===i&&(0,ba.jsx)(ld,{}),"payments"===i&&(0,ba.jsx)(Ou,{}),"group-courses"===i&&(0,ba.jsx)(rd,{}),$&&(0,ba.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,ba.jsx)("div",{className:"modal-dialog modal-lg",children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",children:[(0,ba.jsxs)("h5",{className:"modal-title",children:[(0,ba.jsx)("i",{className:"fas fa-plus me-2"}),"Create Single Reservation"]}),(0,ba.jsx)("button",{type:"button",className:"btn-close",onClick:()=>K(!1)})]}),(0,ba.jsx)("div",{className:"modal-body",children:(0,ba.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!J.client_id)return void Da("Please select a client",{type:"warning",title:"Validation Error"});if(!J.coach_id)return void Da("Please select a coach",{type:"warning",title:"Validation Error"});if(!J.date)return void Da("Please select a date",{type:"warning",title:"Validation Error"});if(!J.time_slot)return void Da("Please select a time slot",{type:"warning",title:"Validation Error"});const t=f.find((e=>e.id==J.client_id));if(!t)return void Da("Selected client not found",{type:"error",title:"Error"});const n=t.points||0;if(n<1)return void Da('Insufficient points! Client "'.concat(t.full_name||t.username,'" has ').concat(n," Solo Points (SI) but needs 1 point for this reservation. Please assign more points to the client before creating this reservation."),{type:"warning",title:"Insufficient Points",duration:8e3});if(X.find((e=>e.start_time===J.time_slot))){ke((e=>ze(ze({},e),{},{normalReservation:!0})));try{const e={coach_id:parseInt(J.coach_id),user_id:parseInt(J.client_id),date:J.date,time:J.time_slot,session_type:J.session_type};console.log("Creating normal reservation:",e);await ga.post("/api/reserve",e);Da("Reservation created successfully for ".concat(t.full_name||t.username,"!"),{type:"success",title:"Reservation Created",duration:5e3}),Q({client_id:"",coach_id:"",date:"",time_slot:"",session_type:"normal"}),Z([]),K(!1),Se(),_e()}catch(l){var a,s;console.error("Error creating normal reservation:",l),Da("Failed to create reservation: ".concat((null===(a=l.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.error)||l.message),{type:"error",title:"Error",duration:7e3})}finally{ke((e=>ze(ze({},e),{},{normalReservation:!1})))}}else Da("Selected time slot is no longer available. Please refresh and select another slot.",{type:"warning",title:"Slot Not Available",duration:6e3})},children:[(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Client *"}),(0,ba.jsxs)("select",{className:"form-select",name:"client_id",value:J.client_id,onChange:Fe,required:!0,children:[(0,ba.jsx)("option",{value:"",children:"Select a client"}),f.map((e=>(0,ba.jsxs)("option",{value:e.id,children:[e.full_name||e.username," - Points: ",e.points||0]},e.id)))]})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Coach *"}),(0,ba.jsxs)("select",{className:"form-select",name:"coach_id",value:J.coach_id,onChange:Fe,required:!0,children:[(0,ba.jsx)("option",{value:"",children:"Select a coach"}),h.map((e=>(0,ba.jsxs)("option",{value:e.id,children:[e.name," - ",e.specialty]},e.id)))]})]})})]}),(0,ba.jsx)("div",{className:"row",children:(0,ba.jsx)("div",{className:"col-md-12",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Type de S\xe9ance *"}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsx)("div",{className:"session-type-card p-3 border rounded ".concat("normal"===J.session_type?"border-primary bg-light":"border-secondary"),style:{cursor:"pointer"},onClick:()=>Fe({target:{name:"session_type",value:"normal"}}),children:(0,ba.jsxs)("div",{className:"d-flex align-items-center",children:[(0,ba.jsx)("input",{type:"radio",name:"session_type",value:"normal",checked:"normal"===J.session_type,onChange:Fe,className:"form-check-input me-3"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h6",{className:"mb-1",children:"S\xe9ance Normale"}),(0,ba.jsx)("small",{className:"text-muted",children:"55 minutes \u2022 1 cr\xe9dit"})]})]})})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsx)("div",{className:"session-type-card p-3 border rounded ".concat("bilan"===J.session_type?"border-success bg-light":"border-secondary"),style:{cursor:"pointer"},onClick:()=>Fe({target:{name:"session_type",value:"bilan"}}),children:(0,ba.jsxs)("div",{className:"d-flex align-items-center",children:[(0,ba.jsx)("input",{type:"radio",name:"session_type",value:"bilan",checked:"bilan"===J.session_type,onChange:Fe,className:"form-check-input me-3"}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h6",{className:"mb-1",children:"S\xe9ance Bilan"}),(0,ba.jsx)("small",{className:"text-muted",children:"30 minutes \u2022 Gratuit"}),"bilan"===J.session_type&&(0,ba.jsx)("span",{className:"badge bg-success ms-2",children:"GRATUIT"})]})]})})})]})]})})}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Date *"}),(0,ba.jsx)("input",{type:"date",className:"form-control",name:"date",value:J.date,onChange:Fe,min:(new Date).toISOString().split("T")[0],required:!0})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsxs)("label",{className:"form-label",children:["Time Slot *",ee&&(0,ba.jsx)("span",{className:"ms-2",children:(0,ba.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,ba.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})]}),(0,ba.jsxs)("select",{className:"form-select",name:"time_slot",value:J.time_slot,onChange:Fe,disabled:!J.coach_id||!J.date||ee,required:!0,children:[(0,ba.jsx)("option",{value:"",children:J.coach_id&&J.date?0===X.length?"No available slots":"Select a time slot":"Select coach and date first"}),X.map((e=>(0,ba.jsxs)("option",{value:e.start_time,children:[e.start_time," - ",e.end_time]},e.id)))]}),J.coach_id&&J.date&&!ee&&0===X.length&&(0,ba.jsx)("small",{className:"text-danger",children:"No available time slots for this coach on the selected date."})]})})]}),J.client_id&&(0,ba.jsxs)("div",{className:"alert alert-info",children:[(0,ba.jsx)("i",{className:"fas fa-info-circle me-2"}),(0,ba.jsx)("strong",{children:"Client Points:"})," ",(()=>{const e=f.find((e=>e.id==J.client_id)),t=(null===e||void 0===e?void 0:e.points)||0;return(0,ba.jsxs)("span",{className:t>=1?"text-success":"text-danger",children:[t," Solo Points (SI)",t>=1?" \u2713 Sufficient":" \u274c Insufficient (needs 1)"]})})()]}),(0,ba.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,ba.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>K(!1),children:"Cancel"}),(0,ba.jsx)("button",{type:"submit",className:"btn btn-success",disabled:we.normalReservation||!J.client_id||!J.coach_id||!J.date||!J.time_slot,children:we.normalReservation?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:(0,ba.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),"Creating..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-plus me-2"}),"Create Reservation"]})})]})]})})]})})}),H&&(0,ba.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,ba.jsx)("div",{className:"modal-dialog modal-lg",children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",children:[(0,ba.jsxs)("h5",{className:"modal-title",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-plus me-2"}),"Bulk Create Reservations for Client"]}),(0,ba.jsx)("button",{type:"button",className:"btn-close",onClick:()=>V(!1)})]}),(0,ba.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!G.client_id)return void Da("Please select a client",{type:"warning",title:"Validation Error"});if(!G.coach_id)return void Da("Please select a coach",{type:"warning",title:"Validation Error"});if(!G.start_date||!G.end_date)return void Da("Please select start and end dates",{type:"warning",title:"Validation Error"});if(!G.time_slot)return void Da("Please select a time slot",{type:"warning",title:"Validation Error"});if(0===G.days_of_week.length)return void Da("Please select at least one day of the week",{type:"warning",title:"Validation Error"});if(new Date(G.end_date)<new Date(G.start_date))return void Da("End date must be after start date",{type:"warning",title:"Validation Error"});const t=f.find((e=>e.id==G.client_id));if(t){const e=new Date(G.start_date),n=new Date(G.end_date),a=G.days_of_week;let s=0;const l=new Date(e);for(;l<=n;){const e=l.getDay();a.includes(e)&&s++,l.setDate(l.getDate()+1)}const r=t.solo_points||0;if(r<s)return void Da('Insufficient points! Client "'.concat(t.full_name||t.username,'" has ').concat(r," Solo Points (SI) but needs ").concat(s," points for ").concat(s," session").concat(s>1?"s":"",". Please assign more points to the client before creating this bulk reservation."),{type:"error",title:"Insufficient Client Points",duration:8e3})}try{const e=h.find((e=>e.id==G.coach_id)),t=e?e.name:"Selected coach",n=(await ga.get("/api/coaches/".concat(G.coach_id,"/all-availability"))).data||[],a=new Date(G.start_date),s=new Date(G.end_date),l=G.days_of_week,r=G.time_slot,i=[],o=[],c=new Date(a);for(;c<=s;){const e=c.getDay();if(l.includes(e)){const e=c.toISOString().split("T")[0];if(!n.find((t=>t.date===e&&t.start_time===r&&0===t.is_booked&&!t.is_past))){n.find((t=>t.date===e&&t.start_time===r&&1===t.is_booked))?i.push(e):o.push(e)}}c.setDate(c.getDate()+1)}if(i.length>0||o.length>0){let e="Cannot create bulk reservation for ".concat(t,":\n\n");return i.length>0&&(e+="\u26a0\ufe0f Time slot ".concat(r," is already booked on:\n"),i.slice(0,5).forEach((t=>{e+="\u2022 ".concat(new Date(t).toLocaleDateString(),"\n")})),i.length>5&&(e+="\u2022 ...and ".concat(i.length-5," more dates\n")),e+="\n"),o.length>0&&(e+="\u274c Time slot ".concat(r," is not available on:\n"),o.slice(0,5).forEach((t=>{e+="\u2022 ".concat(new Date(t).toLocaleDateString(),"\n")})),o.length>5&&(e+="\u2022 ...and ".concat(o.length-5," more dates\n"))),e+="\nPlease adjust the date range, select different days, or choose a different time slot.",void Da(e,{type:"error",title:"Coach Availability Conflict",duration:1e4})}}catch(s){return console.error("Error checking coach availability:",s),void Da("Unable to verify coach availability. Please try again or contact support.",{type:"error",title:"Availability Check Failed",duration:6e3})}ke((e=>ze(ze({},e),{},{bulkReservations:!0})));try{const e=await ga.post("/api/admin/bulk-reservations",G),t=e.data.reservations||[];Array.isArray(t)&&(m((e=>[...t,...e])),d((e=>[...t,...e]))),Y({client_id:"",coach_id:"",start_date:"",end_date:"",time_slot:"",days_of_week:[],repeat_for_weeks:4}),V(!1);const n="sent"===e.data.email_notifications?" Email notifications have been sent to both the client and coach.":"";Da("Successfully created ".concat(t.length," reservations! ").concat(e.data.skipped||0," slots were skipped (already booked or unavailable).").concat(n),{type:"success",title:"Bulk Reservation Success",duration:7e3})}catch(s){var n,a;console.error("Error creating bulk reservations:",s),Da("Failed to create bulk reservations: ".concat((null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||s.message),{type:"error",title:"Error",duration:7e3})}finally{ke((e=>ze(ze({},e),{},{bulkReservations:!1})))}},children:[(0,ba.jsxs)("div",{className:"modal-body",children:[(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Client *"}),(0,ba.jsxs)("select",{className:"form-select",name:"client_id",value:G.client_id,onChange:Oe,required:!0,children:[(0,ba.jsx)("option",{value:"",children:"Select a client"}),f.map((e=>(0,ba.jsxs)("option",{value:e.id,children:[e.full_name||e.username," (",e.matricule,")"]},e.id)))]})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Coach *"}),(0,ba.jsxs)("select",{className:"form-select",name:"coach_id",value:G.coach_id,onChange:Oe,required:!0,children:[(0,ba.jsx)("option",{value:"",children:"Select a coach"}),h.map((e=>(0,ba.jsxs)("option",{value:e.id,children:[e.name," - ",e.specialty]},e.id)))]})]})})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Start Date *"}),(0,ba.jsx)("input",{type:"date",className:"form-control",name:"start_date",value:G.start_date,onChange:Oe,min:(new Date).toISOString().split("T")[0],required:!0})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"End Date *"}),(0,ba.jsx)("input",{type:"date",className:"form-control",name:"end_date",value:G.end_date,onChange:Oe,min:G.start_date||(new Date).toISOString().split("T")[0],required:!0})]})})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Time Slot *"}),(0,ba.jsxs)("select",{className:"form-select",name:"time_slot",value:G.time_slot,onChange:Oe,required:!0,children:[(0,ba.jsx)("option",{value:"",children:"Select a time"}),["06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00"].map((e=>(0,ba.jsx)("option",{value:e,children:e},e)))]})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Duration (weeks) *"}),(0,ba.jsxs)("select",{className:"form-select",name:"repeat_for_weeks",value:G.repeat_for_weeks,onChange:Oe,required:!0,children:[(0,ba.jsx)("option",{value:1,children:"1 week"}),(0,ba.jsx)("option",{value:2,children:"2 weeks"}),(0,ba.jsx)("option",{value:4,children:"1 month (4 weeks)"}),(0,ba.jsx)("option",{value:8,children:"2 months (8 weeks)"}),(0,ba.jsx)("option",{value:12,children:"3 months (12 weeks)"})]})]})})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Days of Week *"}),(0,ba.jsx)("div",{className:"row",children:[{value:1,name:"Monday"},{value:2,name:"Tuesday"},{value:3,name:"Wednesday"},{value:4,name:"Thursday"},{value:5,name:"Friday"},{value:6,name:"Saturday"},{value:0,name:"Sunday"}].map((e=>(0,ba.jsx)("div",{className:"col-md-3 col-6",children:(0,ba.jsxs)("div",{className:"form-check",children:[(0,ba.jsx)("input",{className:"form-check-input",type:"checkbox",name:"days_of_week",value:e.value,checked:G.days_of_week.includes(e.value),onChange:Oe}),(0,ba.jsx)("label",{className:"form-check-label",children:e.name})]})},e.value)))}),(0,ba.jsx)("small",{className:"text-muted",children:"Select the days of the week for recurring reservations."})]}),(0,ba.jsxs)("div",{className:"alert alert-warning",children:[(0,ba.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),(0,ba.jsx)("strong",{children:"Important:"}),(0,ba.jsxs)("ul",{className:"mb-0 mt-2",children:[(0,ba.jsx)("li",{children:"The system will check if the time slots exist for the selected coach"}),(0,ba.jsx)("li",{children:"Only available (non-booked) slots will be reserved"}),(0,ba.jsx)("li",{children:"1 point will be deducted from the client's account for each successful reservation"}),(0,ba.jsx)("li",{children:"If a client doesn't have enough points, reservations will stop"})]})]}),(0,ba.jsxs)("div",{className:"alert alert-info",children:[(0,ba.jsx)("i",{className:"fas fa-info-circle me-2"}),(0,ba.jsx)("strong",{children:"Preview:"}),G.client_id&&G.coach_id&&G.start_date&&G.end_date&&G.time_slot&&G.days_of_week.length>0?(()=>{const e=new Date(G.start_date),t=new Date(G.end_date),n=Math.ceil((t-e)/864e5),a=G.days_of_week.length,s=Math.ceil(n/7),l=Math.floor(s*a),r=f.find((e=>e.id==G.client_id)),i=h.find((e=>e.id==G.coach_id));return(0,ba.jsxs)("span",{children:["This will attempt to create approximately ",(0,ba.jsx)("strong",{children:l})," reservations for ",(0,ba.jsx)("strong",{children:(null===r||void 0===r?void 0:r.full_name)||(null===r||void 0===r?void 0:r.username)})," with"," ",(0,ba.jsx)("strong",{children:null===i||void 0===i?void 0:i.name})," at ",(0,ba.jsx)("strong",{children:G.time_slot}),"across ",(0,ba.jsx)("strong",{children:s})," weeks."]})})():(0,ba.jsx)("span",{children:"Fill in the form to see a preview of reservations to be created."})]})]}),(0,ba.jsxs)("div",{className:"modal-footer",children:[(0,ba.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>V(!1),children:"Cancel"}),(0,ba.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:we.bulkReservations,children:we.bulkReservations?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Creating Reservations..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-calendar-plus me-2"}),"Create Reservations"]})})]})]})]})})}),U&&(0,ba.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,ba.jsx)("div",{className:"modal-dialog modal-lg",children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",children:[(0,ba.jsxs)("h5",{className:"modal-title",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-plus me-2"}),"Bulk Create Time Slots"]}),(0,ba.jsx)("button",{type:"button",className:"btn-close",onClick:()=>B(!1)})]}),(0,ba.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),W.coach_id)if(W.start_date&&W.end_date)if(W.start_time&&W.end_time)if(0!==W.days_of_week.length)if(0!==W.session_types.length)if(W.start_time>=W.end_time)Da("End time must be after start time",{type:"warning",title:"Validation Error"});else if(new Date(W.end_date)<new Date(W.start_date))Da("End date must be after start date",{type:"warning",title:"Validation Error"});else{ke((e=>ze(ze({},e),{},{bulkTimeSlots:!0})));try{const e=(await ga.post("/api/coaches/bulk-availability",W)).data;E((t=>[...t,...e])),C((t=>[...t,...e])),q({coach_id:"",start_date:"",end_date:"",start_time:"",end_time:"",days_of_week:[],repeat_for_weeks:4,session_types:["normal"]}),B(!1),Da("Successfully created ".concat(e.length," time slots!"),{type:"success",title:"Bulk Creation Success",duration:5e3})}catch(a){var t,n;console.error("Error creating bulk availability:",a),Da("Failed to create bulk availability: ".concat((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||a.message),{type:"error",title:"Error",duration:7e3})}finally{ke((e=>ze(ze({},e),{},{bulkTimeSlots:!1})))}}else Da("Please select at least one session type",{type:"warning",title:"Validation Error"});else Da("Please select at least one day of the week",{type:"warning",title:"Validation Error"});else Da("Please select start and end times",{type:"warning",title:"Validation Error"});else Da("Please select start and end dates",{type:"warning",title:"Validation Error"});else Da("Please select a coach",{type:"warning",title:"Validation Error"})},children:[(0,ba.jsxs)("div",{className:"modal-body",children:[(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Coach *"}),(0,ba.jsxs)("select",{className:"form-select",name:"coach_id",value:W.coach_id,onChange:Re,required:!0,children:[(0,ba.jsx)("option",{value:"",children:"Select a coach"}),h.map((e=>(0,ba.jsxs)("option",{value:e.id,children:[e.name," - ",e.specialty]},e.id)))]})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Duration (weeks) *"}),(0,ba.jsxs)("select",{className:"form-select",name:"repeat_for_weeks",value:W.repeat_for_weeks,onChange:Re,required:!0,children:[(0,ba.jsx)("option",{value:1,children:"1 week"}),(0,ba.jsx)("option",{value:2,children:"2 weeks"}),(0,ba.jsx)("option",{value:4,children:"1 month (4 weeks)"}),(0,ba.jsx)("option",{value:8,children:"2 months (8 weeks)"}),(0,ba.jsx)("option",{value:12,children:"3 months (12 weeks)"})]})]})})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Start Date *"}),(0,ba.jsx)("input",{type:"date",className:"form-control",name:"start_date",value:W.start_date,onChange:Re,min:(new Date).toISOString().split("T")[0],required:!0})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"End Date *"}),(0,ba.jsx)("input",{type:"date",className:"form-control",name:"end_date",value:W.end_date,onChange:Re,min:W.start_date||(new Date).toISOString().split("T")[0],required:!0})]})})]}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Start Time *"}),(0,ba.jsx)("input",{type:"time",className:"form-control",name:"start_time",value:W.start_time,onChange:Re,required:!0})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"End Time *"}),(0,ba.jsx)("input",{type:"time",className:"form-control",name:"end_time",value:W.end_time,onChange:Re,required:!0})]})})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Types de S\xe9ances \xe0 Cr\xe9er *"}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"form-check",children:[(0,ba.jsx)("input",{className:"form-check-input",type:"checkbox",name:"session_types",value:"normal",checked:W.session_types.includes("normal"),onChange:Re}),(0,ba.jsxs)("label",{className:"form-check-label",children:[(0,ba.jsx)("strong",{children:"S\xe9ances Normales"})," (55 minutes)",(0,ba.jsx)("br",{}),(0,ba.jsx)("small",{className:"text-muted",children:"Sessions de coaching standard"})]})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"form-check",children:[(0,ba.jsx)("input",{className:"form-check-input",type:"checkbox",name:"session_types",value:"bilan",checked:W.session_types.includes("bilan"),onChange:Re}),(0,ba.jsxs)("label",{className:"form-check-label",children:[(0,ba.jsx)("strong",{children:"S\xe9ances Bilan"})," (30 minutes)",(0,ba.jsx)("br",{}),(0,ba.jsx)("small",{className:"text-muted",children:"Sessions d'\xe9valuation gratuites"})]})]})})]}),(0,ba.jsxs)("small",{className:"text-info",children:[(0,ba.jsx)("i",{className:"fas fa-info-circle me-1"}),"Vous pouvez s\xe9lectionner les deux types pour cr\xe9er des cr\xe9neaux pour les deux types de s\xe9ances."]})]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("label",{className:"form-label",children:"Days of Week *"}),(0,ba.jsx)("div",{className:"row",children:[{value:1,name:"Monday"},{value:2,name:"Tuesday"},{value:3,name:"Wednesday"},{value:4,name:"Thursday"},{value:5,name:"Friday"},{value:6,name:"Saturday"},{value:0,name:"Sunday"}].map((e=>(0,ba.jsx)("div",{className:"col-md-3 col-6",children:(0,ba.jsxs)("div",{className:"form-check",children:[(0,ba.jsx)("input",{className:"form-check-input",type:"checkbox",name:"days_of_week",value:e.value,checked:W.days_of_week.includes(e.value),onChange:Re}),(0,ba.jsx)("label",{className:"form-check-label",children:e.name})]})},e.value)))}),(0,ba.jsx)("small",{className:"text-muted",children:"Select the days of the week when the coach will be available."})]}),(0,ba.jsxs)("div",{className:"alert alert-info",children:[(0,ba.jsx)("i",{className:"fas fa-info-circle me-2"}),(0,ba.jsx)("strong",{children:"Preview:"}),W.coach_id&&W.start_date&&W.end_date&&W.start_time&&W.end_time&&W.days_of_week.length>0?(()=>{const e=new Date(W.start_date),t=new Date(W.end_date),n=Math.ceil((t-e)/864e5),a=W.days_of_week.length,s=Math.ceil(n/7),l=new Date("2000-01-01T".concat(W.start_time)),r=(new Date("2000-01-01T".concat(W.end_time))-l)/36e5,i=Math.floor(2*r),o=Math.floor(s*a*i);return(0,ba.jsxs)("span",{children:["This will create approximately ",(0,ba.jsx)("strong",{children:o})," time slots across ",(0,ba.jsx)("strong",{children:s})," weeks for"," ",(0,ba.jsx)("strong",{children:a})," day(s) per week."]})})():(0,ba.jsx)("span",{children:"Fill in the form to see a preview of how many slots will be created."}),(0,ba.jsx)("br",{}),(0,ba.jsxs)("small",{className:"mt-2 d-block",children:[(0,ba.jsx)("strong",{children:"Note:"})," The selected time period will be automatically divided into 55-minute slots with 5-minute breaks."]})]})]}),(0,ba.jsxs)("div",{className:"modal-footer",children:[(0,ba.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>B(!1),children:"Cancel"}),(0,ba.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:we.bulkTimeSlots,children:we.bulkTimeSlots?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Creating Time Slots..."]}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("i",{className:"fas fa-calendar-plus me-2"}),"Create Time Slots"]})})]})]})]})})})]})]})},qu=(0,a.createContext)(),Hu=e=>{let{children:t}=e;const[n,s]=(0,a.useState)({show:!1,message:"",type:"info"});return(0,ba.jsx)(qu.Provider,{value:{toast:n,showToast:(e,t)=>{s({show:!0,message:t,type:e}),setTimeout((()=>{s((e=>ze(ze({},e),{},{show:!1})))}),5e3)},hideToast:()=>{s((e=>ze(ze({},e),{},{show:!1})))}},children:t})},Vu=e=>{let{availability:t}=e;const[n,s]=(0,a.useState)([]),[l,r]=(0,a.useState)([]),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)({}),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)([]),[f,x]=(0,a.useState)("future"),[v,g]=(0,a.useState)(""),[b,j]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=t.filter((e=>e.is_booked&&(!e.status||"cancelled"!==e.status)&&e.client_name&&"Unknown Client"!==e.client_name));s(e),y(),N(e,"future")}),[t]);const y=async()=>{try{const e=localStorage.getItem("coachToken");e&&(ua.defaults.headers.common.Authorization="Bearer ".concat(e));const t=await ua.get("/api/coach-dashboard/reservations");p(t.data)}catch(e){console.error("Error fetching reservations:",e)}};(0,a.useEffect)((()=>{N(n,f)}),[f,v,b,n]);const N=(e,t)=>{const n=new Date,a=new Date;a.setHours(0,0,0,0);let s=[];switch(t){case"today":s=e.filter((e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t.getTime()===a.getTime()}));break;case"future":s=e.filter((e=>{const t=new Date(e.date),[a,s]=e.start_time.split(":").map(Number);return t.setHours(a,s,0,0),t>=n}));break;case"past":s=e.filter((e=>{const t=new Date(e.date),[a,s]=e.start_time.split(":").map(Number);return t.setHours(a,s,0,0),t<n}));break;case"date":if(v){const t=new Date(v);t.setHours(0,0,0,0),s=e.filter((e=>{const n=new Date(e.date);return n.setHours(0,0,0,0),n.getTime()===t.getTime()}))}else s=e;break;default:s=e}r(s);const l=s.reduce(((e,t)=>{const n=t.date;return e[n]||(e[n]=[]),e[n].push(t),e}),{});Object.keys(l).forEach((e=>{l[e].sort(((e,t)=>e.start_time.localeCompare(t.start_time)))})),d(l)},w=e=>{x(e),m(!1),o(null),"today"===e&&g((new Date).toISOString().split("T")[0])},k=e=>{g(e),x("date"),m(!1),o(null)},S=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),C=e=>{const[t,n]=e.split(":"),a=new Date;return a.setHours(parseInt(t),parseInt(n)),a.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},_=()=>{m(!1),o(null)};return 0===n.length?(0,ba.jsx)("div",{className:"coach-availability-empty",children:(0,ba.jsxs)("div",{className:"empty-state",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-check fa-3x text-muted mb-3"}),(0,ba.jsx)("h4",{className:"text-muted",children:"No Booked Sessions"}),(0,ba.jsx)("p",{className:"text-muted",children:"You don't have any booked sessions at the moment."})]})}):(0,ba.jsxs)("div",{className:"coach-availability-container",children:[(0,ba.jsx)("div",{className:"mb-4",children:(0,ba.jsx)("div",{className:"card shadow-sm",children:(0,ba.jsx)("div",{className:"card-body p-3",children:(0,ba.jsxs)("div",{className:"row align-items-center",children:[(0,ba.jsx)("div",{className:"col-md-auto",children:(0,ba.jsxs)("h6",{className:"card-title mb-3 mb-md-0",children:[(0,ba.jsx)("i",{className:"fas fa-filter me-2"}),"Filter Sessions"]})}),(0,ba.jsx)("div",{className:"col-md d-none d-md-block",children:(0,ba.jsxs)("div",{className:"row g-2 align-items-center",children:[(0,ba.jsx)("div",{className:"col-auto",children:(0,ba.jsxs)("button",{className:"btn btn-sm ".concat("today"===f?"btn-primary":"btn-outline-primary"),onClick:()=>w("today"),children:[(0,ba.jsx)("i",{className:"fas fa-calendar-day me-1"}),"Today"]})}),(0,ba.jsx)("div",{className:"col-auto",children:(0,ba.jsxs)("button",{className:"btn btn-sm ".concat("future"===f?"btn-success":"btn-outline-success"),onClick:()=>w("future"),children:[(0,ba.jsx)("i",{className:"fas fa-arrow-right me-1"}),"Future"]})}),(0,ba.jsx)("div",{className:"col-auto",children:(0,ba.jsxs)("div",{className:"input-group input-group-sm",style:{width:"200px"},children:[(0,ba.jsx)("span",{className:"input-group-text",children:(0,ba.jsx)("i",{className:"fas fa-calendar-alt"})}),(0,ba.jsx)("input",{type:"date",className:"form-control",value:v,onChange:e=>k(e.target.value),placeholder:"Select date"}),v&&(0,ba.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>{g(""),x("future")},children:(0,ba.jsx)("i",{className:"fas fa-times"})})]})}),(0,ba.jsx)("div",{className:"col-auto",children:(0,ba.jsxs)("div",{className:"form-check",children:[(0,ba.jsx)("input",{className:"form-check-input",type:"checkbox",id:"showPastDesktop",checked:"past"===f,onChange:e=>{e.target.checked?w("past"):w("future")}}),(0,ba.jsxs)("label",{className:"form-check-label text-muted",htmlFor:"showPastDesktop",children:[(0,ba.jsx)("i",{className:"fas fa-history me-1"}),"Past sessions"]})]})}),(0,ba.jsx)("div",{className:"col-auto",children:(0,ba.jsxs)("small",{className:"text-muted",children:[l.length," of ",n.length," sessions","today"===f&&" for today","future"===f&&" (upcoming)","past"===f&&" (completed)","date"===f&&v&&" for ".concat(new Date(v).toLocaleDateString())]})})]})}),(0,ba.jsxs)("div",{className:"col-12 d-block d-md-none",children:[(0,ba.jsxs)("div",{className:"row g-2 mb-3",children:[(0,ba.jsx)("div",{className:"col-6",children:(0,ba.jsxs)("button",{className:"btn btn-sm w-100 ".concat("today"===f?"btn-primary":"btn-outline-primary"),onClick:()=>w("today"),children:[(0,ba.jsx)("i",{className:"fas fa-calendar-day me-1"}),"Today"]})}),(0,ba.jsx)("div",{className:"col-6",children:(0,ba.jsxs)("button",{className:"btn btn-sm w-100 ".concat("future"===f?"btn-success":"btn-outline-success"),onClick:()=>w("future"),children:[(0,ba.jsx)("i",{className:"fas fa-arrow-right me-1"}),"Future"]})})]}),(0,ba.jsx)("div",{className:"row g-2 mb-3",children:(0,ba.jsx)("div",{className:"col-12",children:(0,ba.jsxs)("div",{className:"input-group input-group-sm",children:[(0,ba.jsx)("span",{className:"input-group-text",children:(0,ba.jsx)("i",{className:"fas fa-calendar-alt"})}),(0,ba.jsx)("input",{type:"date",className:"form-control",value:v,onChange:e=>k(e.target.value),placeholder:"Select specific date"}),v&&(0,ba.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>{g(""),x("future")},children:(0,ba.jsx)("i",{className:"fas fa-times"})})]})})}),(0,ba.jsxs)("div",{className:"form-check",children:[(0,ba.jsx)("input",{className:"form-check-input",type:"checkbox",id:"showPastMobile",checked:"past"===f,onChange:e=>{e.target.checked?w("past"):w("future")}}),(0,ba.jsxs)("label",{className:"form-check-label text-muted",htmlFor:"showPastMobile",children:[(0,ba.jsx)("i",{className:"fas fa-history me-1"}),"Show past sessions"]})]}),(0,ba.jsx)("div",{className:"mt-2",children:(0,ba.jsxs)("small",{className:"text-muted",children:["Showing ",l.length," of ",n.length," sessions","today"===f&&" for today","future"===f&&" (upcoming)","past"===f&&" (completed)","date"===f&&v&&" for ".concat(new Date(v).toLocaleDateString())]})})]})]})})})}),(0,ba.jsx)("div",{className:"row",children:(0,ba.jsxs)("div",{className:"col-12",children:[(0,ba.jsx)("div",{className:"busy-sessions-header",children:(0,ba.jsxs)("h4",{className:"section-title",children:[(0,ba.jsx)("i",{className:"fas fa-clock me-2"}),"Booked Sessions (",l.length,")"]})}),0===Object.keys(c).length?(0,ba.jsx)("div",{className:"no-sessions",children:(0,ba.jsxs)("div",{className:"text-center p-4",children:[(0,ba.jsx)("i",{className:"fas fa-search fa-2x text-muted mb-3"}),(0,ba.jsx)("h5",{className:"text-muted",children:"No sessions found"}),(0,ba.jsxs)("p",{className:"text-muted mb-0",children:["today"===f&&"No sessions scheduled for today.","future"===f&&"No upcoming sessions found.","past"===f&&"No past sessions found.","date"===f&&v&&"No sessions found for ".concat(new Date(v).toLocaleDateString(),".")]}),window.innerWidth<768&&(0,ba.jsxs)("button",{className:"btn btn-outline-primary btn-sm mt-2",onClick:()=>w("future"),children:[(0,ba.jsx)("i",{className:"fas fa-arrow-left me-1"}),"Show all upcoming"]})]})}):Object.entries(c).sort(((e,t)=>{let[n]=e,[a]=t;return new Date(n)-new Date(a)})).map((e=>{let[t,n]=e;return(0,ba.jsxs)("div",{className:"date-group mb-4",children:[(0,ba.jsxs)("div",{className:"date-header",children:[(0,ba.jsx)("h5",{className:"date-title",children:S(t)}),(0,ba.jsxs)("span",{className:"session-count",children:[n.length," session",1!==n.length?"s":""]})]}),(0,ba.jsx)("div",{className:"time-slots-row",children:n.map(((e,n)=>{const a=((e,t)=>{const n=new Date,a=new Date(e),[s,l]=t.split(":").map(Number);return a.setHours(s,l,0,0),a<n})(e.date,e.start_time);return(0,ba.jsxs)("div",{className:"time-slot-card ".concat(a?"past-session":""),onClick:()=>(e=>{const t=h.find((t=>t.date===e.date&&t.time===e.start_time));o({name:e.client_name||"N/A",email:e.client_email||"N/A",phone:e.client_phone||"N/A",age:e.client_age||"N/A",gender:e.client_gender||"N/A",goal:e.client_goal||"N/A",date:e.date,time:e.start_time,duration:e.duration||60,reservation:t}),m(!0)})(e),style:{cursor:"pointer"},children:[(0,ba.jsxs)("div",{className:"time-slot-time",children:[C(e.start_time),a&&(0,ba.jsx)("span",{className:"past-indicator",children:"COMPLETED"})]}),(0,ba.jsxs)("div",{className:"time-slot-client",children:[(0,ba.jsx)("i",{className:"fas fa-user me-1"}),e.client_name||"Unknown Client"]}),(0,ba.jsxs)("div",{className:"time-slot-duration",children:[(0,ba.jsx)("i",{className:"fas fa-hourglass-half me-1"}),e.duration||60,"min"]})]},"".concat(t,"-").concat(e.start_time,"-").concat(n))}))})]},t)}))]})}),u&&i&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"modal-backdrop fade show",style:{zIndex:1040}}),(0,ba.jsx)("div",{className:"modal fade show",style:{display:"block",zIndex:1050},tabIndex:"-1",children:(0,ba.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:(0,ba.jsxs)("div",{className:"modal-content shadow-lg",children:[(0,ba.jsxs)("div",{className:"modal-header",children:[(0,ba.jsxs)("h5",{className:"modal-title text-white",children:[(0,ba.jsx)("i",{className:"fas fa-user-circle me-2"}),"Client Details"]}),(0,ba.jsx)("button",{type:"button",className:"btn-close btn-close-white",onClick:_,"aria-label":"Close"})]}),(0,ba.jsxs)("div",{className:"modal-body p-4",children:[(0,ba.jsxs)("div",{className:"info-card mb-4",children:[(0,ba.jsxs)("div",{className:"info-card-header",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-check me-2"}),"Session Details"]}),(0,ba.jsx)("div",{className:"info-card-body",children:(0,ba.jsxs)("div",{className:"row g-3",children:[(0,ba.jsx)("div",{className:"col-md-4",children:(0,ba.jsxs)("div",{className:"info-field",children:[(0,ba.jsxs)("div",{className:"info-label",children:[(0,ba.jsx)("i",{className:"fas fa-calendar text-primary me-2"}),"Date"]}),(0,ba.jsx)("div",{className:"info-value",children:S(i.date)})]})}),(0,ba.jsx)("div",{className:"col-md-4",children:(0,ba.jsxs)("div",{className:"info-field",children:[(0,ba.jsxs)("div",{className:"info-label",children:[(0,ba.jsx)("i",{className:"fas fa-clock text-primary me-2"}),"Time"]}),(0,ba.jsx)("div",{className:"info-value",children:C(i.time)})]})}),(0,ba.jsx)("div",{className:"col-md-4",children:(0,ba.jsxs)("div",{className:"info-field",children:[(0,ba.jsxs)("div",{className:"info-label",children:[(0,ba.jsx)("i",{className:"fas fa-hourglass-half text-primary me-2"}),"Duration"]}),(0,ba.jsxs)("div",{className:"info-value",children:[i.duration," minutes"]})]})})]})})]}),(0,ba.jsxs)("div",{className:"info-card",children:[(0,ba.jsxs)("div",{className:"info-card-header",children:[(0,ba.jsx)("i",{className:"fas fa-user me-2"}),"Client Information"]}),(0,ba.jsx)("div",{className:"info-card-body",children:(0,ba.jsxs)("div",{className:"row g-4",children:[(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"info-field",children:[(0,ba.jsxs)("div",{className:"info-label",children:[(0,ba.jsx)("i",{className:"fas fa-id-card text-muted me-2"}),"Full Name"]}),(0,ba.jsx)("div",{className:"info-value",children:i.name})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"info-field",children:[(0,ba.jsxs)("div",{className:"info-label",children:[(0,ba.jsx)("i",{className:"fas fa-birthday-cake text-muted me-2"}),"Age"]}),(0,ba.jsxs)("div",{className:"info-value",children:[i.age," years"]})]})}),(0,ba.jsx)("div",{className:"col-12",children:(0,ba.jsxs)("div",{className:"info-field",children:[(0,ba.jsxs)("div",{className:"info-label",children:[(0,ba.jsx)("i",{className:"fas fa-envelope text-muted me-2"}),"Email Address"]}),(0,ba.jsx)("div",{className:"info-value email-value",children:(0,ba.jsx)("a",{href:"mailto:".concat(i.email),className:"text-decoration-none",children:i.email})})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"info-field",children:[(0,ba.jsxs)("div",{className:"info-label",children:[(0,ba.jsx)("i",{className:"fas fa-phone text-muted me-2"}),"Phone Number"]}),(0,ba.jsx)("div",{className:"info-value",children:(0,ba.jsx)("a",{href:"tel:".concat(i.phone),className:"text-decoration-none",children:i.phone})})]})}),(0,ba.jsx)("div",{className:"col-md-6",children:(0,ba.jsxs)("div",{className:"info-field",children:[(0,ba.jsxs)("div",{className:"info-label",children:[(0,ba.jsx)("i",{className:"fas fa-venus-mars text-muted me-2"}),"Gender"]}),(0,ba.jsx)("div",{className:"info-value",children:i.gender})]})}),(0,ba.jsx)("div",{className:"col-12",children:(0,ba.jsxs)("div",{className:"info-field",children:[(0,ba.jsxs)("div",{className:"info-label",children:[(0,ba.jsx)("i",{className:"fas fa-target text-muted me-2"}),"Training Goal"]}),(0,ba.jsx)("div",{className:"info-value goal-value",children:i.goal})]})})]})})]})]}),(0,ba.jsx)("div",{className:"modal-footer bg-light",children:(0,ba.jsxs)("button",{type:"button",className:"btn btn-primary btn-lg w-100",onClick:_,children:[(0,ba.jsx)("i",{className:"fas fa-times me-2"}),"Close"]})})]})})})]})]})},Gu=e=>{let{availability:t}=e;const[n,s]=(0,a.useState)(new Date),[l,r]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),[f,x]=(0,a.useState)(new Set),[v,g]=(0,a.useState)(new Set),[b,j]=(0,a.useState)(!1),y=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=new Set,n=new Set;t.forEach((t=>{const a=new Date(t.date).toDateString();t.is_booked&&"cancelled"!==t.status?e.add(a):t.is_booked||n.add(a)})),x(e),g(n),window.innerWidth<768&&setTimeout((()=>{const e=document.querySelector(".coach-calendar-container");e&&(e.style.minHeight="500px",e.style.height="auto",e.style.overflow="visible")}),100)}),[t]);const N=e=>{const[t,n]=e.split(":"),a=new Date;return a.setHours(parseInt(t),parseInt(n)),a.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},w=e=>e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),k=e=>{s((t=>{const n=new Date(t);return n.setMonth(n.getMonth()+e),n})),r(null),o([]),d([])},S=e=>{const t=new Date;return e.toDateString()===t.toDateString()},C=e=>f.has(e.toDateString()),_=e=>v.has(e.toDateString()),E=(e=>{const t=e.getFullYear(),n=e.getMonth(),a=new Date(t,n,1),s=new Date(t,n+1,0),l=new Date(a);l.setDate(l.getDate()-a.getDay());const r=[],i=new Date(l);for(;i<=s||r.length%7!==0;)r.push(new Date(i)),i.setDate(i.getDate()+1);return r})(n);return(0,ba.jsxs)("div",{className:"coach-calendar-container",children:[(0,ba.jsxs)("div",{className:"modern-layout",children:[(0,ba.jsx)("div",{className:"calendar-sidebar",children:(0,ba.jsxs)("div",{className:"mini-calendar",children:[(0,ba.jsxs)("div",{className:"mini-calendar-header",children:[(0,ba.jsx)("button",{className:"nav-btn",onClick:()=>k(-1),children:(0,ba.jsx)("i",{className:"fas fa-chevron-left"})}),(0,ba.jsxs)("h6",{className:"mini-calendar-title",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]," ",n.getFullYear()]}),(0,ba.jsx)("button",{className:"nav-btn",onClick:()=>k(1),children:(0,ba.jsx)("i",{className:"fas fa-chevron-right"})})]}),(0,ba.jsxs)("div",{className:"mini-calendar-grid",children:[(0,ba.jsx)("div",{className:"mini-calendar-weekdays",children:["S","M","T","W","T","F","S"].map(((e,t)=>(0,ba.jsx)("div",{className:"mini-weekday",children:e},t)))}),(0,ba.jsx)("div",{className:"mini-calendar-days",children:E.map(((e,a)=>{return(0,ba.jsxs)("div",{className:"mini-day ".concat((s=e,s.getMonth()!==n.getMonth()?"other-month":"")," ").concat(S(e)?"today":""," ").concat(C(e)?"has-sessions":""," ").concat(_(e)?"has-available":""," ").concat(l&&l.toDateString()===e.toDateString()?"selected":""),onClick:()=>(e=>{j(!0);const n=e.toISOString().split("T")[0],a=t.filter((e=>e.date.split("T")[0]===n&&"cancelled"!==e.status)),s=a.filter((e=>e.is_booked)),l=a.filter((e=>!e.is_booked));r(e),setTimeout((()=>{o(s.sort(((e,t)=>e.start_time.localeCompare(t.start_time)))),d(l.sort(((e,t)=>e.start_time.localeCompare(t.start_time)))),j(!1),window.innerWidth<768&&y.current&&y.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}),300)})(e),children:[(0,ba.jsx)("span",{className:"mini-day-number",children:e.getDate()}),C(e)&&(0,ba.jsx)("div",{className:"mini-session-dot booked"}),_(e)&&(0,ba.jsx)("div",{className:"mini-session-dot available"})]},a);var s}))})]}),(0,ba.jsxs)("div",{className:"calendar-legend",children:[(0,ba.jsxs)("div",{className:"legend-item",children:[(0,ba.jsx)("div",{className:"legend-dot booked"}),(0,ba.jsx)("span",{className:"legend-text",children:"Booked Sessions"})]}),(0,ba.jsxs)("div",{className:"legend-item",children:[(0,ba.jsx)("div",{className:"legend-dot available"}),(0,ba.jsx)("span",{className:"legend-text",children:"Available Slots"})]})]})]})}),(0,ba.jsx)("div",{className:"timeline-main",ref:y,children:l?(0,ba.jsxs)("div",{className:"timeline-view",children:[(0,ba.jsxs)("div",{className:"timeline-header",children:[(0,ba.jsxs)("div",{className:"timeline-date-info",children:[(0,ba.jsx)("h4",{className:"timeline-date-title",children:w(l)}),(0,ba.jsxs)("div",{className:"session-counts",children:[(0,ba.jsxs)("span",{className:"session-count-badge booked",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-check me-1"}),i.length," Booked"]}),(0,ba.jsxs)("span",{className:"session-count-badge available",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-plus me-1"}),c.length," Available"]})]})]}),(0,ba.jsxs)("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>r(null),children:[(0,ba.jsx)("i",{className:"fas fa-times me-1"})," Close"]})]}),(0,ba.jsx)("div",{className:"modern-timeline-wrapper",children:b?(0,ba.jsxs)("div",{className:"loading-container",children:[(0,ba.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,ba.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,ba.jsx)("p",{className:"mt-2",children:"Loading schedule..."})]}):(()=>{if(0===[...i,...c].length)return(0,ba.jsxs)("div",{className:"no-sessions",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-xmark fa-2x text-muted mb-2"}),(0,ba.jsx)("p",{className:"text-muted",children:"No sessions or availability for this day"})]});const e=[];for(let a=8;a<=22;a+=1)e.push(a);const t={};e.forEach((e=>{t[e]={booked:[],available:[]}})),i.forEach((e=>{const[n]=e.start_time.split(":").map(Number);t[n]&&t[n].booked.push(e)})),c.forEach((e=>{const[n]=e.start_time.split(":").map(Number);t[n]&&t[n].available.push(e)}));const n=e=>0===e?"12 AM":12===e?"12 PM":e>12?"".concat(e-12," PM"):"".concat(e," AM");return(0,ba.jsxs)("div",{className:"time-slot-grid",children:[(0,ba.jsx)("div",{className:"time-column",children:e.map((e=>(0,ba.jsx)("div",{className:"time-slot",children:n(e)},"time-".concat(e))))}),(0,ba.jsxs)("div",{className:"availability-column",children:[(()=>{const e=new Date,t=e.getTime()+6e4*e.getTimezoneOffset(),n=new Date(t+36e5).getHours();return n>=8&&n<=22&&S(l)})()&&(0,ba.jsx)("div",{className:"current-time-marker",style:{top:"".concat((()=>{const t=new Date,n=t.getTime()+6e4*t.getTimezoneOffset(),a=new Date(n+36e5),s=a.getHours(),l=a.getMinutes(),r=e.indexOf(s);if(-1===r)return null;return 80*r+80*(l/60)})(),"px")},children:(0,ba.jsx)("div",{className:"current-time-label",children:(()=>{const e=new Date,t=e.getTime()+6e4*e.getTimezoneOffset(),n=new Date(t+36e5),a=n.getHours().toString().padStart(2,"0"),s=n.getMinutes().toString().padStart(2,"0");return"Now: ".concat(a,":").concat(s)})()})}),e.map((e=>{const n=t[e],a=n.booked.length>0,s=n.available.length>0;let l="empty";return a&&s?l="mixed":a?l="booked":s&&(l="available"),(0,ba.jsx)("div",{className:"availability-slot",children:(a||s)&&(0,ba.jsxs)("div",{className:"availability-indicator ".concat(l),children:[n.booked.map(((t,n)=>{const a=((e,t)=>{const n=new Date,a=n.getTime()+6e4*n.getTimezoneOffset(),s=new Date(a+36e5),l=new Date(e),[r,i]=t.split(":").map(Number);return l.setHours(r,i,0,0),l<s})(t.date,t.start_time),s="completed"===t.status,l=s||a;return(0,ba.jsxs)("div",{className:"time-slot-tag booked ".concat(l?"completed":""," ").concat(a?"passed":""),onClick:e=>((e,t)=>{if(!e.is_booked)return;let n=60;if(e.start_time&&e.end_time){const[t,a]=e.start_time.split(":").map(Number),[s,l]=e.end_time.split(":").map(Number);n=60*s+l-(60*t+a)}else e.duration&&(n=e.duration);const a=t?t.currentTarget:null;a&&(a.classList.add("pulse-animation"),setTimeout((()=>{a.classList.remove("pulse-animation")}),500)),p({name:e.client_name||"N/A",email:e.client_email||"N/A",phone:e.client_phone||"N/A",age:e.client_age||"N/A",gender:e.client_gender||"N/A",goal:e.client_goal||"N/A",date:e.date,time:e.start_time,duration:n}),m(!0)})(t,e),title:"".concat(a?"Passed session":s?"Completed session":"Upcoming session"," - Click to view details"),children:[N(t.start_time)," - ",t.client_name||"Client",a&&(0,ba.jsx)("span",{className:"passed-badge",children:"Passed"}),s&&!a&&(0,ba.jsx)("span",{className:"completed-badge",children:"\u2713"})]},"booked-".concat(e,"-").concat(n))})),n.available.map(((t,n)=>(0,ba.jsxs)("div",{className:"time-slot-tag available",children:[N(t.start_time)," - Available"]},"available-".concat(e,"-").concat(n))))]})},"slot-".concat(e))}))]})]})})()})]}):(0,ba.jsx)("div",{className:"welcome-view",children:(0,ba.jsxs)("div",{className:"welcome-content",children:[(0,ba.jsx)("div",{className:"welcome-icon",children:(0,ba.jsx)("i",{className:"fas fa-calendar-alt fa-4x text-primary mb-3"})}),(0,ba.jsx)("h4",{className:"welcome-title",children:"Your Coaching Schedule"}),(0,ba.jsx)("p",{className:"welcome-text",children:"Select any date from the calendar to view and manage your sessions."}),(0,ba.jsxs)("div",{className:"legend-container",children:[(0,ba.jsxs)("div",{className:"legend-item",children:[(0,ba.jsx)("div",{className:"legend-color booked"}),(0,ba.jsx)("span",{children:"Booked Sessions"})]}),(0,ba.jsxs)("div",{className:"legend-item",children:[(0,ba.jsx)("div",{className:"legend-color available"}),(0,ba.jsx)("span",{children:"Available Slots"})]}),(0,ba.jsxs)("div",{className:"legend-item",children:[(0,ba.jsx)("div",{className:"legend-color today"}),(0,ba.jsx)("span",{children:"Today"})]})]})]})})})]}),u&&h&&(0,ba.jsx)("div",{className:"modal d-block client-details-modal",style:{backgroundColor:"rgba(0,0,0,0.6)"},children:(0,ba.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,ba.jsxs)("div",{className:"modal-content",children:[(0,ba.jsxs)("div",{className:"modal-header",children:[(0,ba.jsxs)("h5",{className:"modal-title",children:[(0,ba.jsx)("i",{className:"fas fa-user-circle me-2"}),"Client Details"]}),(0,ba.jsx)("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>m(!1),"aria-label":"Close"})]}),(0,ba.jsxs)("div",{className:"modal-body p-0",children:[(0,ba.jsxs)("div",{className:"session-info-banner",children:[(0,ba.jsxs)("div",{className:"session-date-time",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-day me-2"}),w(new Date(h.date))," at ",N(h.time)]}),(0,ba.jsxs)("div",{className:"session-duration",children:[(0,ba.jsx)("i",{className:"fas fa-clock me-2"}),h.duration," minutes"]})]}),(0,ba.jsxs)("div",{className:"client-info-section",children:[(0,ba.jsxs)("div",{className:"client-name",children:[(0,ba.jsx)("i",{className:"fas fa-user me-2"}),h.name]}),(0,ba.jsxs)("div",{className:"contact-info",children:[(0,ba.jsxs)("div",{className:"contact-item",children:[(0,ba.jsx)("i",{className:"fas fa-envelope me-2"}),h.email]}),(0,ba.jsxs)("div",{className:"contact-item",children:[(0,ba.jsx)("i",{className:"fas fa-phone me-2"}),h.phone]})]}),(0,ba.jsxs)("div",{className:"additional-info",children:[(0,ba.jsxs)("div",{className:"additional-item",children:[(0,ba.jsx)("span",{className:"info-tag",children:"Age"}),(0,ba.jsxs)("span",{children:[h.age," years"]})]}),(0,ba.jsxs)("div",{className:"additional-item",children:[(0,ba.jsx)("span",{className:"info-tag",children:"Gender"}),(0,ba.jsx)("span",{children:h.gender})]}),(0,ba.jsxs)("div",{className:"additional-item full-width",children:[(0,ba.jsx)("span",{className:"info-tag",children:"Goal"}),(0,ba.jsx)("span",{children:h.goal})]})]})]})]}),(0,ba.jsx)("div",{className:"modal-footer",children:(0,ba.jsx)("button",{type:"button",className:"btn btn-primary btn-block w-100",onClick:()=>m(!1),children:"Close"})})]})})})]})},Yu=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[l,r]=(0,a.useState)(!1),[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)("");(0,a.useEffect)((()=>{console.log("Modal visibility state:",l)}),[l]),(0,a.useEffect)((()=>{f()}),[]),(0,a.useEffect)((()=>{const e=localStorage.getItem("coachToken");e&&(ua.defaults.headers.common.Authorization="Bearer ".concat(e))}),[]);const f=async()=>{try{s(!0);const e=await ua.get("/api/coach-dashboard/clients");t(e.data)}catch(e){console.error("Error fetching clients:",e),alert("Erreur lors du chargement des clients")}finally{s(!1)}},x=e=>{console.log("Handling Add Bilan for client:",e),o(e),d(e.bilan||""),r(!0),console.log("Modal should now be visible:",!0)},v=()=>{console.log("Closing modal"),r(!1),d(""),o(null),console.log("Modal state after close:",!1)},g=e.filter((e=>e.full_name.toLowerCase().includes(h.toLowerCase())||e.email.toLowerCase().includes(h.toLowerCase()))),b=e=>{if(!e)return"Aucun";const t=new Date(e),n=t.getTime()+6e4*t.getTimezoneOffset(),a=new Date(n+36e5);return new Intl.DateTimeFormat("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(a)};return n?(0,ba.jsx)("div",{className:"coach-client-management",children:(0,ba.jsx)("div",{className:"loading",children:"Chargement des clients..."})}):(0,ba.jsxs)("div",{className:"coach-client-management",children:[(0,ba.jsxs)("div",{className:"header",children:[(0,ba.jsxs)("div",{className:"search-container",children:[(0,ba.jsx)("input",{type:"text",placeholder:"Rechercher un client...",value:h,onChange:e=>p(e.target.value),className:"search-input"}),(0,ba.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"})]}),e.length>0&&(0,ba.jsx)("button",{onClick:()=>x(e[0]),style:{background:"red",color:"white",padding:"10px",marginTop:"10px",display:"none"},children:"Test Modal"})]}),0===g.length?(0,ba.jsx)("div",{className:"no-clients",children:h?"Aucun client trouv\xe9 avec ces crit\xe8res":"Aucun client n'a encore r\xe9serv\xe9 avec vous"}):(0,ba.jsx)("div",{className:"clients-grid",children:g.map((e=>(0,ba.jsxs)("div",{className:"client-card",children:[(0,ba.jsxs)("div",{className:"client-header",children:[(0,ba.jsx)("h3",{children:e.full_name}),(0,ba.jsx)("span",{className:"client-email",children:e.email})]}),(0,ba.jsxs)("div",{className:"client-info",children:[(0,ba.jsxs)("div",{className:"info-row",children:[(0,ba.jsxs)("span",{className:"label",children:[(0,ba.jsx)("i",{className:"info-icon objective-icon",children:"\ud83c\udfaf"}),"Objectif:"]}),(0,ba.jsx)("span",{className:"value",children:e.goal||"Non d\xe9fini"})]}),(0,ba.jsxs)("div",{className:"info-row",children:[(0,ba.jsxs)("span",{className:"label",children:[(0,ba.jsx)("i",{className:"info-icon sessions-icon",children:"\ud83d\udcca"}),"Sessions totales:"]}),(0,ba.jsx)("span",{className:"value",children:e.total_sessions})]}),(0,ba.jsxs)("div",{className:"info-row",children:[(0,ba.jsxs)("span",{className:"label",children:[(0,ba.jsx)("i",{className:"info-icon completed-icon",children:"\u2705"}),"Sessions termin\xe9es:"]}),(0,ba.jsx)("span",{className:"value",children:e.completed_sessions})]})]}),(0,ba.jsx)("div",{className:"bilan-section",children:e.bilan?(0,ba.jsxs)("div",{className:"existing-bilan",children:[(0,ba.jsxs)("h4",{children:[(0,ba.jsx)("i",{className:"bilan-icon",children:"\ud83d\udcdd"}),"Bilan actuel:"]}),(0,ba.jsx)("p",{className:"bilan-text",children:e.bilan}),(0,ba.jsx)("div",{className:"bilan-meta",children:(0,ba.jsxs)("small",{children:[(0,ba.jsx)("i",{className:"time-icon",children:"\ud83d\udd52"})," ",e.bilan_updated_at?"Modifi\xe9 le ".concat(b(e.bilan_updated_at)):"Cr\xe9\xe9 le ".concat(b(e.bilan_created_at))]})}),(0,ba.jsxs)("a",{href:"#",className:"btn-edit-bilan",id:"edit-bilan-btn",onClick:t=>(t.preventDefault(),x(e),!1),children:[(0,ba.jsx)("span",{className:"btn-icon",children:"\u270f\ufe0f"}),(0,ba.jsx)("span",{className:"btn-text",children:"Modifier le bilan"})]})]}):(0,ba.jsxs)("div",{className:"no-bilan",children:[(0,ba.jsxs)("p",{children:[(0,ba.jsx)("i",{className:"info-icon",children:"\u2139\ufe0f"}),"Aucun bilan pour ce client"]}),(0,ba.jsxs)("a",{href:"#",className:"btn-add-bilan",onClick:t=>(t.preventDefault(),x(e),!1),children:[(0,ba.jsx)("span",{className:"btn-icon",children:"\u2795"}),(0,ba.jsx)("span",{className:"btn-text",children:"Ajouter un bilan"})]})]})})]},e.id)))}),(0,ba.jsxs)(zo,{show:l,onHide:v,centered:!0,backdrop:"static",size:"lg",className:"bilan-modal",scrollable:!0,children:[(0,ba.jsx)(zo.Header,{closeButton:!0,className:"custom-modal-header",children:(0,ba.jsxs)(zo.Title,{children:[null!==i&&void 0!==i&&i.bilan?"Modifier le bilan- ":"Ajouter un bilan- ",null===i||void 0===i?void 0:i.full_name]})}),(0,ba.jsx)(zo.Body,{className:"modal-body-scrollable",children:(0,ba.jsxs)("div",{className:"scroll-content",children:[(0,ba.jsxs)("div",{className:"client-objective",children:[(0,ba.jsxs)("div",{className:"client-objective-label",children:[(0,ba.jsx)("span",{className:"objective-icon",children:"\ud83c\udfaf"}),"OBJECTIF DU CLIENT:"]}),(0,ba.jsx)("div",{className:"client-objective-text",children:(null===i||void 0===i?void 0:i.goal)||"Non d\xe9fini"})]}),(0,ba.jsxs)("div",{className:"client-sessions-info",children:[(0,ba.jsxs)("div",{className:"client-sessions-block",children:[(0,ba.jsx)("div",{className:"client-sessions-label",children:"Sessions termin\xe9es"}),(0,ba.jsx)("div",{className:"client-sessions-value highlight",children:null===i||void 0===i?void 0:i.completed_sessions})]}),(0,ba.jsxs)("div",{className:"client-sessions-block",children:[(0,ba.jsx)("div",{className:"client-sessions-label",children:"Sessions totales"}),(0,ba.jsx)("div",{className:"client-sessions-value",children:null===i||void 0===i?void 0:i.total_sessions})]})]}),(0,ba.jsxs)("div",{className:"form-group",children:[(0,ba.jsx)("label",{className:"form-label",children:"Bilan du coach"}),(0,ba.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"R\xe9digez votre bilan pour ce client...",className:"form-textarea",rows:"8",disabled:u})]})]})}),(0,ba.jsxs)(zo.Footer,{children:[(0,ba.jsx)(gi,{variant:"secondary",onClick:v,disabled:u,children:"Annuler"}),(0,ba.jsx)(gi,{variant:"primary",onClick:async()=>{if(c.trim()){m(!0);try{await ua.post("/api/coach-dashboard/clients/".concat(i.id,"/bilan"),{bilan:c}),await f(),r(!1),d(""),o(null),alert("Bilan enregistr\xe9 avec succ\xe8s")}catch(e){console.error("Error saving bilan:",e),alert("Erreur lors de l'enregistrement du bilan")}finally{m(!1)}}else alert("Veuillez saisir un bilan")},disabled:u||!c.trim(),children:u?"Enregistrement...":"Enregistrer"})]})]})]})},$u=()=>{var e;const{coachUser:t,logout:n}=(0,a.useContext)(ya),{showToast:s}=(0,a.useContext)(qu),l=te();(0,a.useEffect)((()=>{localStorage.getItem("coachToken")?C():l("/coach/login",{replace:!0})}),[l,t]);const[r,i]=(0,a.useState)([]),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!0),[m,h]=(0,a.useState)("calendar"),[p,f]=(0,a.useState)(null),[x,v]=(0,a.useState)([]),[g,b]=(0,a.useState)({}),[j,y]=(0,a.useState)(!1),[N,w]=(0,a.useState)(null),[k,S]=(0,a.useState)({name:"",email:"",bio:"",specialty:"",photo:""}),C=async()=>{u(!0),f(null);try{console.log("Fetching coach data...");const n=localStorage.getItem("coachToken");if(!n)return console.error("No coach token found, redirecting to login"),void l("/coach/login",{replace:!0});ua.defaults.headers.common.Authorization="Bearer ".concat(n);const a=await ua.get("/api/coach-dashboard/profile");S(a.data),console.log("Profile loaded:",a.data);const r=await ua.get("/api/coach-dashboard/reservations");i(r.data),console.log("Reservations loaded:",r.data.length);const o=(await ua.get("/api/coach-dashboard/availability")).data.map((e=>{if(e.is_booked){const t=r.data.find((t=>t.date===e.date&&t.time===e.start_time));return t?ze(ze({},e),{},{client_name:t.full_name,client_email:t.email,client_phone:t.phone,client_age:t.age,client_gender:t.gender,client_goal:t.goal}):null}return e})).filter((e=>null!==e));c(o),console.log("Availability loaded:",o.length);try{console.log("Fetching group courses for coach...");const e=await ua.get("/api/coach-dashboard/group-courses");console.log("Group courses API response:",e);const t=e.data.filter((e=>e&&!e.is_deleted&&"deleted"!==e.status&&"cancelled"!==e.status));v(t),console.log("Active group courses loaded:",t.length)}catch(t){var e;console.error("Error loading group courses:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),s("warning","Failed to load group courses. Other data is still available."),v([])}}catch(p){console.error("Error loading coach data:",p),!p.response||401!==p.response.status&&403!==p.response.status?(f("Failed to load data. Please try again later."),s("error","Failed to load data. Please try again later.")):(console.log("Authentication error, redirecting to login"),s("error","Your session has expired. Please log in again."),localStorage.removeItem("coachToken"),localStorage.removeItem("coachUser"),delete ua.defaults.headers.common.Authorization,l("/coach/login",{replace:!0})),S({}),i([]),c([]),v([])}finally{u(!1)}},_=()=>{n("coach"),window.location.href="/coach/login",s("success","Successfully logged out")},E=e=>{h(e),window.innerWidth<768&&setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),100)},P=e=>new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",timeZone:"Africa/Casablanca"}),T=e=>new Date("2000-01-01T".concat(e)).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",timeZone:"Africa/Casablanca"});return d?(0,ba.jsx)("div",{className:"container mt-5 text-center",children:(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"jumping-logo"})}):p?(0,ba.jsx)("div",{className:"container mt-5",children:(0,ba.jsxs)("div",{className:"alert alert-danger",children:[(0,ba.jsx)("h4",{children:"Error Loading Dashboard"}),(0,ba.jsx)("p",{children:p}),(0,ba.jsx)("button",{className:"btn btn-primary mt-2",onClick:C,children:"Retry"})]})}):(0,ba.jsxs)("div",{className:"container mt-4 mb-5",children:[(0,ba.jsx)("div",{className:"d-block d-md-none mb-4",children:(0,ba.jsx)("div",{className:"card shadow-sm",children:(0,ba.jsx)("div",{className:"card-body py-2",children:(0,ba.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,ba.jsxs)("div",{className:"d-flex align-items-center",children:[(0,ba.jsx)("img",{src:k.photo||"https://via.placeholder.com/60x60?text=Coach",alt:k.name,className:"rounded-circle me-3",style:{width:"50px",height:"50px",objectFit:"cover",border:"2px solid #007bff"}}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h6",{className:"mb-0 fw-bold",children:k.name}),(0,ba.jsx)("small",{className:"text-muted",children:k.specialty})]})]}),(0,ba.jsxs)("button",{className:"btn btn-outline-danger btn-sm",onClick:_,style:{minWidth:"80px"},children:[(0,ba.jsx)("i",{className:"fas fa-sign-out-alt me-1"}),"Logout"]})]})})})}),(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-lg-3 d-none d-md-block",children:[(0,ba.jsx)("div",{className:"card shadow-sm mb-4",children:(0,ba.jsxs)("div",{className:"card-body text-center",children:[(0,ba.jsx)("div",{className:"mb-3",children:(0,ba.jsx)("img",{src:k.photo||"https://via.placeholder.com/150x150?text=Coach",alt:k.name,className:"rounded-circle img-thumbnail",style:{width:"120px",height:"120px",objectFit:"cover"}})}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("h5",{className:"card-title fw-bold mb-0",children:k.name}),(0,ba.jsx)("p",{className:"text-muted mb-2",children:k.specialty})]}),(0,ba.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,ba.jsxs)("button",{className:"btn btn-outline-danger btn-sm mobile-logout-btn",onClick:_,children:[(0,ba.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"Logout"]})})]})}),(0,ba.jsxs)("div",{className:"card shadow-sm mb-4",children:[(0,ba.jsx)("div",{className:"card-header bg-dark text-white",children:(0,ba.jsxs)("h5",{className:"card-title mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-tachometer-alt me-2"})," Dashboard"]})}),(0,ba.jsxs)("div",{className:"list-group list-group-flush",children:[(0,ba.jsxs)("button",{className:"list-group-item list-group-item-action ".concat("calendar"===m?"active":""),onClick:()=>E("calendar"),children:[(0,ba.jsx)("i",{className:"fas fa-calendar-alt me-2"})," My Calendar",(0,ba.jsx)("span",{className:"badge bg-secondary rounded-pill float-end",children:o.filter((e=>e.is_booked)).length})]}),(0,ba.jsxs)("button",{className:"list-group-item list-group-item-action ".concat("availability"===m?"active":""),onClick:()=>E("availability"),children:[(0,ba.jsx)("i",{className:"fas fa-calendar-check me-2"})," Booked Sessions",(0,ba.jsx)("span",{className:"badge bg-secondary rounded-pill float-end",children:o.filter((e=>e.is_booked)).length})]}),(0,ba.jsxs)("button",{className:"list-group-item list-group-item-action ".concat("clients"===m?"active":""),onClick:()=>E("clients"),children:[(0,ba.jsx)("i",{className:"fas fa-user-friends me-2"})," Mes Clients"]}),(0,ba.jsxs)("button",{className:"list-group-item list-group-item-action ".concat("groupCourses"===m?"active":""),onClick:()=>E("groupCourses"),children:[(0,ba.jsx)("i",{className:"fas fa-users me-2"})," Group Courses",(0,ba.jsx)("span",{className:"badge bg-secondary rounded-pill float-end",children:x.length})]})]})]})]}),(0,ba.jsxs)("div",{className:"col-md-12 col-lg-9",style:{paddingBottom:"100px"},children:["calendar"===m&&(0,ba.jsxs)("div",{className:"card shadow-sm",children:[(0,ba.jsxs)("div",{className:"card-header bg-success text-white d-flex align-items-center justify-content-between",children:[(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-alt me-2"})," My Calendar"]}),(0,ba.jsxs)("button",{className:"btn btn-sm btn-outline-light",onClick:()=>C(),children:[(0,ba.jsx)("i",{className:"fas fa-sync-alt me-1"})," Refresh"]})]}),(0,ba.jsx)("div",{className:"card-body",children:(0,ba.jsx)(Gu,{availability:o})})]}),"availability"===m&&(0,ba.jsxs)("div",{className:"card shadow-sm",children:[(0,ba.jsxs)("div",{className:"card-header bg-primary text-white d-flex align-items-center justify-content-between",children:[(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-check me-2"})," My Booked Sessions"]}),(0,ba.jsxs)("button",{className:"btn btn-sm btn-outline-light",onClick:()=>C(),children:[(0,ba.jsx)("i",{className:"fas fa-sync-alt me-1"})," Refresh"]})]}),(0,ba.jsx)("div",{className:"card-body",children:(0,ba.jsx)(Vu,{availability:o})})]}),"clients"===m&&(0,ba.jsxs)("div",{className:"card shadow-sm",children:[(0,ba.jsx)("div",{className:"card-header bg-info text-white d-flex align-items-center justify-content-between",children:(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-user-friends me-2"})," Gestion des Clients"]})}),(0,ba.jsx)("div",{className:"card-body",children:(0,ba.jsx)(Yu,{})})]}),"groupCourses"===m&&(0,ba.jsxs)("div",{className:"card shadow-sm",children:[(0,ba.jsxs)("div",{className:"card-header bg-dark text-white d-flex align-items-center justify-content-between",children:[(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-users me-2"})," My Group Courses"]}),(0,ba.jsxs)("button",{className:"btn btn-sm btn-outline-light",onClick:()=>{C(),s("info","Refreshing course data...")},children:[(0,ba.jsx)("i",{className:"fas fa-sync-alt me-1"})," Refresh"]})]}),(0,ba.jsx)("div",{className:"card-body",children:j&&N?(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("button",{className:"btn btn-outline-secondary mb-4",onClick:()=>{y(!1),w(null),window.innerWidth<768&&setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),100)},children:[(0,ba.jsx)("i",{className:"fas fa-arrow-left me-2"})," Back to Group Courses"]}),(0,ba.jsxs)("h5",{className:"mb-3",children:[N.title," - Participants"]}),(0,ba.jsxs)("p",{className:"text-muted mb-4",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-day me-2"})," ",P(N.date)," at ",T(N.time),(0,ba.jsxs)("span",{className:"ms-3",children:[(0,ba.jsx)("i",{className:"fas fa-users me-2"}),N.current_participants," / ",N.max_participants," participants"]})]}),(null===(e=g[N.id])||void 0===e?void 0:e.length)>0?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("div",{className:"table-responsive",style:{overflowX:"auto",overflowY:"hidden",WebkitOverflowScrolling:"touch",scrollbarWidth:"thin",scrollbarColor:"#6c757d #f8f9fa"},children:(0,ba.jsxs)("table",{className:"table table-hover",style:{minWidth:"600px"},children:[(0,ba.jsx)("thead",{className:"table-light",children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{style:{minWidth:"150px"},children:"Client Name"}),(0,ba.jsx)("th",{style:{minWidth:"200px"},children:"Email"}),(0,ba.jsx)("th",{style:{minWidth:"120px"},children:"Phone"}),(0,ba.jsx)("th",{style:{minWidth:"120px"},children:"Booking Date"}),(0,ba.jsx)("th",{style:{minWidth:"100px"},children:"Status"})]})}),(0,ba.jsx)("tbody",{children:g[N.id].map((e=>(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{style:{whiteSpace:"nowrap"},children:e.full_name}),(0,ba.jsx)("td",{style:{whiteSpace:"nowrap"},children:e.email}),(0,ba.jsx)("td",{style:{whiteSpace:"nowrap"},children:e.phone}),(0,ba.jsx)("td",{style:{whiteSpace:"nowrap"},children:new Date(e.created_at).toLocaleDateString()}),(0,ba.jsx)("td",{children:(0,ba.jsx)("span",{className:"badge ".concat("confirmed"===e.status?"bg-success":"bg-danger"),children:"confirmed"===e.status?"Confirmed":"Cancelled"})})]},e.id)))})]})}),(0,ba.jsx)("div",{className:"d-block d-md-none",children:(0,ba.jsxs)("small",{className:"text-muted d-flex align-items-center justify-content-center mt-2",children:[(0,ba.jsx)("i",{className:"fas fa-arrows-alt-h me-1"}),"Swipe left/right to see more details"]})})]}):(0,ba.jsx)("div",{className:"alert alert-info",children:"No bookings found for this group course."})]}):(0,ba.jsx)(ba.Fragment,{children:x.length>0?(0,ba.jsx)("div",{className:"row",children:x.filter((e=>e&&!e.is_deleted&&"deleted"!==e.status&&"cancelled"!==e.status)).map((e=>{const t=new Date,n=new Date(e.date);n.setHours(e.time.split(":")[0],e.time.split(":")[1]);let a="Open",l="bg-success";return n<t?(a="Ended",l="bg-secondary"):e.current_participants>=e.max_participants&&(a="Full",l="bg-warning text-dark"),(0,ba.jsx)("div",{className:"col-md-6 mb-4",children:(0,ba.jsx)("div",{className:"card h-100 shadow-sm border-0",children:(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,ba.jsx)("h5",{className:"card-title mb-0",children:e.title}),(0,ba.jsx)("span",{className:"badge ".concat(l),children:a})]}),(0,ba.jsxs)("p",{className:"card-text text-muted mb-3",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-day me-2"}),P(e.date)]}),(0,ba.jsxs)("p",{className:"card-text text-muted mb-3",children:[(0,ba.jsx)("i",{className:"fas fa-clock me-2"}),T(e.time)]}),(0,ba.jsxs)("p",{className:"card-text text-muted mb-3",children:[(0,ba.jsx)("i",{className:"fas fa-users me-2"}),e.current_participants," / ",e.max_participants," participants"]}),(0,ba.jsx)("p",{className:"card-text mb-4",children:e.description}),(0,ba.jsx)("div",{className:"d-grid",children:(0,ba.jsxs)("button",{className:"btn btn-outline-primary",onClick:async()=>{try{console.log("Fetching bookings for course:",e.id);const t=await ua.get("/api/coach-dashboard/group-courses/".concat(e.id,"/bookings"));console.log("Bookings loaded:",t.data),b(ze(ze({},g),{},{[e.id]:t.data})),w(e),y(!0),window.innerWidth<768&&setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),100)}catch(p){var t,n,a;console.error("Error fetching bookings:",(null===(t=p.response)||void 0===t?void 0:t.data)||p.message),404===(null===(n=p.response)||void 0===n?void 0:n.status)||410===(null===(a=p.response)||void 0===a?void 0:a.status)?(s("warning","This course is no longer available. Refreshing course list..."),C()):s("error","Failed to load bookings. Please try again.")}},children:[(0,ba.jsx)("i",{className:"fas fa-eye me-2"})," View Participants"]})})]})})},e.id)}))}):(0,ba.jsxs)("div",{className:"text-center p-5",children:[(0,ba.jsx)("i",{className:"fas fa-users fa-3x mb-3 text-muted"}),(0,ba.jsx)("h5",{children:"No Group Courses Found"}),(0,ba.jsx)("p",{className:"text-muted",children:"You don't have any group courses assigned to you yet."})]})})})]})]})]}),(0,ba.jsx)("div",{className:"d-block d-md-none fixed-bottom bg-white border-top shadow-sm",children:(0,ba.jsxs)("div",{className:"row g-0",children:[(0,ba.jsx)("div",{className:"col-3",children:(0,ba.jsx)("button",{className:"btn w-100 border-0 py-3 ".concat("calendar"===m?"text-success bg-light":"text-muted"),onClick:()=>E("calendar"),style:{borderRadius:0},children:(0,ba.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-alt mb-1 ".concat("calendar"===m?"text-success":"text-muted")}),(0,ba.jsx)("small",{className:"calendar"===m?"text-success fw-bold":"text-muted",children:"Calendar"})]})})}),(0,ba.jsx)("div",{className:"col-3",children:(0,ba.jsx)("button",{className:"btn w-100 border-0 py-3 ".concat("availability"===m?"text-primary bg-light":"text-muted"),onClick:()=>E("availability"),style:{borderRadius:0},children:(0,ba.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-check mb-1 ".concat("availability"===m?"text-primary":"text-muted")}),(0,ba.jsx)("small",{className:"availability"===m?"text-primary fw-bold":"text-muted",children:"Sessions"})]})})}),(0,ba.jsx)("div",{className:"col-3",children:(0,ba.jsx)("button",{className:"btn w-100 border-0 py-3 ".concat("clients"===m?"text-info bg-light":"text-muted"),onClick:()=>E("clients"),style:{borderRadius:0},children:(0,ba.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,ba.jsx)("i",{className:"fas fa-user-friends mb-1 ".concat("clients"===m?"text-info":"text-muted")}),(0,ba.jsx)("small",{className:"clients"===m?"text-info fw-bold":"text-muted",children:"Clients"})]})})}),(0,ba.jsx)("div",{className:"col-3",children:(0,ba.jsx)("button",{className:"btn w-100 border-0 py-3 ".concat("groupCourses"===m?"text-dark bg-light":"text-muted"),onClick:()=>E("groupCourses"),style:{borderRadius:0},children:(0,ba.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,ba.jsx)("i",{className:"fas fa-users mb-1 ".concat("groupCourses"===m?"text-dark":"text-muted")}),(0,ba.jsx)("small",{className:"groupCourses"===m?"text-dark fw-bold":"text-muted",children:"Courses"})]})})})]})})]})},Ku=e=>{let{sessions:t,groupSessions:n,onCancelSuccess:s,updatePoints:l,currentUser:r}=e;const[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[h,p]=(0,a.useState)(null),[f,x]=(0,a.useState)(!1),[v,g]=(0,a.useState)("individual"),b=e=>{try{return hu(new Date(e),"dd MMM yyyy",{locale:_u})}catch(t){return e}},j=e=>{try{return hu(new Date("2000-01-01T".concat(e)),"HH:mm",{locale:_u})}catch(t){return e}},y=e=>{switch(e){case"confirmed":return"bg-success";case"pending":return"bg-warning";case"cancelled":return"bg-danger";default:return"bg-secondary"}},N=e=>{switch(e){case"confirmed":return"Confirm\xe9e";case"pending":return"En attente";case"cancelled":return"Annul\xe9e";default:return e}},w=(e,t)=>{const n=new Date,a=new Date(e),[s,l]=t.split(":").map(Number);return a.setHours(s,l,0,0),a<n},k=(e,t)=>{o(e),g(t),x(!0),p(null),m(null)},S=()=>{x(!1),o(null)};return(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)(fi,{className:"mb-4",children:[(0,ba.jsx)(fi.Header,{children:(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-check me-2"}),"S\xe9ances de Coaching Individuelles"]})}),(0,ba.jsx)(fi.Body,{children:t&&t.length>0?(0,ba.jsx)("div",{className:"table-responsive",children:(0,ba.jsxs)(Li,{striped:!0,hover:!0,children:[(0,ba.jsx)("thead",{children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:"Coach"}),(0,ba.jsx)("th",{children:"Date"}),(0,ba.jsx)("th",{children:"Heure"}),(0,ba.jsx)("th",{children:"Statut"}),(0,ba.jsx)("th",{children:"Actions"})]})}),(0,ba.jsx)("tbody",{children:t.map((e=>{const t=w(e.date,e.time),n=((e,t)=>{const n=new Date,a=new Date(e),[s,l]=t.split(":").map(Number);return a.setHours(s,l,0,0),a.getTime()-n.getTime()<216e5})(e.date,e.time),a="confirmed"===e.status&&!t&&!n;return(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:e.coach_name}),(0,ba.jsx)("td",{children:b(e.date)}),(0,ba.jsx)("td",{children:j(e.time)}),(0,ba.jsx)("td",{children:(0,ba.jsx)(Ui,{className:y(e.status),children:N(e.status)})}),(0,ba.jsx)("td",{children:a?(0,ba.jsx)(gi,{variant:"outline-danger",size:"sm",onClick:()=>k(e,"individual"),children:"Annuler"}):(0,ba.jsx)(gi,{variant:"outline-secondary",size:"sm",disabled:!0,title:t?"Impossible d'annuler une s\xe9ance pass\xe9e":n?"Impossible d'annuler \xe0 moins de 6 heures de la s\xe9ance":"Cette s\xe9ance ne peut pas \xeatre annul\xe9e",children:t?"Pass\xe9e":"Annulation Impossible"})})]},e.id)}))})]})}):(0,ba.jsx)("p",{className:"text-muted text-center",children:"Vous n'avez aucune s\xe9ance de coaching individuelle."})})]}),(0,ba.jsxs)(fi,{className:"mb-4",children:[(0,ba.jsx)(fi.Header,{children:(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-users me-2"}),"Cours Collectifs & \xc9v\xe9nements"]})}),(0,ba.jsx)(fi.Body,{children:n&&n.length>0?(0,ba.jsx)("div",{className:"table-responsive",children:(0,ba.jsxs)(Li,{striped:!0,hover:!0,children:[(0,ba.jsx)("thead",{children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:"Titre du Cours"}),(0,ba.jsx)("th",{children:"Coach"}),(0,ba.jsx)("th",{children:"Date"}),(0,ba.jsx)("th",{children:"Heure"}),(0,ba.jsx)("th",{children:"Statut"}),(0,ba.jsx)("th",{children:"Actions"})]})}),(0,ba.jsx)("tbody",{children:n.map((e=>{const t=w(e.date,e.time),n="confirmed"===e.status&&!t;return(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:e.title}),(0,ba.jsx)("td",{children:e.coach_name}),(0,ba.jsx)("td",{children:b(e.date)}),(0,ba.jsx)("td",{children:j(e.time)}),(0,ba.jsx)("td",{children:(0,ba.jsx)(Ui,{className:y(e.status),children:N(e.status)})}),(0,ba.jsx)("td",{children:n?(0,ba.jsx)(gi,{variant:"outline-danger",size:"sm",onClick:()=>k(e,"group"),children:"Annuler"}):(0,ba.jsx)(gi,{variant:"outline-secondary",size:"sm",disabled:!0,title:t?"Impossible d'annuler un cours pass\xe9":"Ce cours ne peut pas \xeatre annul\xe9",children:t?"Pass\xe9":"Annulation Impossible"})})]},e.id)}))})]})}):(0,ba.jsx)("p",{className:"text-muted text-center",children:"Vous n'avez aucune r\xe9servation de cours collectif."})})]}),(0,ba.jsxs)(zo,{show:f,onHide:S,children:[(0,ba.jsx)(zo.Header,{closeButton:!0,children:(0,ba.jsx)(zo.Title,{children:"Confirmer l'Annulation"})}),(0,ba.jsx)(zo.Body,{children:i&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("p",{children:["\xcates-vous s\xfbr de vouloir annuler ","individual"===v?"cette s\xe9ance de coaching":"cette r\xe9servation de cours collectif"," ?"]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsxs)("strong",{children:["individual"===v?"Coach":"Cours",":"]})," ","individual"===v?i.coach_name:i.title]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Date:"})," ",b(i.date)]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Heure:"})," ",j(i.time)]}),(0,ba.jsxs)("div",{className:"alert alert-info",children:["Vous serez rembours\xe9 de 1 ","individual"===v?"Point Solo (PS)":"Point \xc9quipe (PE)","."]}),h&&(0,ba.jsxs)("div",{className:"alert alert-danger",children:[(0,ba.jsx)("i",{className:"fas fa-exclamation-circle me-2"}),h]}),u&&(0,ba.jsxs)("div",{className:"alert alert-success",children:[(0,ba.jsx)("i",{className:"fas fa-check-circle me-2"}),u]})]})}),(0,ba.jsxs)(zo.Footer,{children:[(0,ba.jsx)(gi,{variant:"secondary",onClick:S,disabled:c,children:"Fermer"}),(0,ba.jsx)(gi,{variant:"danger",onClick:async()=>{d(!0),p(null),m(null);try{let e;e="individual"===v?await ga.post("/api/reservations/client/cancel/".concat(i.id),{user_id:r.id}):await ga.post("/api/group-courses/".concat(i.course_id,"/cancel"),{}),m("Votre r\xe9servation a \xe9t\xe9 annul\xe9e avec succ\xe8s. Un point a \xe9t\xe9 rembours\xe9 \xe0 votre compte."),e.data.updated_points&&l(ze(ze({},r),{},{points:e.data.updated_points,solo_points:e.data.updated_solo_points,team_points:e.data.updated_team_points})),s(i.id,v),setTimeout((()=>{S()}),2e3)}catch(n){var e,t;console.error("Error cancelling reservation:",n),p((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to cancel reservation")}finally{d(!1)}},disabled:c||u,children:c?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(cd,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),(0,ba.jsx)("span",{className:"ms-2",children:"Annulation en cours..."})]}):"Confirmer l'Annulation"})]})]})]})},Ju=e=>{let{sessions:t,groupSessions:n,onCancelSuccess:s,updatePoints:l,currentUser:r}=e;const[i,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(null),[h,p]=(0,a.useState)(null),[f,x]=(0,a.useState)(!1),[v,g]=(0,a.useState)("individual"),[b,j]=(0,a.useState)(!1),[y,N]=(0,a.useState)([]),[w,k]=(0,a.useState)(new Date),[S,C]=(0,a.useState)(""),[_,E]=(0,a.useState)({}),[P,T]=(0,a.useState)(window.innerWidth<768);(0,a.useEffect)((()=>{const e=()=>{T(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,a.useEffect)((()=>{D(w);C(w.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})),R()}),[w,t,n]);const D=e=>{const t=e.getFullYear(),n=e.getMonth(),a=new Date(t,n,1),s=new Date(t,n+1,0),l=a.getDay(),r=[],i=new Date(t,n,0).getDate();for(let c=l-1;c>=0;c--){const e=new Date(t,n-1,i-c);r.push({date:e,day:i-c,month:"prev",dateString:e.toISOString().split("T")[0]})}for(let c=1;c<=s.getDate();c++){const e=new Date(t,n,c);r.push({date:e,day:c,month:"current",dateString:e.toISOString().split("T")[0]})}const o=42-r.length;for(let c=1;c<=o;c++){const e=new Date(t,n+1,c);r.push({date:e,day:c,month:"next",dateString:e.toISOString().split("T")[0]})}N(r)},R=()=>{const e={},a=new Date;console.log("Current date/time:",a),t.forEach((t=>{const n=new Date(t.date).toISOString().split("T")[0];let s;try{if(t.time.includes("T"))s=new Date(t.time);else{const[e,n,a]=t.time.split(":").map(Number);s=new Date(t.date),s.setHours(e||0,n||0,a||0,0)}}catch(am){s=new Date(t.date)}const l=s<a;console.log("Individual session ".concat(t.id,": ").concat(s,", isPast: ").concat(l)),e[n]||(e[n]=[]),e[n].push({id:"individual-".concat(t.id),title:"Individual: ".concat(t.coach_name),time:t.time,status:t.status,originalData:t,type:"individual",isPast:l})})),n.forEach((t=>{const n=new Date(t.date).toISOString().split("T")[0];let s;try{if(t.time.includes("T"))s=new Date(t.time);else{const[e,n,a]=t.time.split(":").map(Number);s=new Date(t.date),s.setHours(e||0,n||0,a||0,0)}}catch(am){s=new Date(t.date)}const l=s<a;console.log("Group session ".concat(t.id,": ").concat(s,", isPast: ").concat(l)),e[n]||(e[n]=[]),e[n].push({id:"group-".concat(t.id),title:"Group: ".concat(t.title),time:t.time,status:t.status,originalData:t,type:"group",isPast:l})})),E(e)},O=e=>{let t="calendar-day";"current"!==e.month&&(t+=" other-month");const n=new Date;return e.date.getDate()===n.getDate()&&e.date.getMonth()===n.getMonth()&&e.date.getFullYear()===n.getFullYear()&&(t+=" today"),_[e.dateString]&&_[e.dateString].length>0&&(t+=" has-events"),t},F=e=>{let t="event-item";if(!0===e.isPast)return t+=" event-past",t;switch(e.status){case"confirmed":t+=" event-confirmed";break;case"cancelled":t+=" event-cancelled";break;case"pending":t+=" event-pending";break;default:t+=" event-default"}return t},I=e=>e<new Date,A=()=>{x(!1)},L=()=>{j(!1),o(null)},M=e=>{if(!e)return"N/A";try{const[t,n]=e.split(":").map(Number),a=new Date;return a.setHours(t,n,0,0),a.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}catch(t){return e}},z=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(t){return e}},U=[];for(let a=0;a<y.length;a+=7)U.push(y.slice(a,a+7));return(0,ba.jsxs)("div",{className:"calendar-container",children:[(0,ba.jsxs)("div",{className:"calendar-header",children:[(0,ba.jsxs)("div",{className:"calendar-nav",children:[(0,ba.jsx)(gi,{variant:"outline-secondary",onClick:()=>{k((e=>{const t=new Date(e);return t.setMonth(e.getMonth()-1),t}))},children:(0,ba.jsx)("i",{className:"fas fa-chevron-left"})}),(0,ba.jsx)("h3",{className:"month-title",children:S}),(0,ba.jsx)(gi,{variant:"outline-secondary",onClick:()=>{k((e=>{const t=new Date(e);return t.setMonth(e.getMonth()+1),t}))},children:(0,ba.jsx)("i",{className:"fas fa-chevron-right"})})]}),(0,ba.jsx)(gi,{variant:"outline-primary",onClick:()=>{k(new Date)},children:"Aujourd'hui"})]}),(0,ba.jsxs)("div",{className:"calendar-legend",children:[(0,ba.jsxs)("span",{className:"legend-item",children:[(0,ba.jsx)("span",{className:"legend-color confirmed"})," Confirm\xe9e"]}),(0,ba.jsxs)("span",{className:"legend-item",children:[(0,ba.jsx)("span",{className:"legend-color cancelled"})," Annul\xe9e"]}),(0,ba.jsxs)("span",{className:"legend-item",children:[(0,ba.jsx)("span",{className:"legend-color pending"})," En attente"]}),(0,ba.jsxs)("span",{className:"legend-item",children:[(0,ba.jsx)("span",{className:"legend-color past"})," Pass\xe9e"]})]}),(0,ba.jsxs)("div",{className:"calendar-grid",children:[(0,ba.jsxs)("div",{className:"calendar-weekdays",children:[(0,ba.jsx)("div",{className:"weekday",children:"Dim"}),(0,ba.jsx)("div",{className:"weekday",children:"Lun"}),(0,ba.jsx)("div",{className:"weekday",children:"Mar"}),(0,ba.jsx)("div",{className:"weekday",children:"Mer"}),(0,ba.jsx)("div",{className:"weekday",children:"Jeu"}),(0,ba.jsx)("div",{className:"weekday",children:"Ven"}),(0,ba.jsx)("div",{className:"weekday",children:"Sam"})]}),(0,ba.jsx)("div",{className:"calendar-body",children:U.map(((e,t)=>(0,ba.jsx)("div",{className:"calendar-week",children:e.map((e=>{var t;return(0,ba.jsxs)("div",{className:O(e),children:[(0,ba.jsx)("div",{className:"day-number",children:e.day}),(0,ba.jsx)("div",{className:"day-events",children:null===(t=_[e.dateString])||void 0===t?void 0:t.map((e=>(0,ba.jsx)("div",{className:"".concat(F(e)," ").concat(P?"mobile-event-button":""),onClick:()=>(e=>{o(ze(ze({},e.originalData),{},{eventType:e.type})),j(!0)})(e),children:P?(0,ba.jsx)("div",{className:"mobile-event-content",children:(0,ba.jsx)("span",{className:"mobile-event-type",children:"individual"===e.type?"Individuel":"Groupe"})}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)("span",{className:"event-time",children:M(e.time)}),(0,ba.jsx)("span",{className:"event-title",children:e.title})]})},e.id)))})]},"day-".concat(e.dateString))}))},"week-".concat(t))))})]}),(0,ba.jsxs)(zo,{show:b,onHide:L,centered:!0,scrollable:!0,dialogClassName:"modal-dialog-scrollable",children:[(0,ba.jsx)(zo.Header,{closeButton:!0,children:(0,ba.jsx)(zo.Title,{children:i&&"individual"===i.eventType?"Individuelle: ".concat(i.coach_name):"Cours Collectif"})}),(0,ba.jsx)(zo.Body,{children:i&&(0,ba.jsxs)("div",{className:"session-details",children:[(0,ba.jsxs)("div",{className:"detail-row",children:[(0,ba.jsx)("div",{className:"detail-label",children:"Date & Heure:"}),(0,ba.jsxs)("div",{className:"detail-value",children:[z(i.date)," \xe0 ",M(i.time)]})]}),(0,ba.jsxs)("div",{className:"detail-row",children:[(0,ba.jsx)("div",{className:"detail-label",children:"Statut:"}),(0,ba.jsx)("div",{className:"detail-value",children:(0,ba.jsx)(Ui,{className:(e=>{switch(e){case"confirmed":return"bg-success";case"pending":return"bg-warning";case"cancelled":return"bg-danger";default:return"bg-secondary"}})(i.status),children:(e=>{switch(e){case"confirmed":return"Confirmed";case"pending":return"Pending";case"cancelled":return"Cancelled";default:return e}})(i.status)})})]}),"individual"===i.eventType?(0,ba.jsx)(ba.Fragment,{children:(0,ba.jsxs)("div",{className:"detail-row",children:[(0,ba.jsx)("div",{className:"detail-label",children:"Coach:"}),(0,ba.jsx)("div",{className:"detail-value",children:i.coach_name})]})}):(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("div",{className:"detail-row",children:[(0,ba.jsx)("div",{className:"detail-label",children:"Cours:"}),(0,ba.jsx)("div",{className:"detail-value",children:i.title})]}),(0,ba.jsxs)("div",{className:"detail-row",children:[(0,ba.jsx)("div",{className:"detail-label",children:"Coach:"}),(0,ba.jsx)("div",{className:"detail-value",children:i.coach_name})]}),(0,ba.jsxs)("div",{className:"detail-row",children:[(0,ba.jsx)("div",{className:"detail-label",children:"Dur\xe9e:"}),(0,ba.jsxs)("div",{className:"detail-value",children:[i.duration||60," minutes"]})]})]}),(0,ba.jsxs)("div",{className:"detail-row",children:[(0,ba.jsx)("div",{className:"detail-label",children:"Date:"}),(0,ba.jsx)("div",{className:"detail-value",children:z(i.date)})]}),(0,ba.jsxs)("div",{className:"detail-row",children:[(0,ba.jsx)("div",{className:"detail-label",children:"Heure:"}),(0,ba.jsx)("div",{className:"detail-value",children:M(i.time)})]}),(0,ba.jsxs)("div",{className:"detail-row",children:[(0,ba.jsx)("div",{className:"detail-label",children:"Lieu:"}),(0,ba.jsx)("div",{className:"detail-value",children:"Salle Principale"})]}),"confirmed"===i.status&&(0,ba.jsx)("div",{className:"mt-4",children:I(new Date("".concat(i.date,"T").concat(i.time)))||"individual"===i.eventType&&(e=>{const t=new Date;return e.getTime()-t.getTime()<216e5})(new Date("".concat(i.date,"T").concat(i.time)))?(0,ba.jsx)("div",{className:"alert alert-warning",children:I(new Date("".concat(i.date,"T").concat(i.time)))?"Cette s\xe9ance est d\xe9j\xe0 pass\xe9e et ne peut pas \xeatre annul\xe9e.":"Les s\xe9ances individuelles ne peuvent pas \xeatre annul\xe9es dans les 6 heures pr\xe9c\xe9dant le rendez-vous."}):(0,ba.jsx)(gi,{variant:"danger",onClick:()=>{g(i.eventType),j(!1),x(!0),p(null),m(null)},className:"w-100",children:"Annuler la R\xe9servation"})})]})}),(0,ba.jsx)(zo.Footer,{children:(0,ba.jsx)(gi,{variant:"secondary",onClick:L,children:"Fermer"})})]}),(0,ba.jsxs)(zo,{show:f,onHide:A,centered:!0,scrollable:!0,dialogClassName:"modal-dialog-scrollable",children:[(0,ba.jsx)(zo.Header,{closeButton:!0,children:(0,ba.jsx)(zo.Title,{children:"Confirmer l'Annulation"})}),(0,ba.jsx)(zo.Body,{children:i&&(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsxs)("p",{children:["\xcates-vous s\xfbr de vouloir annuler ","individual"===v?"cette s\xe9ance de coaching":"cette r\xe9servation de cours collectif"," ?"]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsxs)("strong",{children:["individual"===v?"Coach":"Cours",":"]})," ","individual"===v?i.coach_name:i.title]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Date:"})," ",z(i.date)]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Heure:"})," ",M(i.time)]}),(0,ba.jsxs)("div",{className:"alert alert-info",children:["Vous serez rembours\xe9 de 1 ","individual"===v?"Point Solo (PS)":"Point \xc9quipe (PE)","."]}),h&&(0,ba.jsxs)("div",{className:"alert alert-danger",children:[(0,ba.jsx)("i",{className:"fas fa-exclamation-circle me-2"}),h]}),u&&(0,ba.jsxs)("div",{className:"alert alert-success",children:[(0,ba.jsx)("i",{className:"fas fa-check-circle me-2"}),u]})]})}),(0,ba.jsxs)(zo.Footer,{children:[(0,ba.jsx)(gi,{variant:"secondary",onClick:A,disabled:c,children:"Fermer"}),(0,ba.jsx)(gi,{variant:"danger",onClick:async()=>{d(!0),p(null),m(null);try{let e;e="individual"===v?await ua.post("/api/reservations/client/cancel/".concat(i.id),{user_id:r.id}):await ua.post("/api/group-courses/".concat(i.course_id,"/cancel"),{}),m("Votre r\xe9servation a \xe9t\xe9 annul\xe9e avec succ\xe8s. Un point a \xe9t\xe9 rembours\xe9 \xe0 votre compte."),e.data.updated_points&&l(ze(ze({},r),{},{points:e.data.updated_points,solo_points:e.data.updated_solo_points,team_points:e.data.updated_team_points})),s(i.id,"individual"!==v),setTimeout((()=>{A()}),2e3)}catch(n){var e,t;console.error("Error cancelling reservation:",n),p((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to cancel reservation")}finally{d(!1)}},disabled:c||u,children:c?(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(cd,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),(0,ba.jsx)("span",{className:"ms-2",children:"Annulation en cours..."})]}):"Confirmer l'Annulation"})]})]})]})},Qu=()=>{var e,t,n;const{currentUser:s,updatePoints:l,logout:r}=(0,a.useContext)(ya),i=te(),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)("info"),[m,h]=(0,a.useState)(!0),[p,f]=(0,a.useState)(null),[x,v]=(0,a.useState)([]),[g,b]=(0,a.useState)(window.innerWidth<768);(0,a.useEffect)((()=>{const e=()=>{b(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const j=()=>{r("user"),i("/",{replace:!0})};(0,a.useEffect)((()=>{(async()=>{try{if(!s)return f("Please log in to view your profile."),void h(!1);const t=localStorage.getItem("clientToken");if(!t)return f("No authentication token found. Please log in again."),h(!1),r("user"),void i("/login",{replace:!0});ga.defaults.headers.common.Authorization||(console.log("Setting authorization header from localStorage"),ga.defaults.headers.common.Authorization="Bearer ".concat(t)),console.log("Fetching user profile from /api/user/profile...");const n=await ga.get("/api/user/profile");console.log("Profile data received:",n.data),c(n.data),console.log("Fetching group sessions from /api/group-courses/my-bookings...");try{const e=await ga.get("/api/group-courses/my-bookings");console.log("Group sessions received:",e.data),v(e.data||[])}catch(o){var e;console.warn("Error fetching group sessions:",o),console.warn("Error details:",null===(e=o.response)||void 0===e?void 0:e.data),v([])}h(!1)}catch(d){var t,n,a,l;const e=(null===(t=d.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||d.message||"Unknown error";f("Failed to load profile data. Error: ".concat(e)),h(!1),console.error("Profile loading error:",d),console.error("Error details:",null===(a=d.response)||void 0===a?void 0:a.data),401===(null===(l=d.response)||void 0===l?void 0:l.status)&&(console.error("Authentication error - token expired or invalid"),console.error("Current token:",localStorage.getItem("clientToken")),r("user"),f("Your session has expired. Please log in again."),setTimeout((()=>{i("/login",{replace:!0})}),2e3))}})()}),[]);const y=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",timeZone:"Africa/Casablanca"})},N=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?v((t=>t.map((t=>t.id===e?ze(ze({},t),{},{status:"cancelled"}):t)))):c((t=>ze(ze({},t),{},{sessions:ze(ze({},t.sessions),{},{list:t.sessions.list.map((t=>t.id===e?ze(ze({},t),{},{status:"cancelled"}):t))})})))};return m?g?(0,ba.jsx)("div",{className:"mobile-logo-loading-container",children:(0,ba.jsxs)("div",{className:"mobile-logo-animation-wrapper",children:[(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"mobile-jumping-logo"}),(0,ba.jsx)("div",{className:"mobile-logo-shadow"})]})}):(0,ba.jsx)("div",{className:"logo-loading-container",children:(0,ba.jsxs)("div",{className:"logo-animation-wrapper",children:[(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"jumping-logo"}),(0,ba.jsx)("div",{className:"logo-shadow"})]})}):p?g?(0,ba.jsx)("div",{className:"mobile-app-container",children:(0,ba.jsxs)("div",{className:"mobile-empty-state",children:[(0,ba.jsx)("div",{className:"mobile-empty-icon",children:(0,ba.jsx)("i",{className:"fas fa-exclamation-triangle"})}),(0,ba.jsx)("div",{className:"mobile-empty-title",children:"Erreur"}),(0,ba.jsx)("div",{className:"mobile-empty-text",children:p})]})}):(0,ba.jsx)("div",{className:"alert alert-danger",children:p}):o?g?(0,ba.jsxs)("div",{className:"mobile-app-container",children:[(0,ba.jsx)("header",{className:"mobile-app-header",children:(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,ba.jsxs)(Pe,{to:"/",className:"brand",children:[(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching"}),"Suite Coaching"]}),(0,ba.jsxs)("div",{className:"dropdown",children:[(0,ba.jsx)("button",{className:"btn p-0 mobile-user-dropdown",type:"button",id:"mobileUserDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,ba.jsx)("div",{className:"user-avatar",children:(0,ba.jsx)("i",{className:"fas fa-user"})})}),(0,ba.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end mobile-dropdown-menu","aria-labelledby":"mobileUserDropdown",children:[(0,ba.jsx)("li",{children:(0,ba.jsxs)("div",{className:"dropdown-item-text mobile-user-info",children:[(0,ba.jsx)("div",{className:"mobile-user-name",children:s.username}),(0,ba.jsx)("div",{className:"mobile-user-email",children:s.email})]})}),(0,ba.jsx)("li",{children:(0,ba.jsx)("hr",{className:"dropdown-divider"})}),(0,ba.jsx)("li",{children:(0,ba.jsxs)("button",{className:"dropdown-item mobile-logout-item",onClick:j,children:[(0,ba.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"D\xe9connexion"]})})]})]})]})}),(0,ba.jsxs)("div",{className:"mobile-profile-hero",children:[(0,ba.jsx)("div",{className:"mobile-profile-avatar",children:(0,ba.jsx)("i",{className:"fas fa-user"})}),(0,ba.jsx)("div",{className:"mobile-profile-name",children:o.user.full_name||o.user.username}),(0,ba.jsx)("div",{className:"mobile-profile-email",children:o.user.email})]}),(0,ba.jsxs)("div",{className:"mobile-stats-grid",children:[(0,ba.jsxs)("div",{className:"mobile-stat-card",children:[(0,ba.jsx)("div",{className:"mobile-stat-value",style:{color:"#007bff"},children:o.user.solo_points||0}),(0,ba.jsx)("div",{className:"mobile-stat-label",children:"Session individuelle"})]}),(0,ba.jsxs)("div",{className:"mobile-stat-card",children:[(0,ba.jsx)("div",{className:"mobile-stat-value",style:{color:"#17a2b8"},children:o.user.team_points||0}),(0,ba.jsx)("div",{className:"mobile-stat-label",children:"Session en \xe9quipe"})]}),(0,ba.jsxs)("div",{className:"mobile-stat-card",children:[(0,ba.jsx)("div",{className:"mobile-stat-value",style:{color:"#28a745"},children:o.packs.total_assigned}),(0,ba.jsx)("div",{className:"mobile-stat-label",children:"Packs"})]}),(0,ba.jsxs)("div",{className:"mobile-stat-card",children:[(0,ba.jsx)("div",{className:"mobile-stat-value",style:{color:"#ffc107"},children:o.statistics.sessions_available}),(0,ba.jsx)("div",{className:"mobile-stat-label",children:"Sessions"})]}),(0,ba.jsxs)("div",{className:"mobile-stat-card",children:[(0,ba.jsx)("div",{className:"mobile-stat-value",style:{color:"#dc3545"},children:(null===(w=o.bilans)||void 0===w?void 0:w.total)||0}),(0,ba.jsx)("div",{className:"mobile-stat-label",children:"Bilans"})]})]}),(0,ba.jsxs)("div",{className:"mobile-tab-nav d-flex",children:[(0,ba.jsxs)("button",{className:"mobile-tab-btn ".concat("info"===d?"active":""),onClick:()=>u("info"),children:[(0,ba.jsx)("i",{className:"fas fa-info-circle d-block mb-1"}),(0,ba.jsx)("span",{className:"mobile-tab-text",children:"Info"})]}),(0,ba.jsxs)("button",{className:"mobile-tab-btn ".concat("reservations"===d?"active":""),onClick:()=>u("reservations"),children:[(0,ba.jsx)("i",{className:"fas fa-calendar-check d-block mb-1"}),(0,ba.jsx)("span",{className:"mobile-tab-text",children:"Sessions"})]}),(0,ba.jsxs)("button",{className:"mobile-tab-btn ".concat("calendar"===d?"active":""),onClick:()=>u("calendar"),children:[(0,ba.jsx)("i",{className:"fas fa-calendar-alt d-block mb-1"}),(0,ba.jsx)("span",{className:"mobile-tab-text",children:"Calendrier"})]}),(0,ba.jsxs)("button",{className:"mobile-tab-btn ".concat("packs"===d?"active":""),onClick:()=>u("packs"),children:[(0,ba.jsx)("i",{className:"fas fa-box d-block mb-1"}),(0,ba.jsx)("span",{className:"mobile-tab-text",children:"Packs"})]}),(0,ba.jsxs)("button",{className:"mobile-tab-btn ".concat("bilans"===d?"active":""),onClick:()=>u("bilans"),children:[(0,ba.jsx)("i",{className:"fas fa-file-medical-alt d-block mb-1"}),(0,ba.jsx)("span",{className:"mobile-tab-text",children:"Bilans"})]})]}),"info"===d&&(0,ba.jsxs)("div",{className:"mobile-content-section",children:[(0,ba.jsxs)("div",{className:"mobile-section-header",children:[(0,ba.jsx)("i",{className:"fas fa-info-circle me-2"}),"Informations Personnelles"]}),(0,ba.jsx)("div",{className:"mobile-section-content",children:(0,ba.jsxs)("div",{className:"row g-3",children:[(0,ba.jsxs)("div",{className:"col-6",children:[(0,ba.jsx)("div",{className:"small text-muted",children:"Matricule"}),(0,ba.jsx)("div",{className:"fw-bold",children:o.user.matricule})]}),(0,ba.jsxs)("div",{className:"col-6",children:[(0,ba.jsx)("div",{className:"small text-muted",children:"Nom complet"}),(0,ba.jsx)("div",{className:"fw-bold",children:o.user.full_name||"Non renseign\xe9"})]}),(0,ba.jsxs)("div",{className:"col-6",children:[(0,ba.jsx)("div",{className:"small text-muted",children:"T\xe9l\xe9phone"}),(0,ba.jsx)("div",{className:"fw-bold",children:o.user.phone||"Non renseign\xe9"})]}),(0,ba.jsxs)("div",{className:"col-6",children:[(0,ba.jsx)("div",{className:"small text-muted",children:"\xc2ge"}),(0,ba.jsx)("div",{className:"fw-bold",children:o.user.age||"Non renseign\xe9"})]}),(0,ba.jsxs)("div",{className:"col-6",children:[(0,ba.jsx)("div",{className:"small text-muted",children:"Genre"}),(0,ba.jsx)("div",{className:"fw-bold",children:o.user.gender||"Non renseign\xe9"})]}),(0,ba.jsxs)("div",{className:"col-6",children:[(0,ba.jsx)("div",{className:"small text-muted",children:"Membre depuis"}),(0,ba.jsx)("div",{className:"fw-bold",children:y(o.user.member_since)})]}),(0,ba.jsxs)("div",{className:"col-12",children:[(0,ba.jsx)("div",{className:"small text-muted",children:"Objectif fitness"}),(0,ba.jsx)("div",{className:"fw-bold",children:o.user.goal||"Non renseign\xe9"})]})]})})]}),"reservations"===d&&(0,ba.jsxs)("div",{className:"mobile-content-section",children:[(0,ba.jsxs)("div",{className:"mobile-section-header",children:[(0,ba.jsx)("i",{className:"fas fa-list-ul me-2"}),"Mes R\xe9servations"]}),(0,ba.jsx)("div",{className:"mobile-section-content",children:(0,ba.jsx)(Ku,{sessions:o.sessions.list,groupSessions:x,onCancelSuccess:N,updatePoints:l,currentUser:s})})]}),"calendar"===d&&(0,ba.jsxs)("div",{className:"mobile-content-section",children:[(0,ba.jsxs)("div",{className:"mobile-section-header",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-alt me-2"}),"Vue Calendrier"]}),(0,ba.jsx)("div",{className:"mobile-section-content",children:(0,ba.jsx)(Ju,{sessions:o.sessions.list,groupSessions:x,onCancelSuccess:N,updatePoints:l,currentUser:s})})]}),"packs"===d&&(0,ba.jsxs)("div",{className:"mobile-content-section",children:[(0,ba.jsxs)("div",{className:"mobile-section-header",children:[(0,ba.jsx)("i",{className:"fas fa-box me-2"}),"Mes Packs (",o.packs.total_assigned,")"]}),(0,ba.jsx)("div",{className:"mobile-section-content",children:o.packs.list.length>0?(0,ba.jsx)("div",{children:o.packs.list.map((e=>(0,ba.jsxs)("div",{className:"mobile-reservation-card",children:[(0,ba.jsxs)("div",{className:"mobile-reservation-header",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("div",{className:"mobile-reservation-coach",children:e.name}),(0,ba.jsxs)("div",{className:"mobile-reservation-date",children:["Achet\xe9 le ",y(e.purchased_at)]})]}),(0,ba.jsx)("span",{className:"badge mobile-reservation-status ".concat("completed"===e.payment_status?"bg-success":"bg-warning"),children:"completed"===e.payment_status?"Actif":e.payment_status})]}),(0,ba.jsxs)("div",{className:"d-flex justify-content-between mt-2",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("small",{className:"text-muted",children:"Session individuelle:"}),(0,ba.jsxs)("div",{className:"fw-bold text-primary",children:[e.solo_points||0," SI"]})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("small",{className:"text-muted",children:"Session en \xe9quipe:"}),(0,ba.jsxs)("div",{className:"fw-bold text-info",children:[e.team_points||0," SE"]})]})]})]},e.id)))}):(0,ba.jsxs)("div",{className:"mobile-empty-state",children:[(0,ba.jsx)("div",{className:"mobile-empty-icon",children:(0,ba.jsx)("i",{className:"fas fa-box-open"})}),(0,ba.jsx)("div",{className:"mobile-empty-title",children:"Aucun pack"}),(0,ba.jsx)("div",{className:"mobile-empty-text",children:"Vous n'avez pas encore de packs assign\xe9s"})]})})]}),"bilans"===d&&(0,ba.jsxs)("div",{className:"mobile-content-section",children:[(0,ba.jsxs)("div",{className:"mobile-section-header",children:[(0,ba.jsx)("i",{className:"fas fa-file-medical-alt me-2"}),"Mes Bilans (",(null===(k=o.bilans)||void 0===k?void 0:k.total)||0,")"]}),(0,ba.jsx)("div",{className:"mobile-section-content",children:((null===(S=o.bilans)||void 0===S?void 0:S.list)||[]).length>0?(0,ba.jsx)("div",{children:((null===(C=o.bilans)||void 0===C?void 0:C.list)||[]).map((e=>(0,ba.jsxs)("div",{className:"mobile-reservation-card",children:[(0,ba.jsxs)("div",{className:"mobile-reservation-header",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("div",{className:"mobile-reservation-coach",children:[(0,ba.jsx)("i",{className:"fas fa-user-md me-2"}),e.coach_name]}),(0,ba.jsx)("div",{className:"mobile-reservation-date",children:e.coach_specialty})]}),(0,ba.jsx)("span",{className:"badge bg-primary mobile-reservation-status",children:"Coach"})]}),(0,ba.jsxs)("div",{className:"mt-3",children:[(0,ba.jsxs)("div",{className:"mobile-bilan-content",children:[(0,ba.jsx)("small",{className:"text-muted d-block mb-2",children:"Bilan:"}),(0,ba.jsx)("div",{style:{fontSize:"0.9rem",lineHeight:"1.5",whiteSpace:"pre-wrap",backgroundColor:"#f8f9fa",padding:"12px",borderRadius:"8px",border:"1px solid #e9ecef"},children:e.bilan})]}),(0,ba.jsxs)("div",{className:"d-flex justify-content-between mt-3 pt-2 border-top",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsx)("small",{className:"text-muted",children:"Cr\xe9\xe9:"}),(0,ba.jsx)("div",{className:"small fw-bold",children:y(e.created_at)})]}),(0,ba.jsxs)("div",{children:[(0,ba.jsx)("small",{className:"text-muted",children:"Modifi\xe9:"}),(0,ba.jsx)("div",{className:"small fw-bold",children:y(e.updated_at)})]})]})]})]},e.id)))}):(0,ba.jsxs)("div",{className:"mobile-empty-state",children:[(0,ba.jsx)("div",{className:"mobile-empty-icon",children:(0,ba.jsx)("i",{className:"fas fa-file-medical-alt"})}),(0,ba.jsx)("div",{className:"mobile-empty-title",children:"Aucun bilan"}),(0,ba.jsx)("div",{className:"mobile-empty-text",children:"Vos coachs n'ont pas encore cr\xe9\xe9 de bilan pour vous"})]})})]}),(0,ba.jsx)(Ya,{currentView:"profile"})]}):(0,ba.jsx)("div",{className:"row desktop-only",children:(0,ba.jsxs)("div",{className:"col-12",children:[(0,ba.jsxs)("h2",{className:"mb-4",children:[(0,ba.jsx)("i",{className:"fas fa-user-circle me-2"}),"My Profile"]}),(0,ba.jsxs)("div",{className:"row mb-4",children:[(0,ba.jsx)("div",{className:"col-md-3 mb-3",children:(0,ba.jsx)("div",{className:"card bg-primary text-white",children:(0,ba.jsxs)("div",{className:"card-body text-center",children:[(0,ba.jsx)("h3",{className:"mb-1",children:o.user.solo_points||0}),(0,ba.jsx)("small",{children:"Session individuelle (SI)"})]})})}),(0,ba.jsx)("div",{className:"col-md-3 mb-3",children:(0,ba.jsx)("div",{className:"card bg-info text-white",children:(0,ba.jsxs)("div",{className:"card-body text-center",children:[(0,ba.jsx)("h3",{className:"mb-1",children:o.user.team_points||0}),(0,ba.jsx)("small",{children:"Points \xc9quipe (PE)"})]})})}),(0,ba.jsx)("div",{className:"col-md-3 mb-3",children:(0,ba.jsx)("div",{className:"card bg-success text-white",children:(0,ba.jsxs)("div",{className:"card-body text-center",children:[(0,ba.jsx)("h3",{className:"mb-1",children:o.packs.total_assigned}),(0,ba.jsx)("small",{children:"Packs Assign\xe9s"})]})})}),(0,ba.jsx)("div",{className:"col-md-3 mb-3",children:(0,ba.jsx)("div",{className:"card bg-warning text-white",children:(0,ba.jsxs)("div",{className:"card-body text-center",children:[(0,ba.jsx)("h3",{className:"mb-1",children:o.statistics.sessions_available}),(0,ba.jsx)("small",{children:"S\xe9ances Disponibles"})]})})})]}),(0,ba.jsxs)(Ul.Container,{id:"profile-tabs",activeKey:d,onSelect:e=>u(e),children:[(0,ba.jsxs)(Ar,{variant:"tabs",className:"mb-4",children:[(0,ba.jsx)(Ar.Item,{children:(0,ba.jsxs)(Ar.Link,{eventKey:"info",children:[(0,ba.jsx)("i",{className:"fas fa-info-circle me-2"}),"Informations Personnelles"]})}),(0,ba.jsx)(Ar.Item,{children:(0,ba.jsxs)(Ar.Link,{eventKey:"reservations",children:[(0,ba.jsx)("i",{className:"fas fa-list-ul me-2"}),"Liste des R\xe9servations"]})}),(0,ba.jsx)(Ar.Item,{children:(0,ba.jsxs)(Ar.Link,{eventKey:"calendar",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-alt me-2"}),"Vue Calendrier"]})}),(0,ba.jsx)(Ar.Item,{children:(0,ba.jsxs)(Ar.Link,{eventKey:"packs",children:[(0,ba.jsx)("i",{className:"fas fa-box me-2"}),"Mes Packs"]})}),(0,ba.jsx)(Ar.Item,{children:(0,ba.jsxs)(Ar.Link,{eventKey:"bilans",children:[(0,ba.jsx)("i",{className:"fas fa-file-medical-alt me-2"}),"Mes Bilans"]})})]}),(0,ba.jsxs)(Ul.Content,{children:[(0,ba.jsx)(Ul.Pane,{eventKey:"info",children:(0,ba.jsxs)("div",{className:"card",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsx)("h5",{className:"mb-0",children:"Informations Personnelles"})}),(0,ba.jsx)("div",{className:"card-body",children:(0,ba.jsxs)("div",{className:"row",children:[(0,ba.jsxs)("div",{className:"col-md-6",children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Matricule:"})," ",o.user.matricule]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Nom complet:"})," ",o.user.full_name||"Non renseign\xe9"]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Email:"})," ",o.user.email]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"T\xe9l\xe9phone:"})," ",o.user.phone||"Non renseign\xe9"]})]}),(0,ba.jsxs)("div",{className:"col-md-6",children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"\xc2ge:"})," ",o.user.age||"Non renseign\xe9"]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Genre:"})," ",o.user.gender||"Non renseign\xe9"]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Membre depuis:"})," ",y(o.user.member_since)]}),(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("strong",{children:"Objectif fitness:"})," ",o.user.goal||"Non renseign\xe9"]})]})]})})]})}),(0,ba.jsx)(Ul.Pane,{eventKey:"reservations",children:(0,ba.jsx)(Ku,{sessions:o.sessions.list,groupSessions:x,onCancelSuccess:N,updatePoints:l,currentUser:s})}),(0,ba.jsx)(Ul.Pane,{eventKey:"calendar",children:(0,ba.jsx)(Ju,{sessions:o.sessions.list,groupSessions:x,onCancelSuccess:N,updatePoints:l,currentUser:s})}),(0,ba.jsx)(Ul.Pane,{eventKey:"packs",children:(0,ba.jsxs)("div",{className:"card",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsxs)("h5",{className:"mb-0",children:["Mes Packs (",o.packs.total_assigned,")"]})}),(0,ba.jsx)("div",{className:"card-body",children:o.packs.list.length>0?(0,ba.jsx)("div",{className:"table-responsive",children:(0,ba.jsxs)("table",{className:"table table-striped",children:[(0,ba.jsx)("thead",{children:(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("th",{children:"Nom du Pack"}),(0,ba.jsx)("th",{children:"Session individuelle"}),(0,ba.jsx)("th",{children:"Session en \xe9quipe"}),(0,ba.jsx)("th",{children:"Date d'Achat"}),(0,ba.jsx)("th",{children:"Statut"})]})}),(0,ba.jsx)("tbody",{children:o.packs.list.map((e=>(0,ba.jsxs)("tr",{children:[(0,ba.jsx)("td",{children:e.name}),(0,ba.jsxs)("td",{children:[e.solo_points||0," SI"]}),(0,ba.jsxs)("td",{children:[e.team_points||0," SE"]}),(0,ba.jsx)("td",{children:y(e.purchased_at)}),(0,ba.jsx)("td",{children:(0,ba.jsx)("span",{className:"badge bg-success",children:"completed"===e.payment_status?"Actif":e.payment_status})})]},e.id)))})]})}):(0,ba.jsxs)("div",{className:"text-center py-4",children:[(0,ba.jsx)("i",{className:"fas fa-box-open fa-3x text-muted mb-3"}),(0,ba.jsx)("p",{className:"text-muted",children:"Aucun pack attribu\xe9 pour le moment"})]})})]})}),(0,ba.jsx)(Ul.Pane,{eventKey:"bilans",children:(0,ba.jsxs)("div",{className:"card",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)("i",{className:"fas fa-file-medical-alt me-2"}),"Mes Bilans (",(null===(e=o.bilans)||void 0===e?void 0:e.total)||0,")"]})}),(0,ba.jsx)("div",{className:"card-body",children:((null===(t=o.bilans)||void 0===t?void 0:t.list)||[]).length>0?(0,ba.jsx)("div",{className:"row",children:((null===(n=o.bilans)||void 0===n?void 0:n.list)||[]).map((e=>(0,ba.jsx)("div",{className:"col-md-6 mb-4",children:(0,ba.jsxs)("div",{className:"card border-left-primary h-100",children:[(0,ba.jsx)("div",{className:"card-header bg-light",children:(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("h6",{className:"mb-0 fw-bold text-primary",children:[(0,ba.jsx)("i",{className:"fas fa-user-md me-2"}),e.coach_name]}),(0,ba.jsx)("small",{className:"text-muted",children:e.coach_specialty})]}),(0,ba.jsx)("span",{className:"badge bg-primary",children:"Coach"})]})}),(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsx)("div",{className:"bilan-content",children:(0,ba.jsx)("p",{className:"mb-3",style:{lineHeight:"1.6",whiteSpace:"pre-wrap"},children:e.bilan})}),(0,ba.jsx)("div",{className:"bilan-metadata mt-3 pt-3 border-top",children:(0,ba.jsxs)("div",{className:"row text-muted small",children:[(0,ba.jsxs)("div",{className:"col-6",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-plus me-1"}),(0,ba.jsx)("strong",{children:"Cr\xe9\xe9:"}),(0,ba.jsx)("br",{}),y(e.created_at)]}),(0,ba.jsxs)("div",{className:"col-6",children:[(0,ba.jsx)("i",{className:"fas fa-calendar-edit me-1"}),(0,ba.jsx)("strong",{children:"Modifi\xe9:"}),(0,ba.jsx)("br",{}),y(e.updated_at)]})]})})]})]})},e.id)))}):(0,ba.jsxs)("div",{className:"text-center py-5",children:[(0,ba.jsx)("i",{className:"fas fa-file-medical-alt fa-4x text-muted mb-3"}),(0,ba.jsx)("h5",{className:"text-muted",children:"Aucun bilan disponible"}),(0,ba.jsxs)("p",{className:"text-muted",children:["Vos coachs n'ont pas encore cr\xe9\xe9 de bilan pour vous.",(0,ba.jsx)("br",{}),"Les bilans appara\xeetront ici une fois qu'ils seront r\xe9dig\xe9s par vos coachs."]})]})})]})})]})]})]})}):g?(0,ba.jsx)("div",{className:"mobile-app-container",children:(0,ba.jsxs)("div",{className:"mobile-empty-state",children:[(0,ba.jsx)("div",{className:"mobile-empty-icon",children:(0,ba.jsx)("i",{className:"fas fa-user-slash"})}),(0,ba.jsx)("div",{className:"mobile-empty-title",children:"Profil non trouv\xe9"})]})}):(0,ba.jsx)("div",{className:"alert alert-warning",children:"Profile not found"});var w,k,S,C},Xu=()=>{const[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(!0),[l,r]=(0,a.useState)(""),[i,o]=(0,a.useState)(window.innerWidth<768),{currentUser:c,logout:d}=(0,a.useContext)(ya),u=te();(0,a.useEffect)((()=>{const e=()=>{o(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);return(0,a.useEffect)((()=>{(async()=>{try{s(!0);const e=await ga.get("/api/packs");t(e.data),s(!1)}catch(e){console.error("Error fetching packs:",e),r("Failed to load available packs. Please try again later."),s(!1)}})()}),[]),(0,ba.jsx)(ba.Fragment,{children:i?(0,ba.jsxs)("div",{className:"mobile-app-container",children:[(0,ba.jsx)("header",{className:"mobile-app-header",children:(0,ba.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,ba.jsxs)(Pe,{to:"/",className:"brand",children:[(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching"}),"Suite Coaching"]}),c?(0,ba.jsxs)("div",{className:"dropdown",children:[(0,ba.jsx)("button",{className:"btn p-0 mobile-user-dropdown",type:"button",id:"mobileUserDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,ba.jsx)("div",{className:"user-avatar",children:(0,ba.jsx)("i",{className:"fas fa-user"})})}),(0,ba.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end mobile-dropdown-menu","aria-labelledby":"mobileUserDropdown",children:[(0,ba.jsx)("li",{children:(0,ba.jsxs)("div",{className:"dropdown-item-text mobile-user-info",children:[(0,ba.jsx)("div",{className:"mobile-user-name",children:c.username}),(0,ba.jsx)("div",{className:"mobile-user-email",children:c.email})]})}),(0,ba.jsx)("li",{children:(0,ba.jsx)("hr",{className:"dropdown-divider"})}),(0,ba.jsx)("li",{children:(0,ba.jsxs)("button",{className:"dropdown-item mobile-logout-item",onClick:()=>{d("user"),u("/",{replace:!0})},children:[(0,ba.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"D\xe9connexion"]})})]})]}):(0,ba.jsx)(Pe,{to:"/login",className:"btn btn-sm btn-light",children:"Connexion"})]})}),(0,ba.jsx)("div",{className:"mobile-app-content",children:(0,ba.jsxs)("div",{className:"mobile-content-section",children:[(0,ba.jsxs)("div",{className:"mobile-section-header",children:[(0,ba.jsx)("i",{className:"fas fa-gift me-2"}),"Packs Disponibles"]}),(0,ba.jsxs)("div",{className:"mobile-section-content",children:[(0,ba.jsx)("p",{className:"text-muted mb-3",style:{fontSize:"0.9rem"},children:"Contactez votre administrateur pour obtenir un de ces packs."}),l&&(0,ba.jsx)(Fi,{variant:"danger",className:"mb-3",children:l}),n?(0,ba.jsx)("div",{className:"text-center py-4",style:{minHeight:"200px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,ba.jsxs)("div",{className:"mobile-logo-animation-wrapper",children:[(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"mobile-jumping-logo"}),(0,ba.jsx)("div",{className:"mobile-logo-shadow"})]})}):(0,ba.jsx)(ba.Fragment,{children:0===e.length?(0,ba.jsxs)("div",{className:"mobile-empty-state",children:[(0,ba.jsx)("div",{className:"mobile-empty-icon",children:(0,ba.jsx)("i",{className:"fas fa-gift"})}),(0,ba.jsx)("div",{className:"mobile-empty-title",children:"Aucun pack disponible"}),(0,ba.jsx)("div",{className:"mobile-empty-text",children:"Veuillez contacter votre administrateur"})]}):(0,ba.jsx)("div",{className:"mobile-packs-grid",children:e.map((e=>(0,ba.jsxs)("div",{className:"mobile-pack-card",children:[(0,ba.jsxs)("div",{className:"mobile-pack-header",children:[(0,ba.jsx)("div",{className:"mobile-pack-icon",children:(0,ba.jsx)("i",{className:"fas fa-star"})}),(0,ba.jsx)("div",{className:"mobile-pack-name",children:e.name})]}),(0,ba.jsxs)("div",{className:"mobile-pack-points",children:[(0,ba.jsx)("span",{className:"mobile-pack-points-value",children:e.points}),(0,ba.jsx)("span",{className:"mobile-pack-points-label",children:"Points"})]}),e.description&&(0,ba.jsx)("div",{className:"mobile-pack-features",children:e.description.split("\n").map(((e,t)=>e.trim()?(0,ba.jsxs)("div",{className:"mobile-pack-feature",children:[(0,ba.jsx)("i",{className:"fas fa-check-circle me-2"}),e.trim()]},t):null))}),(0,ba.jsx)("div",{className:"mobile-pack-price",children:e.price?(0,ba.jsxs)("span",{className:"mobile-price-badge paid",children:[e.price," DH"]}):(0,ba.jsx)("span",{className:"mobile-price-badge free",children:"Gratuit"})}),(0,ba.jsx)("div",{className:"mobile-pack-footer",children:(0,ba.jsx)("small",{children:"Contactez l'admin pour obtenir ce pack"})})]},e.id)))})}),(0,ba.jsxs)("div",{className:"mobile-info-card mt-4",children:[(0,ba.jsx)("h6",{className:"mb-2",children:"Comment obtenir un pack :"}),(0,ba.jsx)("p",{className:"mb-0",style:{fontSize:"0.9rem"},children:"Contactez votre administrateur pour avoir un de ces packs assign\xe9 \xe0 votre compte. Une fois assign\xe9s, les points seront automatiquement ajout\xe9s \xe0 votre solde."})]})]})]})}),(0,ba.jsx)(Ya,{currentView:"packs"})]}):(0,ba.jsxs)(hs,{className:"my-4",children:[(0,ba.jsx)(ql,{children:(0,ba.jsxs)(Yl,{children:[(0,ba.jsxs)("h2",{className:"mb-4",children:[(0,ba.jsx)(qc,{className:"me-2"}),"Available Point Packs"]}),(0,ba.jsx)("p",{className:"text-muted mb-4",children:"Contact your administrator to get one of these packs assigned to your account."})]})}),l&&(0,ba.jsx)(ql,{children:(0,ba.jsx)(Yl,{children:(0,ba.jsx)(Fi,{variant:"danger",children:l})})}),n?(0,ba.jsx)(ql,{children:(0,ba.jsx)(Yl,{className:"text-center py-5",style:{minHeight:"300px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,ba.jsxs)("div",{className:"logo-animation-wrapper",children:[(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"jumping-logo"}),(0,ba.jsx)("div",{className:"logo-shadow"})]})})}):(0,ba.jsx)(ql,{children:0===e.length?(0,ba.jsx)(Yl,{children:(0,ba.jsx)(Fi,{variant:"info",children:"No packs are currently available. Please check back later or contact your administrator."})}):e.map((e=>(0,ba.jsx)(Yl,{md:4,className:"mb-4",children:(0,ba.jsxs)(fi,{className:"h-100 shadow-sm border-0",children:[(0,ba.jsx)(fi.Header,{className:"bg-primary text-white text-center",children:(0,ba.jsxs)("h5",{className:"mb-0",children:[(0,ba.jsx)(Gc,{className:"me-2"}),e.name]})}),(0,ba.jsxs)(fi.Body,{className:"d-flex flex-column text-center",children:[(0,ba.jsxs)("div",{className:"mb-3",children:[(0,ba.jsx)("span",{className:"display-4 text-primary fw-bold",children:e.points}),(0,ba.jsx)("div",{className:"text-muted",children:"Points"})]}),e.description&&(0,ba.jsx)("div",{className:"flex-grow-1 text-start mt-3",children:(0,ba.jsx)("ul",{className:"list-unstyled pack-features",children:e.description.split("\n").map(((e,t)=>e.trim()?(0,ba.jsxs)("li",{className:"mb-2",children:[(0,ba.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),e.trim()]},t):null))})}),(0,ba.jsx)("div",{className:"mt-auto",children:e.price?(0,ba.jsxs)(Ui,{bg:"success",className:"fs-6 px-3 py-2",children:[e.price," DH"]}):(0,ba.jsx)(Ui,{bg:"info",className:"fs-6 px-3 py-2",children:"Free"})})]}),(0,ba.jsx)(fi.Footer,{className:"bg-light text-center",children:(0,ba.jsx)("small",{className:"text-muted",children:"Contact admin to get this pack"})})]})},e.id)))}),(0,ba.jsx)(ql,{className:"mt-4",children:(0,ba.jsx)(Yl,{children:(0,ba.jsxs)(Fi,{variant:"light",className:"border",children:[(0,ba.jsx)("h6",{children:"How to get a pack:"}),(0,ba.jsx)("p",{className:"mb-0",children:"Contact your administrator to have one of these packs assigned to your account. Once assigned, the points will be automatically added to your balance and you can use them to book coaching sessions."})]})})})]})})},Zu=e=>{let{children:t,requiredRole:n="admin"}=e;const{currentUser:s,adminUser:l,coachUser:r,isAdmin:i,isCoach:o}=(0,a.useContext)(ya),[c,d]=(0,a.useState)(!0),[u,m]=(0,a.useState)(!1),h=te();return(0,a.useEffect)((()=>{(async()=>{if("admin"===n){if(l&&i)return console.log("User is already authenticated as admin"),m(!0),void d(!1);if(!l)return console.log("No admin user found, redirecting to admin login"),m(!1),void d(!1)}if("coach"===n){if(r&&"coach"===r.role)return console.log("User is already authenticated as coach"),m(!0),void d(!1);const t=localStorage.getItem("coachToken"),n=JSON.parse(localStorage.getItem("coachUser")||"null");if(!t||!n)return console.log("No coach token or user found, redirecting to coach login"),m(!1),void d(!1);try{return ua.defaults.headers.common.Authorization="Bearer ".concat(t),await ua.get("/api/auth/me"),m(!0),void d(!1)}catch(e){return console.error("Coach token verification failed:",e),localStorage.removeItem("coachToken"),localStorage.removeItem("coachUser"),m(!1),void d(!1)}}if("user"===n){if(s&&"user"===s.role)return console.log("User is already authenticated as client"),m(!0),void d(!1);const t=localStorage.getItem("clientToken"),n=JSON.parse(localStorage.getItem("clientUser")||"null");if(!t||!n)return console.log("No client token or user found, redirecting to client login"),m(!1),void d(!1);try{return ua.defaults.headers.common.Authorization="Bearer ".concat(t),await ua.get("/api/auth/me"),m(!0),void d(!1)}catch(e){return console.error("Client token verification failed:",e),localStorage.removeItem("clientToken"),localStorage.removeItem("clientUser"),m(!1),void d(!1)}}try{let e;if("admin"===n){if(e=localStorage.getItem("adminToken"),!e)throw new Error("No admin token found");ua.defaults.headers.common.Authorization="Bearer ".concat(e),await ua.get("/api/auth/me"),m(!0)}}catch(e){console.error("".concat(n," authentication verification failed:"),e),"admin"===n&&(localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser")),m(!1)}finally{d(!1)}})()}),[l,i,n,h]),c?(0,ba.jsx)("div",{className:"container mt-5 text-center",children:(0,ba.jsx)("img",{src:"/logo.png",alt:"Suite Coaching",className:"jumping-logo"})}):u?t:"admin"===n?(0,ba.jsx)(xe,{to:"/admin/login",replace:!0}):"coach"===n?(0,ba.jsx)(xe,{to:"/coach/login",replace:!0}):"user"===n?(0,ba.jsx)(xe,{to:"/client/login",replace:!0}):(0,ba.jsx)(xe,{to:"/login",replace:!0})},em=()=>{const e=localStorage.getItem("clientToken"),t=localStorage.getItem("clientUser"),n=localStorage.getItem("adminToken"),a=localStorage.getItem("coachToken");let s=null;if(e)try{s=JSON.parse(atob(e.split(".")[1]))}catch(r){console.error("Error decoding token:",r)}const l=!!s&&1e3*s.exp<Date.now();return(0,ba.jsx)("div",{className:"container mt-4",children:(0,ba.jsxs)("div",{className:"card",children:[(0,ba.jsx)("div",{className:"card-header",children:(0,ba.jsx)("h3",{children:"\ud83d\udd10 Authentication Debug Information"})}),(0,ba.jsxs)("div",{className:"card-body",children:[(0,ba.jsxs)("h5",{children:["\ud83d\udcf1 Current Path: ",(0,ba.jsx)("code",{children:window.location.pathname})]}),(0,ba.jsxs)("div",{className:"row mt-3",children:[(0,ba.jsxs)("div",{className:"col-md-6",children:[(0,ba.jsx)("h6",{children:"Client Authentication:"}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Token:"})," ",e?(0,ba.jsx)("span",{className:"text-success",children:"\u2705 Present"}):(0,ba.jsx)("span",{className:"text-danger",children:"\u274c Missing"})]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"User Data:"})," ",t?(0,ba.jsx)("span",{className:"text-success",children:"\u2705 Present"}):(0,ba.jsx)("span",{className:"text-danger",children:"\u274c Missing"})]}),s&&(0,ba.jsxs)("div",{children:[(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Token Expires:"})," ",new Date(1e3*s.exp).toLocaleString()]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Is Expired:"})," ",l?(0,ba.jsx)("span",{className:"text-danger",children:"\u274c Yes"}):(0,ba.jsx)("span",{className:"text-success",children:"\u2705 No"})]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"User ID:"})," ",s.userId]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Role:"})," ",s.role]})]})]}),(0,ba.jsxs)("div",{className:"col-md-6",children:[(0,ba.jsx)("h6",{children:"Other Tokens:"}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Admin Token:"})," ",n?(0,ba.jsx)("span",{className:"text-info",children:"Present"}):(0,ba.jsx)("span",{className:"text-muted",children:"None"})]}),(0,ba.jsxs)("p",{children:[(0,ba.jsx)("strong",{children:"Coach Token:"})," ",a?(0,ba.jsx)("span",{className:"text-info",children:"Present"}):(0,ba.jsx)("span",{className:"text-muted",children:"None"})]})]})]}),t&&(0,ba.jsxs)("div",{className:"mt-3",children:[(0,ba.jsx)("h6",{children:"\ud83d\udc64 Client User Data:"}),(0,ba.jsx)("pre",{className:"bg-light p-2 rounded",children:JSON.stringify(JSON.parse(t),null,2)})]}),(0,ba.jsxs)("div",{className:"mt-3",children:[(0,ba.jsx)("h6",{children:"\ud83d\udd27 Quick Actions:"}),(0,ba.jsx)("button",{className:"btn btn-warning me-2",onClick:()=>{localStorage.removeItem("clientToken"),localStorage.removeItem("clientUser"),window.location.reload()},children:"Clear Client Auth"}),(0,ba.jsx)("button",{className:"btn btn-danger me-2",onClick:()=>{localStorage.clear(),window.location.reload()},children:"Clear All Storage"}),(0,ba.jsx)("button",{className:"btn btn-primary",onClick:()=>window.location.href="/login",children:"Go to Login"})]})]})]})})},tm=()=>{const{currentUser:e,updatePoints:t}=(0,a.useContext)(ya),n=(0,a.useRef)(null);(0,a.useEffect)((()=>{let a=null;if(e&&e.id){const s="https:"===window.location.protocol?"wss:":"ws:",l=window.location.hostname,r=window.location.port,i="".concat(s,"//").concat(l).concat(r?":"+r:"","/ws");console.log("Connecting to WebSocket at: ".concat(i)),a=new WebSocket(i),n.current=a,a.onopen=()=>{console.log("WebSocket connection established"),a.send(JSON.stringify({type:"auth",userId:e.id}))},a.onmessage=n=>{try{const a=JSON.parse(n.data);switch(console.log("WebSocket message received:",a),a.type){case"auth_success":console.log("WebSocket authentication successful");break;case"points_updated":if(void 0!==a.points&&t){const n=ze(ze({},e),{},{points:a.points});t(n),Da(a.message||"Your points have been updated. New balance: ".concat(a.points," points."),{type:"info",title:"Points Updated",duration:7e3})}break;default:console.log("Unhandled WebSocket message type: ".concat(a.type))}}catch(a){console.error("Error parsing WebSocket message:",a)}},a.onerror=e=>{console.error("WebSocket error:",e)},a.onclose=t=>{console.log("WebSocket connection closed: ".concat(t.code," ").concat(t.reason)),setTimeout((()=>{e&&e.id&&console.log("Attempting to reconnect WebSocket...")}),5e3)}}return()=>{a&&(console.log("Closing WebSocket connection"),a.close())}}),[e,t]);return null};const nm=function(){return(0,ba.jsx)(Na,{children:(0,ba.jsx)(Hu,{children:(0,ba.jsx)(Ce,{children:(0,ba.jsxs)("div",{className:"App",children:[(0,ba.jsx)(tm,{}),(0,ba.jsx)(Ra,{}),(0,ba.jsx)(Va,{}),(0,ba.jsx)(Sa,{}),(0,ba.jsxs)(be,{children:[(0,ba.jsx)(ve,{path:"/",element:(0,ba.jsxs)(ka,{showAdminLink:!1,children:[(0,ba.jsx)("div",{className:"container mt-4 desktop-only",children:(0,ba.jsx)($a,{})}),(0,ba.jsx)("div",{className:"mobile-only",children:(0,ba.jsx)($a,{})})]})}),(0,ba.jsx)(ve,{path:"/login",element:(0,ba.jsx)(ka,{showAdminLink:!1,children:(0,ba.jsx)("div",{className:"container mt-4",children:(0,ba.jsx)(Qa,{})})})}),(0,ba.jsx)(ve,{path:"/client/login",element:(0,ba.jsx)(xe,{to:"/login"})}),(0,ba.jsx)(ve,{path:"/packs",element:(0,ba.jsx)(ka,{showAdminLink:!1,children:(0,ba.jsx)(Xu,{})})}),(0,ba.jsx)(ve,{path:"/auth-debug",element:(0,ba.jsx)(ka,{showAdminLink:!1,children:(0,ba.jsx)(em,{})})}),(0,ba.jsx)(ve,{path:"/profile",element:(0,ba.jsxs)(ka,{showAdminLink:!1,children:[(0,ba.jsx)("div",{className:"container mt-4 desktop-only",children:(0,ba.jsx)(Zu,{requiredRole:"user",children:(0,ba.jsx)(Qu,{})})}),(0,ba.jsx)("div",{className:"mobile-only",children:(0,ba.jsx)(Zu,{requiredRole:"user",children:(0,ba.jsx)(Qu,{})})})]})}),(0,ba.jsx)(ve,{path:"/coach/login",element:(0,ba.jsx)(ka,{showAdminLink:!1,showCoachLink:!0,children:(0,ba.jsx)("div",{className:"container mt-4",children:(0,ba.jsx)(Za,{})})})}),(0,ba.jsx)(ve,{path:"/coach/",element:(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(wa,{showAdminLink:!1,showCoachLink:!0}),(0,ba.jsx)(Zu,{requiredRole:"coach",children:(0,ba.jsx)($u,{})})]})}),(0,ba.jsx)(ve,{path:"/coach/*",element:(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(wa,{showAdminLink:!1,showCoachLink:!0}),(0,ba.jsx)(Zu,{requiredRole:"coach",children:(0,ba.jsx)($u,{})})]})}),(0,ba.jsx)(ve,{path:"/coach",element:(0,ba.jsx)(xe,{to:"/coach/",replace:!0})}),(0,ba.jsx)(ve,{path:"/admin",element:(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(wa,{showAdminLink:!0}),(0,ba.jsx)("div",{className:"container mt-4",children:(0,ba.jsx)(Zu,{requiredRole:"admin",children:(0,ba.jsx)(Wu,{})})})]})}),(0,ba.jsx)(ve,{path:"/admin/login",element:(0,ba.jsxs)(ba.Fragment,{children:[(0,ba.jsx)(wa,{showAdminLink:!0}),(0,ba.jsx)("div",{className:"container mt-4",children:(0,ba.jsx)(Ja,{})})]})})]})]})})})})};l.createRoot(document.getElementById("root")).render((0,ba.jsx)(a.StrictMode,{children:(0,ba.jsx)(nm,{})}))})()})();