/*! For license information please see main.a152c846.js.LICENSE.txt */
(()=>{var e={49:(e,t)=>{"use strict";var a=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,x={};function v(e,t,a){this.props=e,this.context=t,this.refs=x,this.updater=a||f}function b(){}function g(e,t,a){this.props=e,this.context=t,this.refs=x,this.updater=a||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var j=g.prototype=new b;j.constructor=g,p(j,v.prototype),j.isPureReactComponent=!0;var y=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var s,r={},l=null,i=null;if(null!=t)for(s in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)N.call(t,s)&&!k.hasOwnProperty(s)&&(r[s]=t[s]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps)void 0===r[s]&&(r[s]=o[s]);return{$$typeof:a,type:e,key:l,ref:i,props:r,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var _=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,s,r,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case a:case n:o=!0}}if(o)return l=l(o=e),e=""===r?"."+E(o,0):r,y(l)?(s="",null!=e&&(s=e.replace(_,"$&/")+"/"),P(l,t,s,"",(function(e){return e}))):null!=l&&(C(l)&&(l=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,s+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(_,"$&/")+"/")+e)),t.push(l)),1;if(o=0,r=""===r?".":r+":",y(e))for(var c=0;c<e.length;c++){var d=r+E(i=e[c],c);o+=P(i,t,s,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=P(i=i.value,t,s,d=r+E(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function T(e,t,a){if(null==e)return e;var n=[],s=0;return P(e,n,"","",(function(e){return t.call(a,e,s++)})),n}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},F={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:w};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,a){T(e,(function(){t.apply(this,arguments)}),a)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=s,t.Profiler=l,t.PureComponent=g,t.StrictMode=r,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=p({},e.props),r=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=w.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}return{$$typeof:a,type:e.type,key:r,ref:l,props:s,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,a){return R.current.useImperativeHandle(e,t,a)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,a){return R.current.useReducer(e,t,a)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,a){return R.current.useSyncExternalStore(e,t,a)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},119:(e,t,a)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(345)},241:e=>{"use strict";var t=function(){};e.exports=t},340:(e,t,a)=>{"use strict";e.exports=a(761)},345:(e,t,a)=>{"use strict";var n=a(950),s=a(340);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(e,t,a,n,s,r,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=l}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){x[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];x[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){x[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){x[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){x[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){x[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){x[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){x[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){x[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function g(e,t,a,n){var s=x.hasOwnProperty(t)?x[t]:null;(null!==s?0!==s.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,a,n){if(null===t||"undefined"===typeof t||function(e,t,a,n){if(null!==a&&0===a.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==a?!a.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,a,n))return!0;if(n)return!1;if(null!==a)switch(a.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,a,s,n)&&(a=null),n||null===s?function(e){return!!u.call(f,e)||!u.call(h,e)&&(m.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===a?e.removeAttribute(t):e.setAttribute(t,""+a)):s.mustUseProperty?e[s.propertyName]=null===a?3!==s.type&&"":a:(t=s.attributeName,n=s.attributeNamespace,null===a?e.removeAttribute(t):(a=3===(s=s.type)||4===s&&!0===a?"":""+a,n?e.setAttributeNS(n,t,a):e.setAttribute(t,a))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);x[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);x[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);x[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){x[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),x.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){x[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var j=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var A,I=Object.assign;function M(e){if(void 0===A)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),r=n.stack.split("\n"),l=s.length-1,i=r.length-1;1<=l&&0<=i&&s[l]!==r[i];)i--;for(;1<=l&&0<=i;l--,i--)if(s[l]!==r[i]){if(1!==l||1!==i)do{if(l--,0>--i||s[l]!==r[i]){var o="\n"+s[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?M(e):""}function B(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return W(e(t))}catch(a){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var s=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=V(e)?e.checked?"true":"false":e.value),(e=n)!==a&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var a=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=a?a:e._wrapperState.initialChecked})}function J(e,t){var a=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;a=H(null!=t.value?t.value:a),e._wrapperState={initialChecked:n,initialValue:a,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&g(e,"checked",t,!1)}function X(e,t){Q(e,t);var a=H(t.value),n=t.type;if(null!=a)"number"===n?(0===a&&""===e.value||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,a):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}""!==(a=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==a&&(e.name=a)}function ee(e,t,a){"number"===t&&K(e.ownerDocument)===e||(null==a?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var te=Array.isArray;function ae(e,t,a,n){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&n&&(e[a].defaultSelected=!0)}else{for(a=""+H(a),t=null,s=0;s<e.length;s++){if(e[s].value===a)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var a=t.value;if(null==a){if(a=t.children,t=t.defaultValue,null!=a){if(null!=t)throw Error(r(92));if(te(a)){if(1<a.length)throw Error(r(93));a=a[0]}t=a}null==t&&(t=""),a=t}e._wrapperState={initialValue:H(a)}}function re(e,t){var a=H(t.value),n=H(t.defaultValue);null!=a&&((a=""+a)!==e.value&&(e.value=a),null==t.defaultValue&&e.defaultValue!==a&&(e.defaultValue=a)),null!=n&&(e.defaultValue=""+n)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,a,n){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function me(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,a){return null==t||"boolean"===typeof t||""===t?"":a||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function xe(e,t){for(var a in e=e.style,t)if(t.hasOwnProperty(a)){var n=0===a.indexOf("--"),s=pe(a,t[a],n);"float"===a&&(a="cssFloat"),n?e.setProperty(a,s):e[a]=s}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function ge(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var je=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,ke=null;function Se(e){if(e=gs(e)){if("function"!==typeof Ne)throw Error(r(280));var t=e.stateNode;t&&(t=ys(t),Ne(e.stateNode,e.type,t))}}function Ce(e){we?ke?ke.push(e):ke=[e]:we=e}function _e(){if(we){var e=we,t=ke;if(ke=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Te=!1;function De(e,t,a){if(Te)return e(t,a);Te=!0;try{return Ee(e,t,a)}finally{Te=!1,(null!==we||null!==ke)&&(Pe(),_e())}}function Re(e,t){var a=e.stateNode;if(null===a)return null;var n=ys(a);if(null===n)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(a&&"function"!==typeof a)throw Error(r(231,t,typeof a));return a}var Oe=!1;if(d)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(de){Oe=!1}function Le(e,t,a,n,s,r,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(a,c)}catch(d){this.onError(d)}}var Ae=!1,Ie=null,Me=!1,ze=null,Ue={onError:function(e){Ae=!0,Ie=e}};function Be(e,t,a,n,s,r,l,i,o){Ae=!1,Ie=null,Le.apply(Ue,arguments)}function We(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(We(e)!==e)throw Error(r(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(r(188));return t!==e?null:e}for(var a=e,n=t;;){var s=a.return;if(null===s)break;var l=s.alternate;if(null===l){if(null!==(n=s.return)){a=n;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===a)return He(s),e;if(l===n)return He(s),t;l=l.sibling}throw Error(r(188))}if(a.return!==n.return)a=s,n=l;else{for(var i=!1,o=s.child;o;){if(o===a){i=!0,a=s,n=l;break}if(o===n){i=!0,n=s,a=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===a){i=!0,a=l,n=s;break}if(o===n){i=!0,n=l,a=s;break}o=o.sibling}if(!i)throw Error(r(189))}}if(a.alternate!==n)throw Error(r(190))}if(3!==a.tag)throw Error(r(188));return a.stateNode.current===a?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var $e=s.unstable_scheduleCallback,Ke=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,Je=s.unstable_requestPaint,Qe=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,at=s.unstable_LowPriority,nt=s.unstable_IdlePriority,st=null,rt=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var a=e.pendingLanes;if(0===a)return 0;var n=0,s=e.suspendedLanes,r=e.pingedLanes,l=268435455&a;if(0!==l){var i=l&~s;0!==i?n=ut(i):0!==(r&=l)&&(n=ut(r))}else 0!==(l=a&~s)?n=ut(l):0!==r&&(n=ut(r));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&s)&&((s=n&-n)>=(r=t&-t)||16===s&&0!==(4194240&r)))return t;if(0!==(4&n)&&(n|=16&a),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)s=1<<(a=31-lt(t)),n|=e[a],t&=~s;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function vt(e,t,a){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=a}function bt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-lt(a),s=1<<n;s&t|e[n]&t&&(e[n]|=t),a&=~s}}var gt=0;function jt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,Nt,wt,kt,St,Ct=!1,_t=[],Et=null,Pt=null,Tt=null,Dt=new Map,Rt=new Map,Ot=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function At(e,t,a,n,s,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},null!==t&&(null!==(t=gs(t))&&Nt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function It(e){var t=bs(e.target);if(null!==t){var a=We(t);if(null!==a)if(13===(t=a.tag)){if(null!==(t=qe(a)))return e.blockedOn=t,void St(e.priority,(function(){wt(a)}))}else if(3===t&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var a=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==a)return null!==(t=gs(a))&&Nt(t),e.blockedOn=a,!1;var n=new(a=e.nativeEvent).constructor(a.type,a);je=n,a.target.dispatchEvent(n),je=null,t.shift()}return!0}function zt(e,t,a){Mt(e)&&a.delete(t)}function Ut(){Ct=!1,null!==Et&&Mt(Et)&&(Et=null),null!==Pt&&Mt(Pt)&&(Pt=null),null!==Tt&&Mt(Tt)&&(Tt=null),Dt.forEach(zt),Rt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ut)))}function Wt(e){function t(t){return Bt(t,e)}if(0<_t.length){Bt(_t[0],e);for(var a=1;a<_t.length;a++){var n=_t[a];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Pt&&Bt(Pt,e),null!==Tt&&Bt(Tt,e),Dt.forEach(t),Rt.forEach(t),a=0;a<Ot.length;a++)(n=Ot[a]).blockedOn===e&&(n.blockedOn=null);for(;0<Ot.length&&null===(a=Ot[0]).blockedOn;)It(a),null===a.blockedOn&&Ot.shift()}var qt=j.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,a,n){var s=gt,r=qt.transition;qt.transition=null;try{gt=1,$t(e,t,a,n)}finally{gt=s,qt.transition=r}}function Gt(e,t,a,n){var s=gt,r=qt.transition;qt.transition=null;try{gt=4,$t(e,t,a,n)}finally{gt=s,qt.transition=r}}function $t(e,t,a,n){if(Ht){var s=Yt(e,t,a,n);if(null===s)Hn(e,t,n,Kt,a),Lt(e,n);else if(function(e,t,a,n,s){switch(t){case"focusin":return Et=At(Et,e,t,a,n,s),!0;case"dragenter":return Pt=At(Pt,e,t,a,n,s),!0;case"mouseover":return Tt=At(Tt,e,t,a,n,s),!0;case"pointerover":var r=s.pointerId;return Dt.set(r,At(Dt.get(r)||null,e,t,a,n,s)),!0;case"gotpointercapture":return r=s.pointerId,Rt.set(r,At(Rt.get(r)||null,e,t,a,n,s)),!0}return!1}(s,e,t,a,n))n.stopPropagation();else if(Lt(e,n),4&t&&-1<Ft.indexOf(e)){for(;null!==s;){var r=gs(s);if(null!==r&&yt(r),null===(r=Yt(e,t,a,n))&&Hn(e,t,n,Kt,a),r===s)break;s=r}null!==s&&n.stopPropagation()}else Hn(e,t,n,null,a)}}var Kt=null;function Yt(e,t,a,n){if(Kt=null,null!==(e=bs(e=ye(n))))if(null===(t=We(e)))e=null;else if(13===(a=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===a){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case at:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function ea(){if(Zt)return Zt;var e,t,a=Xt,n=a.length,s="value"in Qt?Qt.value:Qt.textContent,r=s.length;for(e=0;e<n&&a[e]===s[e];e++);var l=n-e;for(t=1;t<=l&&a[n-t]===s[r-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function ta(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function aa(){return!0}function na(){return!1}function sa(e){function t(t,a,n,s,r){for(var l in this._reactName=t,this._targetInst=n,this.type=a,this.nativeEvent=s,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?aa:na,this.isPropagationStopped=na,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),t}var ra,la,ia,oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=sa(oa),da=I({},oa,{view:0,detail:0}),ua=sa(da),ma=I({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ia&&(ia&&"mousemove"===e.type?(ra=e.screenX-ia.screenX,la=e.screenY-ia.screenY):la=ra=0,ia=e),ra)},movementY:function(e){return"movementY"in e?e.movementY:la}}),ha=sa(ma),fa=sa(I({},ma,{dataTransfer:0})),pa=sa(I({},da,{relatedTarget:0})),xa=sa(I({},oa,{animationName:0,elapsedTime:0,pseudoElement:0})),va=I({},oa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ba=sa(va),ga=sa(I({},oa,{data:0})),ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ya={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Na={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wa(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Na[e])&&!!t[e]}function ka(){return wa}var Sa=I({},da,{key:function(e){if(e.key){var t=ja[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ta(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ya[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(e){return"keypress"===e.type?ta(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ta(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ca=sa(Sa),_a=sa(I({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ea=sa(I({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka})),Pa=sa(I({},oa,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ta=I({},ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=sa(Ta),Ra=[9,13,27,32],Oa=d&&"CompositionEvent"in window,Fa=null;d&&"documentMode"in document&&(Fa=document.documentMode);var La=d&&"TextEvent"in window&&!Fa,Aa=d&&(!Oa||Fa&&8<Fa&&11>=Fa),Ia=String.fromCharCode(32),Ma=!1;function za(e,t){switch(e){case"keyup":return-1!==Ra.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ua(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ba=!1;var Wa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wa[e.type]:"textarea"===t}function Ha(e,t,a,n){Ce(n),0<(t=Gn(t,"onChange")).length&&(a=new ca("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Va=null,Ga=null;function $a(e){Mn(e,0)}function Ka(e){if($(js(e)))return e}function Ya(e,t){if("change"===e)return t}var Ja=!1;if(d){var Qa;if(d){var Xa="oninput"in document;if(!Xa){var Za=document.createElement("div");Za.setAttribute("oninput","return;"),Xa="function"===typeof Za.oninput}Qa=Xa}else Qa=!1;Ja=Qa&&(!document.documentMode||9<document.documentMode)}function en(){Va&&(Va.detachEvent("onpropertychange",tn),Ga=Va=null)}function tn(e){if("value"===e.propertyName&&Ka(Ga)){var t=[];Ha(t,Ga,e,ye(e)),De($a,t)}}function an(e,t,a){"focusin"===e?(en(),Ga=a,(Va=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ka(Ga)}function sn(e,t){if("click"===e)return Ka(t)}function rn(e,t){if("input"===e||"change"===e)return Ka(t)}var ln="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function on(e,t){if(ln(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var s=a[n];if(!u.call(t,s)||!ln(e[s],t[s]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var a,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var a="string"===typeof t.contentWindow.location.href}catch(n){a=!1}if(!a)break;t=K((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fn(e){var t=mn(),a=e.focusedElem,n=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&un(a.ownerDocument.documentElement,a)){if(null!==n&&hn(a))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if((e=(t=a.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=a.textContent.length,r=Math.min(n.start,s);n=void 0===n.end?r:Math.min(n.end,s),!e.extend&&r>n&&(s=n,n=r,r=s),s=dn(a,r);var l=dn(a,n);s&&l&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),r>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=a;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<t.length;a++)(e=t[a]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pn=d&&"documentMode"in document&&11>=document.documentMode,xn=null,vn=null,bn=null,gn=!1;function jn(e,t,a){var n=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;gn||null==xn||xn!==K(n)||("selectionStart"in(n=xn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},bn&&on(bn,n)||(bn=n,0<(n=Gn(vn,"onSelect")).length&&(t=new ca("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=xn)))}function yn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Nn={animationend:yn("Animation","AnimationEnd"),animationiteration:yn("Animation","AnimationIteration"),animationstart:yn("Animation","AnimationStart"),transitionend:yn("Transition","TransitionEnd")},wn={},kn={};function Sn(e){if(wn[e])return wn[e];if(!Nn[e])return e;var t,a=Nn[e];for(t in a)if(a.hasOwnProperty(t)&&t in kn)return wn[e]=a[t];return e}d&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);var Cn=Sn("animationend"),_n=Sn("animationiteration"),En=Sn("animationstart"),Pn=Sn("transitionend"),Tn=new Map,Dn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rn(e,t){Tn.set(e,t),o(t,[e])}for(var On=0;On<Dn.length;On++){var Fn=Dn[On];Rn(Fn.toLowerCase(),"on"+(Fn[0].toUpperCase()+Fn.slice(1)))}Rn(Cn,"onAnimationEnd"),Rn(_n,"onAnimationIteration"),Rn(En,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(Pn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),An=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function In(e,t,a){var n=e.type||"unknown-event";e.currentTarget=a,function(e,t,a,n,s,l,i,o,c){if(Be.apply(this,arguments),Ae){if(!Ae)throw Error(r(198));var d=Ie;Ae=!1,Ie=null,Me||(Me=!0,ze=d)}}(n,t,void 0,e),e.currentTarget=null}function Mn(e,t){t=0!==(4&t);for(var a=0;a<e.length;a++){var n=e[a],s=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var l=n.length-1;0<=l;l--){var i=n[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==r&&s.isPropagationStopped())break e;In(s,i,c),r=o}else for(l=0;l<n.length;l++){if(o=(i=n[l]).instance,c=i.currentTarget,i=i.listener,o!==r&&s.isPropagationStopped())break e;In(s,i,c),r=o}}}if(Me)throw e=ze,Me=!1,ze=null,e}function zn(e,t){var a=t[ps];void 0===a&&(a=t[ps]=new Set);var n=e+"__bubble";a.has(n)||(qn(t,e,2,!1),a.add(n))}function Un(e,t,a){var n=0;t&&(n|=4),qn(a,e,n,t)}var Bn="_reactListening"+Math.random().toString(36).slice(2);function Wn(e){if(!e[Bn]){e[Bn]=!0,l.forEach((function(t){"selectionchange"!==t&&(An.has(t)||Un(t,!1,e),Un(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bn]||(t[Bn]=!0,Un("selectionchange",!1,t))}}function qn(e,t,a,n){switch(Jt(t)){case 1:var s=Vt;break;case 4:s=Gt;break;default:s=$t}a=s.bind(null,t,a,e),s=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),n?void 0!==s?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):void 0!==s?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function Hn(e,t,a,n,s){var r=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var l=n.tag;if(3===l||4===l){var i=n.stateNode.containerInfo;if(i===s||8===i.nodeType&&i.parentNode===s)break;if(4===l)for(l=n.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===s||8===o.nodeType&&o.parentNode===s))return;l=l.return}for(;null!==i;){if(null===(l=bs(i)))return;if(5===(o=l.tag)||6===o){n=r=l;continue e}i=i.parentNode}}n=n.return}De((function(){var n=r,s=ye(a),l=[];e:{var i=Tn.get(e);if(void 0!==i){var o=ca,c=e;switch(e){case"keypress":if(0===ta(a))break e;case"keydown":case"keyup":o=Ca;break;case"focusin":c="focus",o=pa;break;case"focusout":c="blur",o=pa;break;case"beforeblur":case"afterblur":o=pa;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=fa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Ea;break;case Cn:case _n:case En:o=xa;break;case Pn:o=Pa;break;case"scroll":o=ua;break;case"wheel":o=Da;break;case"copy":case"cut":case"paste":o=ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=_a}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var h,f=n;null!==f;){var p=(h=f).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==m&&(null!=(p=Re(f,m))&&d.push(Vn(f,p,h)))),u)break;f=f.return}0<d.length&&(i=new o(i,c,null,a,s),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||a===je||!(c=a.relatedTarget||a.fromElement)||!bs(c)&&!c[fs])&&(o||i)&&(i=s.window===s?s:(i=s.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=n,null!==(c=(c=a.relatedTarget||a.toElement)?bs(c):null)&&(c!==(u=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=n),o!==c)){if(d=ha,p="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=_a,p="onPointerLeave",m="onPointerEnter",f="pointer"),u=null==o?i:js(o),h=null==c?i:js(c),(i=new d(p,f+"leave",o,a,s)).target=u,i.relatedTarget=h,p=null,bs(s)===n&&((d=new d(m,f+"enter",c,a,s)).target=h,d.relatedTarget=u,p=d),u=p,o&&c)e:{for(m=c,f=0,h=d=o;h;h=$n(h))f++;for(h=0,p=m;p;p=$n(p))h++;for(;0<f-h;)d=$n(d),f--;for(;0<h-f;)m=$n(m),h--;for(;f--;){if(d===m||null!==m&&d===m.alternate)break e;d=$n(d),m=$n(m)}d=null}else d=null;null!==o&&Kn(l,i,o,d,!1),null!==c&&null!==u&&Kn(l,u,c,d,!0)}if("select"===(o=(i=n?js(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var x=Ya;else if(qa(i))if(Ja)x=rn;else{x=nn;var v=an}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(x=sn);switch(x&&(x=x(e,n))?Ha(l,x,a,s):(v&&v(e,i,n),"focusout"===e&&(v=i._wrapperState)&&v.controlled&&"number"===i.type&&ee(i,"number",i.value)),v=n?js(n):window,e){case"focusin":(qa(v)||"true"===v.contentEditable)&&(xn=v,vn=n,bn=null);break;case"focusout":bn=vn=xn=null;break;case"mousedown":gn=!0;break;case"contextmenu":case"mouseup":case"dragend":gn=!1,jn(l,a,s);break;case"selectionchange":if(pn)break;case"keydown":case"keyup":jn(l,a,s)}var b;if(Oa)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Ba?za(e,a)&&(g="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(g="onCompositionStart");g&&(Aa&&"ko"!==a.locale&&(Ba||"onCompositionStart"!==g?"onCompositionEnd"===g&&Ba&&(b=ea()):(Xt="value"in(Qt=s)?Qt.value:Qt.textContent,Ba=!0)),0<(v=Gn(n,g)).length&&(g=new ga(g,e,null,a,s),l.push({event:g,listeners:v}),b?g.data=b:null!==(b=Ua(a))&&(g.data=b))),(b=La?function(e,t){switch(e){case"compositionend":return Ua(t);case"keypress":return 32!==t.which?null:(Ma=!0,Ia);case"textInput":return(e=t.data)===Ia&&Ma?null:e;default:return null}}(e,a):function(e,t){if(Ba)return"compositionend"===e||!Oa&&za(e,t)?(e=ea(),Zt=Xt=Qt=null,Ba=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Aa&&"ko"!==t.locale?null:t.data}}(e,a))&&(0<(n=Gn(n,"onBeforeInput")).length&&(s=new ga("onBeforeInput","beforeinput",null,a,s),l.push({event:s,listeners:n}),s.data=b))}Mn(l,t)}))}function Vn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Gn(e,t){for(var a=t+"Capture",n=[];null!==e;){var s=e,r=s.stateNode;5===s.tag&&null!==r&&(s=r,null!=(r=Re(e,a))&&n.unshift(Vn(e,r,s)),null!=(r=Re(e,t))&&n.push(Vn(e,r,s))),e=e.return}return n}function $n(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kn(e,t,a,n,s){for(var r=t._reactName,l=[];null!==a&&a!==n;){var i=a,o=i.alternate,c=i.stateNode;if(null!==o&&o===n)break;5===i.tag&&null!==c&&(i=c,s?null!=(o=Re(a,r))&&l.unshift(Vn(a,o,i)):s||null!=(o=Re(a,r))&&l.push(Vn(a,o,i))),a=a.return}0!==l.length&&e.push({event:t,listeners:l})}var Yn=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Yn,"\n").replace(Jn,"")}function Xn(e,t,a){if(t=Qn(t),Qn(e)!==t&&a)throw Error(r(425))}function Zn(){}var es=null,ts=null;function as(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ns="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,rs="function"===typeof Promise?Promise:void 0,ls="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rs?function(e){return rs.resolve(null).then(e).catch(is)}:ns;function is(e){setTimeout((function(){throw e}))}function os(e,t){var a=t,n=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&8===s.nodeType)if("/$"===(a=s.data)){if(0===n)return e.removeChild(s),void Wt(t);n--}else"$"!==a&&"$?"!==a&&"$!"!==a||n++;a=s}while(a);Wt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a){if(0===t)return e;t--}else"/$"===a&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),ms="__reactFiber$"+us,hs="__reactProps$"+us,fs="__reactContainer$"+us,ps="__reactEvents$"+us,xs="__reactListeners$"+us,vs="__reactHandles$"+us;function bs(e){var t=e[ms];if(t)return t;for(var a=e.parentNode;a;){if(t=a[fs]||a[ms]){if(a=t.alternate,null!==t.child||null!==a&&null!==a.child)for(e=ds(e);null!==e;){if(a=e[ms])return a;e=ds(e)}return t}a=(e=a).parentNode}return null}function gs(e){return!(e=e[ms]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function js(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function ys(e){return e[hs]||null}var Ns=[],ws=-1;function ks(e){return{current:e}}function Ss(e){0>ws||(e.current=Ns[ws],Ns[ws]=null,ws--)}function Cs(e,t){ws++,Ns[ws]=e.current,e.current=t}var _s={},Es=ks(_s),Ps=ks(!1),Ts=_s;function Ds(e,t){var a=e.type.contextTypes;if(!a)return _s;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s,r={};for(s in a)r[s]=t[s];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Rs(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Os(){Ss(Ps),Ss(Es)}function Fs(e,t,a){if(Es.current!==_s)throw Error(r(168));Cs(Es,t),Cs(Ps,a)}function Ls(e,t,a){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return a;for(var s in n=n.getChildContext())if(!(s in t))throw Error(r(108,q(e)||"Unknown",s));return I({},a,n)}function As(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_s,Ts=Es.current,Cs(Es,e),Cs(Ps,Ps.current),!0}function Is(e,t,a){var n=e.stateNode;if(!n)throw Error(r(169));a?(e=Ls(e,t,Ts),n.__reactInternalMemoizedMergedChildContext=e,Ss(Ps),Ss(Es),Cs(Es,e)):Ss(Ps),Cs(Ps,a)}var Ms=null,zs=!1,Us=!1;function Bs(e){null===Ms?Ms=[e]:Ms.push(e)}function Ws(){if(!Us&&null!==Ms){Us=!0;var e=0,t=gt;try{var a=Ms;for(gt=1;e<a.length;e++){var n=a[e];do{n=n(!0)}while(null!==n)}Ms=null,zs=!1}catch(s){throw null!==Ms&&(Ms=Ms.slice(e+1)),$e(Ze,Ws),s}finally{gt=t,Us=!1}}return null}var qs=[],Hs=0,Vs=null,Gs=0,$s=[],Ks=0,Ys=null,Js=1,Qs="";function Xs(e,t){qs[Hs++]=Gs,qs[Hs++]=Vs,Vs=e,Gs=t}function Zs(e,t,a){$s[Ks++]=Js,$s[Ks++]=Qs,$s[Ks++]=Ys,Ys=e;var n=Js;e=Qs;var s=32-lt(n)-1;n&=~(1<<s),a+=1;var r=32-lt(t)+s;if(30<r){var l=s-s%5;r=(n&(1<<l)-1).toString(32),n>>=l,s-=l,Js=1<<32-lt(t)+s|a<<s|n,Qs=r+e}else Js=1<<r|a<<s|n,Qs=e}function er(e){null!==e.return&&(Xs(e,1),Zs(e,1,0))}function tr(e){for(;e===Vs;)Vs=qs[--Hs],qs[Hs]=null,Gs=qs[--Hs],qs[Hs]=null;for(;e===Ys;)Ys=$s[--Ks],$s[Ks]=null,Qs=$s[--Ks],$s[Ks]=null,Js=$s[--Ks],$s[Ks]=null}var ar=null,nr=null,sr=!1,rr=null;function lr(e,t){var a=Dc(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,null===(t=e.deletions)?(e.deletions=[a],e.flags|=16):t.push(a)}function ir(e,t){switch(e.tag){case 5:var a=e.type;return null!==(t=1!==t.nodeType||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ar=e,nr=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ar=e,nr=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(a=null!==Ys?{id:Js,overflow:Qs}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},(a=Dc(18,null,null,0)).stateNode=t,a.return=e,e.child=a,ar=e,nr=null,!0);default:return!1}}function or(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cr(e){if(sr){var t=nr;if(t){var a=t;if(!ir(e,t)){if(or(e))throw Error(r(418));t=cs(a.nextSibling);var n=ar;t&&ir(e,t)?lr(n,a):(e.flags=-4097&e.flags|2,sr=!1,ar=e)}}else{if(or(e))throw Error(r(418));e.flags=-4097&e.flags|2,sr=!1,ar=e}}}function dr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ar=e}function ur(e){if(e!==ar)return!1;if(!sr)return dr(e),sr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!as(e.type,e.memoizedProps)),t&&(t=nr)){if(or(e))throw mr(),Error(r(418));for(;t;)lr(e,t),t=cs(t.nextSibling)}if(dr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var a=e.data;if("/$"===a){if(0===t){nr=cs(e.nextSibling);break e}t--}else"$"!==a&&"$!"!==a&&"$?"!==a||t++}e=e.nextSibling}nr=null}}else nr=ar?cs(e.stateNode.nextSibling):null;return!0}function mr(){for(var e=nr;e;)e=cs(e.nextSibling)}function hr(){nr=ar=null,sr=!1}function fr(e){null===rr?rr=[e]:rr.push(e)}var pr=j.ReactCurrentBatchConfig;function xr(e,t,a){if(null!==(e=a.ref)&&"function"!==typeof e&&"object"!==typeof e){if(a._owner){if(a=a._owner){if(1!==a.tag)throw Error(r(309));var n=a.stateNode}if(!n)throw Error(r(147,e));var s=n,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=s.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(r(284));if(!a._owner)throw Error(r(290,e))}return e}function vr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function br(e){return(0,e._init)(e._payload)}function gr(e){function t(t,a){if(e){var n=t.deletions;null===n?(t.deletions=[a],t.flags|=16):n.push(a)}}function a(a,n){if(!e)return null;for(;null!==n;)t(a,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function l(t,a,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<a?(t.flags|=2,a):n:(t.flags|=2,a):(t.flags|=1048576,a)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,a,n){return null===t||6!==t.tag?((t=Ic(a,e.mode,n)).return=e,t):((t=s(t,a)).return=e,t)}function c(e,t,a,n){var r=a.type;return r===w?u(e,t,a.props.children,n,a.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===R&&br(r)===t.type)?((n=s(t,a.props)).ref=xr(e,t,a),n.return=e,n):((n=Fc(a.type,a.key,a.props,null,e.mode,n)).ref=xr(e,t,a),n.return=e,n)}function d(e,t,a,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=Mc(a,e.mode,n)).return=e,t):((t=s(t,a.children||[])).return=e,t)}function u(e,t,a,n,r){return null===t||7!==t.tag?((t=Lc(a,e.mode,n,r)).return=e,t):((t=s(t,a)).return=e,t)}function m(e,t,a){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,a)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case y:return(a=Fc(t.type,t.key,t.props,null,e.mode,a)).ref=xr(e,null,t),a.return=e,a;case N:return(t=Mc(t,e.mode,a)).return=e,t;case R:return m(e,(0,t._init)(t._payload),a)}if(te(t)||L(t))return(t=Lc(t,e.mode,a,null)).return=e,t;vr(e,t)}return null}function h(e,t,a,n){var s=null!==t?t.key:null;if("string"===typeof a&&""!==a||"number"===typeof a)return null!==s?null:o(e,t,""+a,n);if("object"===typeof a&&null!==a){switch(a.$$typeof){case y:return a.key===s?c(e,t,a,n):null;case N:return a.key===s?d(e,t,a,n):null;case R:return h(e,t,(s=a._init)(a._payload),n)}if(te(a)||L(a))return null!==s?null:u(e,t,a,n,null);vr(e,a)}return null}function f(e,t,a,n,s){if("string"===typeof n&&""!==n||"number"===typeof n)return o(t,e=e.get(a)||null,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case y:return c(t,e=e.get(null===n.key?a:n.key)||null,n,s);case N:return d(t,e=e.get(null===n.key?a:n.key)||null,n,s);case R:return f(e,t,a,(0,n._init)(n._payload),s)}if(te(n)||L(n))return u(t,e=e.get(a)||null,n,s,null);vr(t,n)}return null}function p(s,r,i,o){for(var c=null,d=null,u=r,p=r=0,x=null;null!==u&&p<i.length;p++){u.index>p?(x=u,u=null):x=u.sibling;var v=h(s,u,i[p],o);if(null===v){null===u&&(u=x);break}e&&u&&null===v.alternate&&t(s,u),r=l(v,r,p),null===d?c=v:d.sibling=v,d=v,u=x}if(p===i.length)return a(s,u),sr&&Xs(s,p),c;if(null===u){for(;p<i.length;p++)null!==(u=m(s,i[p],o))&&(r=l(u,r,p),null===d?c=u:d.sibling=u,d=u);return sr&&Xs(s,p),c}for(u=n(s,u);p<i.length;p++)null!==(x=f(u,s,p,i[p],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?p:x.key),r=l(x,r,p),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach((function(e){return t(s,e)})),sr&&Xs(s,p),c}function x(s,i,o,c){var d=L(o);if("function"!==typeof d)throw Error(r(150));if(null==(o=d.call(o)))throw Error(r(151));for(var u=d=null,p=i,x=i=0,v=null,b=o.next();null!==p&&!b.done;x++,b=o.next()){p.index>x?(v=p,p=null):v=p.sibling;var g=h(s,p,b.value,c);if(null===g){null===p&&(p=v);break}e&&p&&null===g.alternate&&t(s,p),i=l(g,i,x),null===u?d=g:u.sibling=g,u=g,p=v}if(b.done)return a(s,p),sr&&Xs(s,x),d;if(null===p){for(;!b.done;x++,b=o.next())null!==(b=m(s,b.value,c))&&(i=l(b,i,x),null===u?d=b:u.sibling=b,u=b);return sr&&Xs(s,x),d}for(p=n(s,p);!b.done;x++,b=o.next())null!==(b=f(p,s,x,b.value,c))&&(e&&null!==b.alternate&&p.delete(null===b.key?x:b.key),i=l(b,i,x),null===u?d=b:u.sibling=b,u=b);return e&&p.forEach((function(e){return t(s,e)})),sr&&Xs(s,x),d}return function e(n,r,l,o){if("object"===typeof l&&null!==l&&l.type===w&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case y:e:{for(var c=l.key,d=r;null!==d;){if(d.key===c){if((c=l.type)===w){if(7===d.tag){a(n,d.sibling),(r=s(d,l.props.children)).return=n,n=r;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&br(c)===d.type){a(n,d.sibling),(r=s(d,l.props)).ref=xr(n,d,l),r.return=n,n=r;break e}a(n,d);break}t(n,d),d=d.sibling}l.type===w?((r=Lc(l.props.children,n.mode,o,l.key)).return=n,n=r):((o=Fc(l.type,l.key,l.props,null,n.mode,o)).ref=xr(n,r,l),o.return=n,n=o)}return i(n);case N:e:{for(d=l.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===l.containerInfo&&r.stateNode.implementation===l.implementation){a(n,r.sibling),(r=s(r,l.children||[])).return=n,n=r;break e}a(n,r);break}t(n,r),r=r.sibling}(r=Mc(l,n.mode,o)).return=n,n=r}return i(n);case R:return e(n,r,(d=l._init)(l._payload),o)}if(te(l))return p(n,r,l,o);if(L(l))return x(n,r,l,o);vr(n,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==r&&6===r.tag?(a(n,r.sibling),(r=s(r,l)).return=n,n=r):(a(n,r),(r=Ic(l,n.mode,o)).return=n,n=r),i(n)):a(n,r)}}var jr=gr(!0),yr=gr(!1),Nr=ks(null),wr=null,kr=null,Sr=null;function Cr(){Sr=kr=wr=null}function _r(e){var t=Nr.current;Ss(Nr),e._currentValue=t}function Er(e,t,a){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Pr(e,t){wr=e,Sr=kr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function Tr(e){var t=e._currentValue;if(Sr!==e)if(e={context:e,memoizedValue:t,next:null},null===kr){if(null===wr)throw Error(r(308));kr=e,wr.dependencies={lanes:0,firstContext:e}}else kr=kr.next=e;return t}var Dr=null;function Rr(e){null===Dr?Dr=[e]:Dr.push(e)}function Or(e,t,a,n){var s=t.interleaved;return null===s?(a.next=a,Rr(t)):(a.next=s.next,s.next=a),t.interleaved=a,Fr(e,n)}function Fr(e,t){e.lanes|=t;var a=e.alternate;for(null!==a&&(a.lanes|=t),a=e,e=e.return;null!==e;)e.childLanes|=t,null!==(a=e.alternate)&&(a.childLanes|=t),a=e,e=e.return;return 3===a.tag?a.stateNode:null}var Lr=!1;function Ar(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ir(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zr(e,t,a){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Eo)){var s=n.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Fr(e,a)}return null===(s=n.interleaved)?(t.next=t,Rr(n)):(t.next=s.next,s.next=t),n.interleaved=t,Fr(e,a)}function Ur(e,t,a){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&a))){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,bt(e,a)}}function Br(e,t){var a=e.updateQueue,n=e.alternate;if(null!==n&&a===(n=n.updateQueue)){var s=null,r=null;if(null!==(a=a.firstBaseUpdate)){do{var l={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};null===r?s=r=l:r=r.next=l,a=a.next}while(null!==a);null===r?s=r=t:r=r.next=t}else s=r=t;return a={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,effects:n.effects},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Wr(e,t,a,n){var s=e.updateQueue;Lr=!1;var r=s.firstBaseUpdate,l=s.lastBaseUpdate,i=s.shared.pending;if(null!==i){s.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?r=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==r){var u=s.baseState;for(l=0,d=c=o=null,i=r;;){var m=i.lane,h=i.eventTime;if((n&m)===m){null!==d&&(d=d.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,p=i;switch(m=t,h=a,p.tag){case 1:if("function"===typeof(f=p.payload)){u=f.call(h,u,m);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=p.payload)?f.call(h,u,m):f)||void 0===m)break e;u=I({},u,m);break e;case 2:Lr=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=s.effects)?s.effects=[i]:m.push(i))}else h={eventTime:h,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=h,o=u):d=d.next=h,l|=m;if(null===(i=i.next)){if(null===(i=s.shared.pending))break;i=(m=i).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}if(null===d&&(o=u),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{l|=s.lane,s=s.next}while(s!==t)}else null===r&&(s.shared.lanes=0);Ao|=l,e.lanes=l,e.memoizedState=u}}function qr(e,t,a){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(null!==s){if(n.callback=null,n=a,"function"!==typeof s)throw Error(r(191,s));s.call(n)}}}var Hr={},Vr=ks(Hr),Gr=ks(Hr),$r=ks(Hr);function Kr(e){if(e===Hr)throw Error(r(174));return e}function Yr(e,t){switch(Cs($r,t),Cs(Gr,e),Cs(Vr,Hr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Vr),Cs(Vr,t)}function Jr(){Ss(Vr),Ss(Gr),Ss($r)}function Qr(e){Kr($r.current);var t=Kr(Vr.current),a=oe(t,e.type);t!==a&&(Cs(Gr,e),Cs(Vr,a))}function Xr(e){Gr.current===e&&(Ss(Vr),Ss(Gr))}var Zr=ks(0);function el(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||"$?"===a.data||"$!"===a.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function al(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var nl=j.ReactCurrentDispatcher,sl=j.ReactCurrentBatchConfig,rl=0,ll=null,il=null,ol=null,cl=!1,dl=!1,ul=0,ml=0;function hl(){throw Error(r(321))}function fl(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ln(e[a],t[a]))return!1;return!0}function pl(e,t,a,n,s,l){if(rl=l,ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nl.current=null===e||null===e.memoizedState?Xl:Zl,e=a(n,s),dl){l=0;do{if(dl=!1,ul=0,25<=l)throw Error(r(301));l+=1,ol=il=null,t.updateQueue=null,nl.current=ei,e=a(n,s)}while(dl)}if(nl.current=Ql,t=null!==il&&null!==il.next,rl=0,ol=il=ll=null,cl=!1,t)throw Error(r(300));return e}function xl(){var e=0!==ul;return ul=0,e}function vl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ol?ll.memoizedState=ol=e:ol=ol.next=e,ol}function bl(){if(null===il){var e=ll.alternate;e=null!==e?e.memoizedState:null}else e=il.next;var t=null===ol?ll.memoizedState:ol.next;if(null!==t)ol=t,il=e;else{if(null===e)throw Error(r(310));e={memoizedState:(il=e).memoizedState,baseState:il.baseState,baseQueue:il.baseQueue,queue:il.queue,next:null},null===ol?ll.memoizedState=ol=e:ol=ol.next=e}return ol}function gl(e,t){return"function"===typeof t?t(e):t}function jl(e){var t=bl(),a=t.queue;if(null===a)throw Error(r(311));a.lastRenderedReducer=e;var n=il,s=n.baseQueue,l=a.pending;if(null!==l){if(null!==s){var i=s.next;s.next=l.next,l.next=i}n.baseQueue=s=l,a.pending=null}if(null!==s){l=s.next,n=n.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((rl&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=n):c=c.next=m,ll.lanes|=u,Ao|=u}d=d.next}while(null!==d&&d!==l);null===c?i=n:c.next=o,ln(n,t.memoizedState)||(bi=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,a.lastRenderedState=n}if(null!==(e=a.interleaved)){s=e;do{l=s.lane,ll.lanes|=l,Ao|=l,s=s.next}while(s!==e)}else null===s&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function yl(e){var t=bl(),a=t.queue;if(null===a)throw Error(r(311));a.lastRenderedReducer=e;var n=a.dispatch,s=a.pending,l=t.memoizedState;if(null!==s){a.pending=null;var i=s=s.next;do{l=e(l,i.action),i=i.next}while(i!==s);ln(l,t.memoizedState)||(bi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),a.lastRenderedState=l}return[l,n]}function Nl(){}function wl(e,t){var a=ll,n=bl(),s=t(),l=!ln(n.memoizedState,s);if(l&&(n.memoizedState=s,bi=!0),n=n.queue,Ll(Cl.bind(null,a,n,e),[e]),n.getSnapshot!==t||l||null!==ol&&1&ol.memoizedState.tag){if(a.flags|=2048,Tl(9,Sl.bind(null,a,n,s,t),void 0,null),null===Po)throw Error(r(349));0!==(30&rl)||kl(a,t,s)}return s}function kl(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.stores=[e]):null===(a=t.stores)?t.stores=[e]:a.push(e)}function Sl(e,t,a,n){t.value=a,t.getSnapshot=n,_l(t)&&El(e)}function Cl(e,t,a){return a((function(){_l(t)&&El(e)}))}function _l(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ln(e,a)}catch(n){return!0}}function El(e){var t=Fr(e,1);null!==t&&ac(t,e,1,-1)}function Pl(e){var t=vl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:e},t.queue=e,e=e.dispatch=$l.bind(null,ll,e),[t.memoizedState,e]}function Tl(e,t,a,n){return e={tag:e,create:t,destroy:a,deps:n,next:null},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.lastEffect=e.next=e):null===(a=t.lastEffect)?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Dl(){return bl().memoizedState}function Rl(e,t,a,n){var s=vl();ll.flags|=e,s.memoizedState=Tl(1|t,a,void 0,void 0===n?null:n)}function Ol(e,t,a,n){var s=bl();n=void 0===n?null:n;var r=void 0;if(null!==il){var l=il.memoizedState;if(r=l.destroy,null!==n&&fl(n,l.deps))return void(s.memoizedState=Tl(t,a,r,n))}ll.flags|=e,s.memoizedState=Tl(1|t,a,r,n)}function Fl(e,t){return Rl(8390656,8,e,t)}function Ll(e,t){return Ol(2048,8,e,t)}function Al(e,t){return Ol(4,2,e,t)}function Il(e,t){return Ol(4,4,e,t)}function Ml(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zl(e,t,a){return a=null!==a&&void 0!==a?a.concat([e]):null,Ol(4,4,Ml.bind(null,t,e),a)}function Ul(){}function Bl(e,t){var a=bl();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&fl(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Wl(e,t){var a=bl();t=void 0===t?null:t;var n=a.memoizedState;return null!==n&&null!==t&&fl(t,n[1])?n[0]:(e=e(),a.memoizedState=[e,t],e)}function ql(e,t,a){return 0===(21&rl)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=a):(ln(a,t)||(a=pt(),ll.lanes|=a,Ao|=a,e.baseState=!0),t)}function Hl(e,t){var a=gt;gt=0!==a&&4>a?a:4,e(!0);var n=sl.transition;sl.transition={};try{e(!1),t()}finally{gt=a,sl.transition=n}}function Vl(){return bl().memoizedState}function Gl(e,t,a){var n=tc(e);if(a={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null},Kl(e))Yl(t,a);else if(null!==(a=Or(e,t,a,n))){ac(a,e,n,ec()),Jl(a,t,n)}}function $l(e,t,a){var n=tc(e),s={lane:n,action:a,hasEagerState:!1,eagerState:null,next:null};if(Kl(e))Yl(t,s);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=r(l,a);if(s.hasEagerState=!0,s.eagerState=i,ln(i,l)){var o=t.interleaved;return null===o?(s.next=s,Rr(t)):(s.next=o.next,o.next=s),void(t.interleaved=s)}}catch(c){}null!==(a=Or(e,t,s,n))&&(ac(a,e,n,s=ec()),Jl(a,t,n))}}function Kl(e){var t=e.alternate;return e===ll||null!==t&&t===ll}function Yl(e,t){dl=cl=!0;var a=e.pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Jl(e,t,a){if(0!==(4194240&a)){var n=t.lanes;a|=n&=e.pendingLanes,t.lanes=a,bt(e,a)}}var Ql={readContext:Tr,useCallback:hl,useContext:hl,useEffect:hl,useImperativeHandle:hl,useInsertionEffect:hl,useLayoutEffect:hl,useMemo:hl,useReducer:hl,useRef:hl,useState:hl,useDebugValue:hl,useDeferredValue:hl,useTransition:hl,useMutableSource:hl,useSyncExternalStore:hl,useId:hl,unstable_isNewReconciler:!1},Xl={readContext:Tr,useCallback:function(e,t){return vl().memoizedState=[e,void 0===t?null:t],e},useContext:Tr,useEffect:Fl,useImperativeHandle:function(e,t,a){return a=null!==a&&void 0!==a?a.concat([e]):null,Rl(4194308,4,Ml.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Rl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rl(4,2,e,t)},useMemo:function(e,t){var a=vl();return t=void 0===t?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var n=vl();return t=void 0!==a?a(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Gl.bind(null,ll,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},vl().memoizedState=e},useState:Pl,useDebugValue:Ul,useDeferredValue:function(e){return vl().memoizedState=e},useTransition:function(){var e=Pl(!1),t=e[0];return e=Hl.bind(null,e[1]),vl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var n=ll,s=vl();if(sr){if(void 0===a)throw Error(r(407));a=a()}else{if(a=t(),null===Po)throw Error(r(349));0!==(30&rl)||kl(n,t,a)}s.memoizedState=a;var l={value:a,getSnapshot:t};return s.queue=l,Fl(Cl.bind(null,n,l,e),[e]),n.flags|=2048,Tl(9,Sl.bind(null,n,l,a,t),void 0,null),a},useId:function(){var e=vl(),t=Po.identifierPrefix;if(sr){var a=Qs;t=":"+t+"R"+(a=(Js&~(1<<32-lt(Js)-1)).toString(32)+a),0<(a=ul++)&&(t+="H"+a.toString(32)),t+=":"}else t=":"+t+"r"+(a=ml++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zl={readContext:Tr,useCallback:Bl,useContext:Tr,useEffect:Ll,useImperativeHandle:zl,useInsertionEffect:Al,useLayoutEffect:Il,useMemo:Wl,useReducer:jl,useRef:Dl,useState:function(){return jl(gl)},useDebugValue:Ul,useDeferredValue:function(e){return ql(bl(),il.memoizedState,e)},useTransition:function(){return[jl(gl)[0],bl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:wl,useId:Vl,unstable_isNewReconciler:!1},ei={readContext:Tr,useCallback:Bl,useContext:Tr,useEffect:Ll,useImperativeHandle:zl,useInsertionEffect:Al,useLayoutEffect:Il,useMemo:Wl,useReducer:yl,useRef:Dl,useState:function(){return yl(gl)},useDebugValue:Ul,useDeferredValue:function(e){var t=bl();return null===il?t.memoizedState=e:ql(t,il.memoizedState,e)},useTransition:function(){return[yl(gl)[0],bl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:wl,useId:Vl,unstable_isNewReconciler:!1};function ti(e,t){if(e&&e.defaultProps){for(var a in t=I({},t),e=e.defaultProps)void 0===t[a]&&(t[a]=e[a]);return t}return t}function ai(e,t,a,n){a=null===(a=a(n,t=e.memoizedState))||void 0===a?t:I({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}var ni={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,a){e=e._reactInternals;var n=ec(),s=tc(e),r=Mr(n,s);r.payload=t,void 0!==a&&null!==a&&(r.callback=a),null!==(t=zr(e,r,s))&&(ac(t,e,s,n),Ur(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=ec(),s=tc(e),r=Mr(n,s);r.tag=1,r.payload=t,void 0!==a&&null!==a&&(r.callback=a),null!==(t=zr(e,r,s))&&(ac(t,e,s,n),Ur(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ec(),n=tc(e),s=Mr(a,n);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=zr(e,s,n))&&(ac(t,e,n,a),Ur(t,e,n))}};function si(e,t,a,n,s,r,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,r,l):!t.prototype||!t.prototype.isPureReactComponent||(!on(a,n)||!on(s,r))}function ri(e,t,a){var n=!1,s=_s,r=t.contextType;return"object"===typeof r&&null!==r?r=Tr(r):(s=Rs(t)?Ts:Es.current,r=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ds(e,s):_s),t=new t(a,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ni,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=r),t}function li(e,t,a,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&ni.enqueueReplaceState(t,t.state,null)}function ii(e,t,a,n){var s=e.stateNode;s.props=a,s.state=e.memoizedState,s.refs={},Ar(e);var r=t.contextType;"object"===typeof r&&null!==r?s.context=Tr(r):(r=Rs(t)?Ts:Es.current,s.context=Ds(e,r)),s.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(ai(e,t,r,a),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ni.enqueueReplaceState(s,s.state,null),Wr(e,a,s,n),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function oi(e,t){try{var a="",n=t;do{a+=B(n),n=n.return}while(n);var s=a}catch(r){s="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:s,digest:null}}function ci(e,t,a){return{value:e,source:null,stack:null!=a?a:null,digest:null!=t?t:null}}function di(e,t){try{console.error(t.value)}catch(a){setTimeout((function(){throw a}))}}var ui="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,a){(a=Mr(-1,a)).tag=3,a.payload={element:null};var n=t.value;return a.callback=function(){Ho||(Ho=!0,Vo=n),di(0,t)},a}function hi(e,t,a){(a=Mr(-1,a)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var s=t.value;a.payload=function(){return n(s)},a.callback=function(){di(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(a.callback=function(){di(0,t),"function"!==typeof n&&(null===Go?Go=new Set([this]):Go.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),a}function fi(e,t,a){var n=e.pingCache;if(null===n){n=e.pingCache=new ui;var s=new Set;n.set(t,s)}else void 0===(s=n.get(t))&&(s=new Set,n.set(t,s));s.has(a)||(s.add(a),e=Sc.bind(null,e,t,a),t.then(e,e))}function pi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xi(e,t,a,n,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,1===a.tag&&(null===a.alternate?a.tag=17:((t=Mr(-1,1)).tag=2,zr(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var vi=j.ReactCurrentOwner,bi=!1;function gi(e,t,a,n){t.child=null===e?yr(t,null,a,n):jr(t,e.child,a,n)}function ji(e,t,a,n,s){a=a.render;var r=t.ref;return Pr(t,s),n=pl(e,t,a,n,r,s),a=xl(),null===e||bi?(sr&&a&&er(t),t.flags|=1,gi(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qi(e,t,s))}function yi(e,t,a,n,s){if(null===e){var r=a.type;return"function"!==typeof r||Rc(r)||void 0!==r.defaultProps||null!==a.compare||void 0!==a.defaultProps?((e=Fc(a.type,null,n,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ni(e,t,r,n,s))}if(r=e.child,0===(e.lanes&s)){var l=r.memoizedProps;if((a=null!==(a=a.compare)?a:on)(l,n)&&e.ref===t.ref)return qi(e,t,s)}return t.flags|=1,(e=Oc(r,n)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,a,n,s){if(null!==e){var r=e.memoizedProps;if(on(r,n)&&e.ref===t.ref){if(bi=!1,t.pendingProps=n=r,0===(e.lanes&s))return t.lanes=e.lanes,qi(e,t,s);0!==(131072&e.flags)&&(bi=!0)}}return Si(e,t,a,n,s)}function wi(e,t,a){var n=t.pendingProps,s=n.children,r=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Oo,Ro),Ro|=a;else{if(0===(1073741824&a))return e=null!==r?r.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Oo,Ro),Ro|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==r?r.baseLanes:a,Cs(Oo,Ro),Ro|=n}else null!==r?(n=r.baseLanes|a,t.memoizedState=null):n=a,Cs(Oo,Ro),Ro|=n;return gi(e,t,s,a),t.child}function ki(e,t){var a=t.ref;(null===e&&null!==a||null!==e&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function Si(e,t,a,n,s){var r=Rs(a)?Ts:Es.current;return r=Ds(t,r),Pr(t,s),a=pl(e,t,a,n,r,s),n=xl(),null===e||bi?(sr&&n&&er(t),t.flags|=1,gi(e,t,a,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qi(e,t,s))}function Ci(e,t,a,n,s){if(Rs(a)){var r=!0;As(t)}else r=!1;if(Pr(t,s),null===t.stateNode)Wi(e,t),ri(t,a,n),ii(t,a,n,s),n=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=a.contextType;"object"===typeof c&&null!==c?c=Tr(c):c=Ds(t,c=Rs(a)?Ts:Es.current);var d=a.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==n||o!==c)&&li(t,l,n,c),Lr=!1;var m=t.memoizedState;l.state=m,Wr(t,n,l,s),o=t.memoizedState,i!==n||m!==o||Ps.current||Lr?("function"===typeof d&&(ai(t,a,d,n),o=t.memoizedState),(i=Lr||si(t,a,i,n,m,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),l.props=n,l.state=o,l.context=c,n=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Ir(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ti(t.type,i),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(o=a.contextType)&&null!==o?o=Tr(o):o=Ds(t,o=Rs(a)?Ts:Es.current);var h=a.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||m!==o)&&li(t,l,n,o),Lr=!1,m=t.memoizedState,l.state=m,Wr(t,n,l,s);var f=t.memoizedState;i!==u||m!==f||Ps.current||Lr?("function"===typeof h&&(ai(t,a,h,n),f=t.memoizedState),(c=Lr||si(t,a,c,n,m,f,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(n,f,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(n,f,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),l.props=n,l.state=f,l.context=o,n=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return _i(e,t,a,n,r,s)}function _i(e,t,a,n,s,r){ki(e,t);var l=0!==(128&t.flags);if(!n&&!l)return s&&Is(t,a,!1),qi(e,t,r);n=t.stateNode,vi.current=t;var i=l&&"function"!==typeof a.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&l?(t.child=jr(t,e.child,null,r),t.child=jr(t,null,i,r)):gi(e,t,i,r),t.memoizedState=n.state,s&&Is(t,a,!0),t.child}function Ei(e){var t=e.stateNode;t.pendingContext?Fs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fs(0,t.context,!1),Yr(e,t.containerInfo)}function Pi(e,t,a,n,s){return hr(),fr(s),t.flags|=256,gi(e,t,a,n),t.child}var Ti,Di,Ri,Oi,Fi={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ai(e,t,a){var n,s=t.pendingProps,l=Zr.current,i=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&l)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Cs(Zr,1&l),null===e)return cr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=s.children,e=s.fallback,i?(s=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&s)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Ac(o,s,0,null),e=Lc(e,s,a,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Li(a),t.memoizedState=Fi,e):Ii(t,o));if(null!==(l=e.memoizedState)&&null!==(n=l.dehydrated))return function(e,t,a,n,s,l,i){if(a)return 256&t.flags?(t.flags&=-257,Mi(e,t,i,n=ci(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=n.fallback,s=t.mode,n=Ac({mode:"visible",children:n.children},s,0,null),(l=Lc(l,s,i,null)).flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,0!==(1&t.mode)&&jr(t,e.child,null,i),t.child.memoizedState=Li(i),t.memoizedState=Fi,l);if(0===(1&t.mode))return Mi(e,t,i,null);if("$!"===s.data){if(n=s.nextSibling&&s.nextSibling.dataset)var o=n.dgst;return n=o,Mi(e,t,i,n=ci(l=Error(r(419)),n,void 0))}if(o=0!==(i&e.childLanes),bi||o){if(null!==(n=Po)){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(n.suspendedLanes|i))?0:s)&&s!==l.retryLane&&(l.retryLane=s,Fr(e,s),ac(n,e,s,-1))}return pc(),Mi(e,t,i,n=ci(Error(r(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,nr=cs(s.nextSibling),ar=t,sr=!0,rr=null,null!==e&&($s[Ks++]=Js,$s[Ks++]=Qs,$s[Ks++]=Ys,Js=e.id,Qs=e.overflow,Ys=t),t=Ii(t,n.children),t.flags|=4096,t)}(e,t,o,s,n,l,a);if(i){i=s.fallback,o=t.mode,n=(l=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&o)&&t.child!==l?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Oc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==n?i=Oc(n,i):(i=Lc(i,o,a,null)).flags|=2,i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,o=null===(o=e.child.memoizedState)?Li(a):{baseLanes:o.baseLanes|a,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~a,t.memoizedState=Fi,s}return e=(i=e.child).sibling,s=Oc(i,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=a),s.return=t,s.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=s,t.memoizedState=null,s}function Ii(e,t){return(t=Ac({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mi(e,t,a,n){return null!==n&&fr(n),jr(t,e.child,null,a),(e=Ii(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zi(e,t,a){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Er(e.return,t,a)}function Ui(e,t,a,n,s){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=a,r.tailMode=s)}function Bi(e,t,a){var n=t.pendingProps,s=n.revealOrder,r=n.tail;if(gi(e,t,n.children,a),0!==(2&(n=Zr.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zi(e,a,t);else if(19===e.tag)zi(e,a,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Cs(Zr,n),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(a=t.child,s=null;null!==a;)null!==(e=a.alternate)&&null===el(e)&&(s=a),a=a.sibling;null===(a=s)?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),Ui(t,!1,s,a,r);break;case"backwards":for(a=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===el(e)){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}Ui(t,!0,a,null,r);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qi(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),Ao|=t.lanes,0===(a&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(a=Oc(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=Oc(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function Hi(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;null!==a;)null!==a.alternate&&(n=a),a=a.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vi(e){var t=null!==e.alternate&&e.alternate.child===e.child,a=0,n=0;if(t)for(var s=e.child;null!==s;)a|=s.lanes|s.childLanes,n|=14680064&s.subtreeFlags,n|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function Gi(e,t,a){var n=t.pendingProps;switch(tr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vi(t),null;case 1:case 17:return Rs(t.type)&&Os(),Vi(t),null;case 3:return n=t.stateNode,Jr(),Ss(Ps),Ss(Es),al(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ur(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==rr&&(lc(rr),rr=null))),Di(e,t),Vi(t),null;case 5:Xr(t);var s=Kr($r.current);if(a=t.type,null!==e&&null!=t.stateNode)Ri(e,t,a,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(r(166));return Vi(t),null}if(e=Kr(Vr.current),ur(t)){n=t.stateNode,a=t.type;var l=t.memoizedProps;switch(n[ms]=t,n[hs]=l,e=0!==(1&t.mode),a){case"dialog":zn("cancel",n),zn("close",n);break;case"iframe":case"object":case"embed":zn("load",n);break;case"video":case"audio":for(s=0;s<Ln.length;s++)zn(Ln[s],n);break;case"source":zn("error",n);break;case"img":case"image":case"link":zn("error",n),zn("load",n);break;case"details":zn("toggle",n);break;case"input":J(n,l),zn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},zn("invalid",n);break;case"textarea":se(n,l),zn("invalid",n)}for(var o in be(a,l),s=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?n.textContent!==c&&(!0!==l.suppressHydrationWarning&&Xn(n.textContent,c,e),s=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Xn(n.textContent,c,e),s=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&zn("scroll",n)}switch(a){case"input":G(n),Z(n,l,!0);break;case"textarea":G(n),le(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=Zn)}n=s,t.updateQueue=n,null!==n&&(t.flags|=4)}else{o=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(a)),"http://www.w3.org/1999/xhtml"===e?"script"===a?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=o.createElement(a,{is:n.is}):(e=o.createElement(a),"select"===a&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,a),e[ms]=t,e[hs]=n,Ti(e,t,!1,!1),t.stateNode=e;e:{switch(o=ge(a,n),a){case"dialog":zn("cancel",e),zn("close",e),s=n;break;case"iframe":case"object":case"embed":zn("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ln.length;s++)zn(Ln[s],e);s=n;break;case"source":zn("error",e),s=n;break;case"img":case"image":case"link":zn("error",e),zn("load",e),s=n;break;case"details":zn("toggle",e),s=n;break;case"input":J(e,n),s=Y(e,n),zn("invalid",e);break;case"option":default:s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=I({},n,{value:void 0}),zn("invalid",e);break;case"textarea":se(e,n),s=ne(e,n),zn("invalid",e)}for(l in be(a,s),c=s)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?xe(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==a||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&zn("scroll",e):null!=d&&g(e,l,d,o))}switch(a){case"input":G(e),Z(e,n,!1);break;case"textarea":G(e),le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(l=n.value)?ae(e,!!n.multiple,l,!1):null!=n.defaultValue&&ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zn)}switch(a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vi(t),null;case 6:if(e&&null!=t.stateNode)Oi(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(r(166));if(a=Kr($r.current),Kr(Vr.current),ur(t)){if(n=t.stateNode,a=t.memoizedProps,n[ms]=t,(l=n.nodeValue!==a)&&null!==(e=ar))switch(e.tag){case 3:Xn(n.nodeValue,a,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,a,0!==(1&e.mode))}l&&(t.flags|=4)}else(n=(9===a.nodeType?a:a.ownerDocument).createTextNode(n))[ms]=t,t.stateNode=n}return Vi(t),null;case 13:if(Ss(Zr),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sr&&null!==nr&&0!==(1&t.mode)&&0===(128&t.flags))mr(),hr(),t.flags|=98560,l=!1;else if(l=ur(t),null!==n&&null!==n.dehydrated){if(null===e){if(!l)throw Error(r(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(r(317));l[ms]=t}else hr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vi(t),l=!1}else null!==rr&&(lc(rr),rr=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=a,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zr.current)?0===Fo&&(Fo=3):pc())),null!==t.updateQueue&&(t.flags|=4),Vi(t),null);case 4:return Jr(),Di(e,t),null===e&&Wn(t.stateNode.containerInfo),Vi(t),null;case 10:return _r(t.type._context),Vi(t),null;case 19:if(Ss(Zr),null===(l=t.memoizedState))return Vi(t),null;if(n=0!==(128&t.flags),null===(o=l.rendering))if(n)Hi(l,!1);else{if(0!==Fo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=el(e))){for(t.flags|=128,Hi(l,!1),null!==(n=o.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=a,a=t.child;null!==a;)e=n,(l=a).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Cs(Zr,1&Zr.current|2),t.child}e=e.sibling}null!==l.tail&&Qe()>Wo&&(t.flags|=128,n=!0,Hi(l,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=el(o))){if(t.flags|=128,n=!0,null!==(a=e.updateQueue)&&(t.updateQueue=a,t.flags|=4),Hi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!sr)return Vi(t),null}else 2*Qe()-l.renderingStartTime>Wo&&1073741824!==a&&(t.flags|=128,n=!0,Hi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(a=l.last)?a.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Qe(),t.sibling=null,a=Zr.current,Cs(Zr,n?1&a|2:1&a),t):(Vi(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Ro)&&(Vi(t),6&t.subtreeFlags&&(t.flags|=8192)):Vi(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function $i(e,t){switch(tr(t),t.tag){case 1:return Rs(t.type)&&Os(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jr(),Ss(Ps),Ss(Es),al(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xr(t),null;case 13:if(Ss(Zr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));hr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(Zr),null;case 4:return Jr(),null;case 10:return _r(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ti=function(e,t){for(var a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Di=function(){},Ri=function(e,t,a,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Kr(Vr.current);var r,l=null;switch(a){case"input":s=Y(e,s),n=Y(e,n),l=[];break;case"select":s=I({},s,{value:void 0}),n=I({},n,{value:void 0}),l=[];break;case"textarea":s=ne(e,s),n=ne(e,n),l=[];break;default:"function"!==typeof s.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in be(a,n),a=null,s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var o=s[d];for(r in o)o.hasOwnProperty(r)&&(a||(a={}),a[r]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=null!=s?s[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(r in o)!o.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(a||(a={}),a[r]="");for(r in c)c.hasOwnProperty(r)&&o[r]!==c[r]&&(a||(a={}),a[r]=c[r])}else a||(l||(l=[]),l.push(d,a)),a=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zn("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}a&&(l=l||[]).push("style",a);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Oi=function(e,t,a,n){a!==n&&(t.flags|=4)};var Ki=!1,Yi=!1,Ji="function"===typeof WeakSet?WeakSet:Set,Qi=null;function Xi(e,t){var a=e.ref;if(null!==a)if("function"===typeof a)try{a(null)}catch(n){kc(e,t,n)}else a.current=null}function Zi(e,t,a){try{a()}catch(n){kc(e,t,n)}}var eo=!1;function to(e,t,a){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var s=n=n.next;do{if((s.tag&e)===e){var r=s.destroy;s.destroy=void 0,void 0!==r&&Zi(t,a,r)}s=s.next}while(s!==n)}}function ao(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var a=t=t.next;do{if((a.tag&e)===e){var n=a.create;a.destroy=n()}a=a.next}while(a!==t)}}function no(e){var t=e.ref;if(null!==t){var a=e.stateNode;e.tag,e=a,"function"===typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ms],delete t[hs],delete t[ps],delete t[xs],delete t[vs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ro(e){return 5===e.tag||3===e.tag||4===e.tag}function lo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ro(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function io(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===a.nodeType?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(8===a.nodeType?(t=a.parentNode).insertBefore(e,a):(t=a).appendChild(e),null!==(a=a._reactRootContainer)&&void 0!==a||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(io(e,t,a),e=e.sibling;null!==e;)io(e,t,a),e=e.sibling}function oo(e,t,a){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(4!==n&&null!==(e=e.child))for(oo(e,t,a),e=e.sibling;null!==e;)oo(e,t,a),e=e.sibling}var co=null,uo=!1;function mo(e,t,a){for(a=a.child;null!==a;)ho(e,t,a),a=a.sibling}function ho(e,t,a){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(st,a)}catch(i){}switch(a.tag){case 5:Yi||Xi(a,t);case 6:var n=co,s=uo;co=null,mo(e,t,a),uo=s,null!==(co=n)&&(uo?(e=co,a=a.stateNode,8===e.nodeType?e.parentNode.removeChild(a):e.removeChild(a)):co.removeChild(a.stateNode));break;case 18:null!==co&&(uo?(e=co,a=a.stateNode,8===e.nodeType?os(e.parentNode,a):1===e.nodeType&&os(e,a),Wt(e)):os(co,a.stateNode));break;case 4:n=co,s=uo,co=a.stateNode.containerInfo,uo=!0,mo(e,t,a),co=n,uo=s;break;case 0:case 11:case 14:case 15:if(!Yi&&(null!==(n=a.updateQueue)&&null!==(n=n.lastEffect))){s=n=n.next;do{var r=s,l=r.destroy;r=r.tag,void 0!==l&&(0!==(2&r)||0!==(4&r))&&Zi(a,t,l),s=s.next}while(s!==n)}mo(e,t,a);break;case 1:if(!Yi&&(Xi(a,t),"function"===typeof(n=a.stateNode).componentWillUnmount))try{n.props=a.memoizedProps,n.state=a.memoizedState,n.componentWillUnmount()}catch(i){kc(a,t,i)}mo(e,t,a);break;case 21:mo(e,t,a);break;case 22:1&a.mode?(Yi=(n=Yi)||null!==a.memoizedState,mo(e,t,a),Yi=n):mo(e,t,a);break;default:mo(e,t,a)}}function fo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new Ji),t.forEach((function(t){var n=Ec.bind(null,e,t);a.has(t)||(a.add(t),t.then(n,n))}))}}function po(e,t){var a=t.deletions;if(null!==a)for(var n=0;n<a.length;n++){var s=a[n];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(r(160));ho(l,i,s),co=null,uo=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){kc(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xo(t,e),t=t.sibling}function xo(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(po(t,e),vo(e),4&n){try{to(3,e,e.return),ao(3,e)}catch(x){kc(e,e.return,x)}try{to(5,e,e.return)}catch(x){kc(e,e.return,x)}}break;case 1:po(t,e),vo(e),512&n&&null!==a&&Xi(a,a.return);break;case 5:if(po(t,e),vo(e),512&n&&null!==a&&Xi(a,a.return),32&e.flags){var s=e.stateNode;try{me(s,"")}catch(x){kc(e,e.return,x)}}if(4&n&&null!=(s=e.stateNode)){var l=e.memoizedProps,i=null!==a?a.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&Q(s,l),ge(o,i);var d=ge(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?xe(s,m):"dangerouslySetInnerHTML"===u?ue(s,m):"children"===u?me(s,m):g(s,u,m,d)}switch(o){case"input":X(s,l);break;case"textarea":re(s,l);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var f=l.value;null!=f?ae(s,!!l.multiple,f,!1):h!==!!l.multiple&&(null!=l.defaultValue?ae(s,!!l.multiple,l.defaultValue,!0):ae(s,!!l.multiple,l.multiple?[]:"",!1))}s[hs]=l}catch(x){kc(e,e.return,x)}}break;case 6:if(po(t,e),vo(e),4&n){if(null===e.stateNode)throw Error(r(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(x){kc(e,e.return,x)}}break;case 3:if(po(t,e),vo(e),4&n&&null!==a&&a.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(x){kc(e,e.return,x)}break;case 4:default:po(t,e),vo(e);break;case 13:po(t,e),vo(e),8192&(s=e.child).flags&&(l=null!==s.memoizedState,s.stateNode.isHidden=l,!l||null!==s.alternate&&null!==s.alternate.memoizedState||(Bo=Qe())),4&n&&fo(e);break;case 22:if(u=null!==a&&null!==a.memoizedState,1&e.mode?(Yi=(d=Yi)||u,po(t,e),Yi=d):po(t,e),vo(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Qi=e,u=e.child;null!==u;){for(m=Qi=u;null!==Qi;){switch(f=(h=Qi).child,h.tag){case 0:case 11:case 14:case 15:to(4,h,h.return);break;case 1:Xi(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){n=h,a=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){kc(n,a,x)}}break;case 5:Xi(h,h.return);break;case 22:if(null!==h.memoizedState){yo(m);continue}}null!==f?(f.return=h,Qi=f):yo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{s=m.stateNode,d?"function"===typeof(l=s.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=pe("display",i))}catch(x){kc(e,e.return,x)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){kc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:po(t,e),vo(e),4&n&&fo(e);case 21:}}function vo(e){var t=e.flags;if(2&t){try{e:{for(var a=e.return;null!==a;){if(ro(a)){var n=a;break e}a=a.return}throw Error(r(160))}switch(n.tag){case 5:var s=n.stateNode;32&n.flags&&(me(s,""),n.flags&=-33),oo(e,lo(e),s);break;case 3:case 4:var l=n.stateNode.containerInfo;io(e,lo(e),l);break;default:throw Error(r(161))}}catch(i){kc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bo(e,t,a){Qi=e,go(e,t,a)}function go(e,t,a){for(var n=0!==(1&e.mode);null!==Qi;){var s=Qi,r=s.child;if(22===s.tag&&n){var l=null!==s.memoizedState||Ki;if(!l){var i=s.alternate,o=null!==i&&null!==i.memoizedState||Yi;i=Ki;var c=Yi;if(Ki=l,(Yi=o)&&!c)for(Qi=s;null!==Qi;)o=(l=Qi).child,22===l.tag&&null!==l.memoizedState?No(s):null!==o?(o.return=l,Qi=o):No(s);for(;null!==r;)Qi=r,go(r,t,a),r=r.sibling;Qi=s,Ki=i,Yi=c}jo(e)}else 0!==(8772&s.subtreeFlags)&&null!==r?(r.return=s,Qi=r):jo(e)}}function jo(e){for(;null!==Qi;){var t=Qi;if(0!==(8772&t.flags)){var a=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yi||ao(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Yi)if(null===a)n.componentDidMount();else{var s=t.elementType===t.type?a.memoizedProps:ti(t.type,a.memoizedProps);n.componentDidUpdate(s,a.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&qr(t,l,n);break;case 3:var i=t.updateQueue;if(null!==i){if(a=null,null!==t.child)switch(t.child.tag){case 5:case 1:a=t.child.stateNode}qr(t,i,a)}break;case 5:var o=t.stateNode;if(null===a&&4&t.flags){a=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&a.focus();break;case"img":c.src&&(a.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Wt(m)}}}break;default:throw Error(r(163))}Yi||512&t.flags&&no(t)}catch(h){kc(t,t.return,h)}}if(t===e){Qi=null;break}if(null!==(a=t.sibling)){a.return=t.return,Qi=a;break}Qi=t.return}}function yo(e){for(;null!==Qi;){var t=Qi;if(t===e){Qi=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Qi=a;break}Qi=t.return}}function No(e){for(;null!==Qi;){var t=Qi;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{ao(4,t)}catch(o){kc(t,a,o)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var s=t.return;try{n.componentDidMount()}catch(o){kc(t,s,o)}}var r=t.return;try{no(t)}catch(o){kc(t,r,o)}break;case 5:var l=t.return;try{no(t)}catch(o){kc(t,l,o)}}}catch(o){kc(t,t.return,o)}if(t===e){Qi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Qi=i;break}Qi=t.return}}var wo,ko=Math.ceil,So=j.ReactCurrentDispatcher,Co=j.ReactCurrentOwner,_o=j.ReactCurrentBatchConfig,Eo=0,Po=null,To=null,Do=0,Ro=0,Oo=ks(0),Fo=0,Lo=null,Ao=0,Io=0,Mo=0,zo=null,Uo=null,Bo=0,Wo=1/0,qo=null,Ho=!1,Vo=null,Go=null,$o=!1,Ko=null,Yo=0,Jo=0,Qo=null,Xo=-1,Zo=0;function ec(){return 0!==(6&Eo)?Qe():-1!==Xo?Xo:Xo=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==Do?Do&-Do:null!==pr.transition?(0===Zo&&(Zo=pt()),Zo):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function ac(e,t,a,n){if(50<Jo)throw Jo=0,Qo=null,Error(r(185));vt(e,a,n),0!==(2&Eo)&&e===Po||(e===Po&&(0===(2&Eo)&&(Io|=a),4===Fo&&ic(e,Do)),nc(e,n),1===a&&0===Eo&&0===(1&t.mode)&&(Wo=Qe()+500,zs&&Ws()))}function nc(e,t){var a=e.callbackNode;!function(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes;0<r;){var l=31-lt(r),i=1<<l,o=s[l];-1===o?0!==(i&a)&&0===(i&n)||(s[l]=ht(i,t)):o<=t&&(e.expiredLanes|=i),r&=~i}}(e,t);var n=mt(e,e===Po?Do:0);if(0===n)null!==a&&Ke(a),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=a&&Ke(a),1===t)0===e.tag?function(e){zs=!0,Bs(e)}(oc.bind(null,e)):Bs(oc.bind(null,e)),ls((function(){0===(6&Eo)&&Ws()})),a=null;else{switch(jt(n)){case 1:a=Ze;break;case 4:a=et;break;case 16:default:a=tt;break;case 536870912:a=nt}a=Pc(a,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function sc(e,t){if(Xo=-1,Zo=0,0!==(6&Eo))throw Error(r(327));var a=e.callbackNode;if(Nc()&&e.callbackNode!==a)return null;var n=mt(e,e===Po?Do:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=xc(e,n);else{t=n;var s=Eo;Eo|=2;var l=fc();for(Po===e&&Do===t||(qo=null,Wo=Qe()+500,mc(e,t));;)try{bc();break}catch(o){hc(e,o)}Cr(),So.current=l,Eo=s,null!==To?t=0:(Po=null,Do=0,t=Fo)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(n=s,t=rc(e,s))),1===t)throw a=Lo,mc(e,0),ic(e,n),nc(e,Qe()),a;if(6===t)ic(e,n);else{if(s=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var a=t.updateQueue;if(null!==a&&null!==(a=a.stores))for(var n=0;n<a.length;n++){var s=a[n],r=s.getSnapshot;s=s.value;try{if(!ln(r(),s))return!1}catch(i){return!1}}}if(a=t.child,16384&t.subtreeFlags&&null!==a)a.return=t,t=a;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=xc(e,n))&&(0!==(l=ft(e))&&(n=l,t=rc(e,l))),1===t))throw a=Lo,mc(e,0),ic(e,n),nc(e,Qe()),a;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(r(345));case 2:case 5:yc(e,Uo,qo);break;case 3:if(ic(e,n),(130023424&n)===n&&10<(t=Bo+500-Qe())){if(0!==mt(e,0))break;if(((s=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ns(yc.bind(null,e,Uo,qo),t);break}yc(e,Uo,qo);break;case 4:if(ic(e,n),(4194240&n)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-lt(n);l=1<<i,(i=t[i])>s&&(s=i),n&=~l}if(n=s,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ko(n/1960))-n)){e.timeoutHandle=ns(yc.bind(null,e,Uo,qo),n);break}yc(e,Uo,qo);break;default:throw Error(r(329))}}}return nc(e,Qe()),e.callbackNode===a?sc.bind(null,e):null}function rc(e,t){var a=zo;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Uo,Uo=a,null!==t&&lc(t)),e}function lc(e){null===Uo?Uo=e:Uo.push.apply(Uo,e)}function ic(e,t){for(t&=~Mo,t&=~Io,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-lt(t),n=1<<a;e[a]=-1,t&=~n}}function oc(e){if(0!==(6&Eo))throw Error(r(327));Nc();var t=mt(e,0);if(0===(1&t))return nc(e,Qe()),null;var a=xc(e,t);if(0!==e.tag&&2===a){var n=ft(e);0!==n&&(t=n,a=rc(e,n))}if(1===a)throw a=Lo,mc(e,0),ic(e,t),nc(e,Qe()),a;if(6===a)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yc(e,Uo,qo),nc(e,Qe()),null}function cc(e,t){var a=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=a)&&(Wo=Qe()+500,zs&&Ws())}}function dc(e){null!==Ko&&0===Ko.tag&&0===(6&Eo)&&Nc();var t=Eo;Eo|=1;var a=_o.transition,n=gt;try{if(_o.transition=null,gt=1,e)return e()}finally{gt=n,_o.transition=a,0===(6&(Eo=t))&&Ws()}}function uc(){Ro=Oo.current,Ss(Oo)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(-1!==a&&(e.timeoutHandle=-1,ss(a)),null!==To)for(a=To.return;null!==a;){var n=a;switch(tr(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Os();break;case 3:Jr(),Ss(Ps),Ss(Es),al();break;case 5:Xr(n);break;case 4:Jr();break;case 13:case 19:Ss(Zr);break;case 10:_r(n.type._context);break;case 22:case 23:uc()}a=a.return}if(Po=e,To=e=Oc(e.current,null),Do=Ro=t,Fo=0,Lo=null,Mo=Io=Ao=0,Uo=zo=null,null!==Dr){for(t=0;t<Dr.length;t++)if(null!==(n=(a=Dr[t]).interleaved)){a.interleaved=null;var s=n.next,r=a.pending;if(null!==r){var l=r.next;r.next=s,n.next=l}a.pending=n}Dr=null}return e}function hc(e,t){for(;;){var a=To;try{if(Cr(),nl.current=Ql,cl){for(var n=ll.memoizedState;null!==n;){var s=n.queue;null!==s&&(s.pending=null),n=n.next}cl=!1}if(rl=0,ol=il=ll=null,dl=!1,ul=0,Co.current=null,null===a||null===a.return){Fo=1,Lo=t,To=null;break}e:{var l=e,i=a.return,o=a,c=t;if(t=Do,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=pi(i);if(null!==f){f.flags&=-257,xi(f,i,o,0,t),1&f.mode&&fi(l,d,t),c=d;var p=(t=f).updateQueue;if(null===p){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}if(0===(1&t)){fi(l,d,t),pc();break e}c=Error(r(426))}else if(sr&&1&o.mode){var v=pi(i);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),xi(v,i,o,0,t),fr(oi(c,o));break e}}l=c=oi(c,o),4!==Fo&&(Fo=2),null===zo?zo=[l]:zo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Br(l,mi(0,c,t));break e;case 1:o=c;var b=l.type,g=l.stateNode;if(0===(128&l.flags)&&("function"===typeof b.getDerivedStateFromError||null!==g&&"function"===typeof g.componentDidCatch&&(null===Go||!Go.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t,Br(l,hi(l,o,t));break e}}l=l.return}while(null!==l)}jc(a)}catch(j){t=j,To===a&&null!==a&&(To=a=a.return);continue}break}}function fc(){var e=So.current;return So.current=Ql,null===e?Ql:e}function pc(){0!==Fo&&3!==Fo&&2!==Fo||(Fo=4),null===Po||0===(268435455&Ao)&&0===(268435455&Io)||ic(Po,Do)}function xc(e,t){var a=Eo;Eo|=2;var n=fc();for(Po===e&&Do===t||(qo=null,mc(e,t));;)try{vc();break}catch(s){hc(e,s)}if(Cr(),Eo=a,So.current=n,null!==To)throw Error(r(261));return Po=null,Do=0,Fo}function vc(){for(;null!==To;)gc(To)}function bc(){for(;null!==To&&!Ye();)gc(To)}function gc(e){var t=wo(e.alternate,e,Ro);e.memoizedProps=e.pendingProps,null===t?jc(e):To=t,Co.current=null}function jc(e){var t=e;do{var a=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(a=Gi(a,t,Ro)))return void(To=a)}else{if(null!==(a=$i(a,t)))return a.flags&=32767,void(To=a);if(null===e)return Fo=6,void(To=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(To=t);To=t=e}while(null!==t);0===Fo&&(Fo=5)}function yc(e,t,a){var n=gt,s=_o.transition;try{_o.transition=null,gt=1,function(e,t,a,n){do{Nc()}while(null!==Ko);if(0!==(6&Eo))throw Error(r(327));a=e.finishedWork;var s=e.finishedLanes;if(null===a)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var l=a.lanes|a.childLanes;if(function(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<a;){var s=31-lt(a),r=1<<s;t[s]=0,n[s]=-1,e[s]=-1,a&=~r}}(e,l),e===Po&&(To=Po=null,Do=0),0===(2064&a.subtreeFlags)&&0===(2064&a.flags)||$o||($o=!0,Pc(tt,(function(){return Nc(),null}))),l=0!==(15990&a.flags),0!==(15990&a.subtreeFlags)||l){l=_o.transition,_o.transition=null;var i=gt;gt=1;var o=Eo;Eo|=4,Co.current=null,function(e,t){if(es=Ht,hn(e=mn())){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(n&&0!==n.rangeCount){a=n.anchorNode;var s=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{a.nodeType,l.nodeType}catch(y){a=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var f;m!==a||0!==s&&3!==m.nodeType||(o=i+s),m!==l||0!==n&&3!==m.nodeType||(c=i+n),3===m.nodeType&&(i+=m.nodeValue.length),null!==(f=m.firstChild);)h=m,m=f;for(;;){if(m===e)break t;if(h===a&&++d===s&&(o=i),h===l&&++u===n&&(c=i),null!==(f=m.nextSibling))break;h=(m=h).parentNode}m=f}a=-1===o||-1===c?null:{start:o,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(ts={focusedElem:e,selectionRange:a},Ht=!1,Qi=t;null!==Qi;)if(e=(t=Qi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qi=e;else for(;null!==Qi;){t=Qi;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var x=p.memoizedProps,v=p.memoizedState,b=t.stateNode,g=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:ti(t.type,x),v);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var j=t.stateNode.containerInfo;1===j.nodeType?j.textContent="":9===j.nodeType&&j.documentElement&&j.removeChild(j.documentElement);break;default:throw Error(r(163))}}catch(y){kc(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,Qi=e;break}Qi=t.return}p=eo,eo=!1}(e,a),xo(a,e),fn(ts),Ht=!!es,ts=es=null,e.current=a,bo(a,e,s),Je(),Eo=o,gt=i,_o.transition=l}else e.current=a;if($o&&($o=!1,Ko=e,Yo=s),l=e.pendingLanes,0===l&&(Go=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(a.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,a=0;a<t.length;a++)s=t[a],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ho)throw Ho=!1,e=Vo,Vo=null,e;0!==(1&Yo)&&0!==e.tag&&Nc(),l=e.pendingLanes,0!==(1&l)?e===Qo?Jo++:(Jo=0,Qo=e):Jo=0,Ws()}(e,t,a,n)}finally{_o.transition=s,gt=n}return null}function Nc(){if(null!==Ko){var e=jt(Yo),t=_o.transition,a=gt;try{if(_o.transition=null,gt=16>e?16:e,null===Ko)var n=!1;else{if(e=Ko,Ko=null,Yo=0,0!==(6&Eo))throw Error(r(331));var s=Eo;for(Eo|=4,Qi=e.current;null!==Qi;){var l=Qi,i=l.child;if(0!==(16&Qi.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Qi=d;null!==Qi;){var u=Qi;switch(u.tag){case 0:case 11:case 15:to(8,u,l)}var m=u.child;if(null!==m)m.return=u,Qi=m;else for(;null!==Qi;){var h=(u=Qi).sibling,f=u.return;if(so(u),u===d){Qi=null;break}if(null!==h){h.return=f,Qi=h;break}Qi=f}}}var p=l.alternate;if(null!==p){var x=p.child;if(null!==x){p.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(null!==x)}}Qi=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Qi=i;else e:for(;null!==Qi;){if(0!==(2048&(l=Qi).flags))switch(l.tag){case 0:case 11:case 15:to(9,l,l.return)}var b=l.sibling;if(null!==b){b.return=l.return,Qi=b;break e}Qi=l.return}}var g=e.current;for(Qi=g;null!==Qi;){var j=(i=Qi).child;if(0!==(2064&i.subtreeFlags)&&null!==j)j.return=i,Qi=j;else e:for(i=g;null!==Qi;){if(0!==(2048&(o=Qi).flags))try{switch(o.tag){case 0:case 11:case 15:ao(9,o)}}catch(N){kc(o,o.return,N)}if(o===i){Qi=null;break e}var y=o.sibling;if(null!==y){y.return=o.return,Qi=y;break e}Qi=o.return}}if(Eo=s,Ws(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(st,e)}catch(N){}n=!0}return n}finally{gt=a,_o.transition=t}}return!1}function wc(e,t,a){e=zr(e,t=mi(0,t=oi(a,t),1),1),t=ec(),null!==e&&(vt(e,1,t),nc(e,t))}function kc(e,t,a){if(3===e.tag)wc(e,e,a);else for(;null!==t;){if(3===t.tag){wc(t,e,a);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Go||!Go.has(n))){t=zr(t,e=hi(t,e=oi(a,e),1),1),e=ec(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,a){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&a,Po===e&&(Do&a)===a&&(4===Fo||3===Fo&&(130023424&Do)===Do&&500>Qe()-Bo?mc(e,0):Mo|=a),nc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var a=ec();null!==(e=Fr(e,t))&&(vt(e,t,a),nc(e,a))}function _c(e){var t=e.memoizedState,a=0;null!==t&&(a=t.retryLane),Cc(e,a)}function Ec(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;null!==s&&(a=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(r(314))}null!==n&&n.delete(t),Cc(e,a)}function Pc(e,t){return $e(e,t)}function Tc(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,a,n){return new Tc(e,t,a,n)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var a=e.alternate;return null===a?((a=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=14680064&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Fc(e,t,a,n,s,l){var i=2;if(n=e,"function"===typeof e)Rc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return Lc(a.children,s,l,t);case k:i=8,s|=8;break;case S:return(e=Dc(12,a,t,2|s)).elementType=S,e.lanes=l,e;case P:return(e=Dc(13,a,t,s)).elementType=P,e.lanes=l,e;case T:return(e=Dc(19,a,t,s)).elementType=T,e.lanes=l,e;case O:return Ac(a,s,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case _:i=9;break e;case E:i=11;break e;case D:i=14;break e;case R:i=16,n=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Dc(i,a,t,s)).elementType=e,t.type=n,t.lanes=l,t}function Lc(e,t,a,n){return(e=Dc(7,e,n,t)).lanes=a,e}function Ac(e,t,a,n){return(e=Dc(22,e,n,t)).elementType=O,e.lanes=a,e.stateNode={isHidden:!1},e}function Ic(e,t,a){return(e=Dc(6,e,null,t)).lanes=a,e}function Mc(e,t,a){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,a,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uc(e,t,a,n,s,r,l,i,o){return e=new zc(e,t,a,i,o),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Dc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:n,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ar(r),e}function Bc(e){if(!e)return _s;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var a=e.type;if(Rs(a))return Ls(e,a,t)}return t}function Wc(e,t,a,n,s,r,l,i,o){return(e=Uc(a,n,!0,e,0,r,0,i,o)).context=Bc(null),a=e.current,(r=Mr(n=ec(),s=tc(a))).callback=void 0!==t&&null!==t?t:null,zr(a,r,s),e.current.lanes=s,vt(e,s,n),nc(e,n),e}function qc(e,t,a,n){var s=t.current,r=ec(),l=tc(s);return a=Bc(a),null===t.context?t.context=a:t.pendingContext=a,(t=Mr(r,l)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=zr(s,t,l))&&(ac(e,s,l,r),Ur(e,s,l)),l}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function Gc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}wo=function(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)bi=!0;else{if(0===(e.lanes&a)&&0===(128&t.flags))return bi=!1,function(e,t,a){switch(t.tag){case 3:Ei(t),hr();break;case 5:Qr(t);break;case 1:Rs(t.type)&&As(t);break;case 4:Yr(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Cs(Nr,n._currentValue),n._currentValue=s;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Cs(Zr,1&Zr.current),t.flags|=128,null):0!==(a&t.child.childLanes)?Ai(e,t,a):(Cs(Zr,1&Zr.current),null!==(e=qi(e,t,a))?e.sibling:null);Cs(Zr,1&Zr.current);break;case 19:if(n=0!==(a&t.childLanes),0!==(128&e.flags)){if(n)return Bi(e,t,a);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cs(Zr,Zr.current),n)break;return null;case 22:case 23:return t.lanes=0,wi(e,t,a)}return qi(e,t,a)}(e,t,a);bi=0!==(131072&e.flags)}else bi=!1,sr&&0!==(1048576&t.flags)&&Zs(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wi(e,t),e=t.pendingProps;var s=Ds(t,Es.current);Pr(t,a),s=pl(null,t,n,e,s,a);var l=xl();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(n)?(l=!0,As(t)):l=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Ar(t),s.updater=ni,t.stateNode=s,s._reactInternals=t,ii(t,n,e,a),t=_i(null,t,n,!0,l,a)):(t.tag=0,sr&&l&&er(t),gi(null,t,s,a),t=t.child),t;case 16:n=t.elementType;e:{switch(Wi(e,t),e=t.pendingProps,n=(s=n._init)(n._payload),t.type=n,s=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===D)return 14}return 2}(n),e=ti(n,e),s){case 0:t=Si(null,t,n,e,a);break e;case 1:t=Ci(null,t,n,e,a);break e;case 11:t=ji(null,t,n,e,a);break e;case 14:t=yi(null,t,n,ti(n.type,e),a);break e}throw Error(r(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,Si(e,t,n,s=t.elementType===n?s:ti(n,s),a);case 1:return n=t.type,s=t.pendingProps,Ci(e,t,n,s=t.elementType===n?s:ti(n,s),a);case 3:e:{if(Ei(t),null===e)throw Error(r(387));n=t.pendingProps,s=(l=t.memoizedState).element,Ir(e,t),Wr(t,n,null,a);var i=t.memoizedState;if(n=i.element,l.isDehydrated){if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Pi(e,t,n,a,s=oi(Error(r(423)),t));break e}if(n!==s){t=Pi(e,t,n,a,s=oi(Error(r(424)),t));break e}for(nr=cs(t.stateNode.containerInfo.firstChild),ar=t,sr=!0,rr=null,a=yr(t,null,n,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(hr(),n===s){t=qi(e,t,a);break e}gi(e,t,n,a)}t=t.child}return t;case 5:return Qr(t),null===e&&cr(t),n=t.type,s=t.pendingProps,l=null!==e?e.memoizedProps:null,i=s.children,as(n,s)?i=null:null!==l&&as(n,l)&&(t.flags|=32),ki(e,t),gi(e,t,i,a),t.child;case 6:return null===e&&cr(t),null;case 13:return Ai(e,t,a);case 4:return Yr(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=jr(t,null,n,a):gi(e,t,n,a),t.child;case 11:return n=t.type,s=t.pendingProps,ji(e,t,n,s=t.elementType===n?s:ti(n,s),a);case 7:return gi(e,t,t.pendingProps,a),t.child;case 8:case 12:return gi(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,l=t.memoizedProps,i=s.value,Cs(Nr,n._currentValue),n._currentValue=i,null!==l)if(ln(l.value,i)){if(l.children===s.children&&!Ps.current){t=qi(e,t,a);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===n){if(1===l.tag){(c=Mr(-1,a&-a)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=a,null!==(c=l.alternate)&&(c.lanes|=a),Er(l.return,a,t),o.lanes|=a;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(r(341));i.lanes|=a,null!==(o=i.alternate)&&(o.lanes|=a),Er(i,a,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}gi(e,t,s.children,a),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Pr(t,a),n=n(s=Tr(s)),t.flags|=1,gi(e,t,n,a),t.child;case 14:return s=ti(n=t.type,t.pendingProps),yi(e,t,n,s=ti(n.type,s),a);case 15:return Ni(e,t,t.type,t.pendingProps,a);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ti(n,s),Wi(e,t),t.tag=1,Rs(n)?(e=!0,As(t)):e=!1,Pr(t,a),ri(t,n,s),ii(t,n,s,a),_i(null,t,n,!0,e,a);case 19:return Bi(e,t,a);case 22:return wi(e,t,a)}throw Error(r(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,a,n,s){var r=a._reactRootContainer;if(r){var l=r;if("function"===typeof s){var i=s;s=function(){var e=Hc(l);i.call(e)}}qc(t,l,e,s)}else l=function(e,t,a,n,s){if(s){if("function"===typeof n){var r=n;n=function(){var e=Hc(l);r.call(e)}}var l=Wc(t,n,e,0,null,!1,0,"",Xc);return e._reactRootContainer=l,e[fs]=l.current,Wn(8===e.nodeType?e.parentNode:e),dc(),l}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof n){var i=n;n=function(){var e=Hc(o);i.call(e)}}var o=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=o,e[fs]=o.current,Wn(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,o,a,n)})),o}(a,t,e,s,n);return Hc(l)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));qc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[fs]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ot.length&&0!==t&&t<Ot[a].priority;a++);Ot.splice(a,0,e),0===a&&It(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=ut(t.pendingLanes);0!==a&&(bt(t,1|a),nc(t,Qe()),0===(6&Eo)&&(Wo=Qe()+500,Ws()))}break;case 13:dc((function(){var t=Fr(e,1);if(null!==t){var a=ec();ac(t,e,1,a)}})),Gc(e,1)}},Nt=function(e){if(13===e.tag){var t=Fr(e,134217728);if(null!==t)ac(t,e,134217728,ec());Gc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),a=Fr(e,t);if(null!==a)ac(a,e,t,ec());Gc(e,t)}},kt=function(){return gt},St=function(e,t){var a=gt;try{return gt=e,t()}finally{gt=a}},Ne=function(e,t,a){switch(t){case"input":if(X(e,a),t=a.name,"radio"===a.type&&null!=t){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var s=ys(n);if(!s)throw Error(r(90));$(n),X(n,s)}}}break;case"textarea":re(e,a);break;case"select":null!=(t=a.value)&&ae(e,!!a.multiple,t,!1)}},Ee=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[gs,js,ys,Ce,_e,cc]},td={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{st=nd.inject(ad),rt=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(r(200));return function(e,t,a){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==n?null:""+n,children:e,containerInfo:t,implementation:a}}(e,t,null,a)},t.createRoot=function(e,t){if(!Jc(e))throw Error(r(299));var a=!1,n="",s=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Uc(e,1,!1,null,0,a,0,n,s),e[fs]=t.current,Wn(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,a){if(!Qc(t))throw Error(r(200));return Zc(null,e,t,!0,a)},t.hydrateRoot=function(e,t,a){if(!Jc(e))throw Error(r(405));var n=null!=a&&a.hydratedSources||null,s=!1,l="",i=$c;if(null!==a&&void 0!==a&&(!0===a.unstable_strictMode&&(s=!0),void 0!==a.identifierPrefix&&(l=a.identifierPrefix),void 0!==a.onRecoverableError&&(i=a.onRecoverableError)),t=Wc(t,null,e,1,null!=a?a:null,s,0,l,i),e[fs]=t.current,Wn(e),n)for(e=0;e<n.length;e++)s=(s=(a=n[e])._getVersion)(a._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[a,s]:t.mutableSourceEagerHydrationData.push(a,s);return new Yc(t)},t.render=function(e,t,a){if(!Qc(t))throw Error(r(200));return Zc(null,e,t,!1,a)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(r(40));return!!e._reactRootContainer&&(dc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fs]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,a,n){if(!Qc(a))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Zc(e,t,a,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,a)=>{"use strict";var n=a(119);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},414:(e,t,a)=>{"use strict";e.exports=a(654)},488:(e,t,a)=>{"use strict";var n=a(959);function s(){}function r(){}r.resetWarningCache=s,e.exports=function(){function e(e,t,a,s,r,l){if(l!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:s};return a.PropTypes=a,a}},654:(e,t,a)=>{"use strict";var n=a(950),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var n,r={},c=null,d=null;for(n in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,n)&&!o.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===r[n]&&(r[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:d,props:r,_owner:i.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},738:(e,t)=>{var a;!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=l(e,r(a)))}return e}function r(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)n.call(e,a)&&e[a]&&(t=l(t,a));return t}function l(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0===(a=function(){return s}.apply(t,[]))||(e.exports=a)}()},761:(e,t)=>{"use strict";function a(e,t){var a=e.length;e.push(t);e:for(;0<a;){var n=a-1>>>1,s=e[n];if(!(0<r(s,t)))break e;e[n]=t,e[a]=s,a=n}}function n(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var n=0,s=e.length,l=s>>>1;n<l;){var i=2*(n+1)-1,o=e[i],c=i+1,d=e[c];if(0>r(o,a))c<s&&0>r(d,o)?(e[n]=d,e[c]=a,n=c):(e[n]=o,e[i]=a,n=i);else{if(!(c<s&&0>r(d,a)))break e;e[n]=d,e[c]=a,n=c}}}return t}function r(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,h=3,f=!1,p=!1,x=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,g="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=n(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,a(c,t)}t=n(d)}}function y(e){if(x=!1,j(e),!p)if(null!==n(c))p=!0,O(N);else{var t=n(d);null!==t&&F(y,t.startTime-e)}}function N(e,a){p=!1,x&&(x=!1,b(C),C=-1),f=!0;var r=h;try{for(j(a),m=n(c);null!==m&&(!(m.expirationTime>a)||e&&!P());){var l=m.callback;if("function"===typeof l){m.callback=null,h=m.priorityLevel;var i=l(m.expirationTime<=a);a=t.unstable_now(),"function"===typeof i?m.callback=i:m===n(c)&&s(c),j(a)}else s(c);m=n(c)}if(null!==m)var o=!0;else{var u=n(d);null!==u&&F(y,u.startTime-a),o=!1}return o}finally{m=null,h=r,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,C=-1,_=5,E=-1;function P(){return!(t.unstable_now()-E<_)}function T(){if(null!==S){var e=t.unstable_now();E=e;var a=!0;try{a=S(!0,e)}finally{a?w():(k=!1,S=null)}}else k=!1}if("function"===typeof g)w=function(){g(T)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=T,w=function(){R.postMessage(null)}}else w=function(){v(T,0)};function O(e){S=e,k||(k=!0,w())}function F(e,a){C=v((function(){e(t.unstable_now())}),a)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,O(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var a=h;h=t;try{return e()}finally{h=a}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=h;h=e;try{return t()}finally{h=a}},t.unstable_scheduleCallback=function(e,s,r){var l=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?l+r:l:r=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:r,expirationTime:i=r+i,sortIndex:-1},r>l?(e.sortIndex=r,a(d,e),null===n(c)&&e===n(d)&&(x?(b(C),C=-1):x=!0,F(y,r-l))):(e.sortIndex=i,a(c,e),p||f||(p=!0,O(N))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var a=h;h=t;try{return e.apply(this,arguments)}finally{h=a}}}},942:(e,t,a)=>{e.exports=a(488)()},949:e=>{"use strict";e.exports=function(e,t,a,n,s,r,l,i){if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[a,n,s,r,l,i],d=0;(o=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},950:(e,t,a)=>{"use strict";e.exports=a(49)},959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,a),r.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(n,s){if(1&s&&(n=this(n)),8&s)return n;if("object"===typeof n&&n){if(4&s&&n.__esModule)return n;if(16&s&&"function"===typeof n.then)return n}var r=Object.create(null);a.r(r);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&s&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>l[e]=()=>n[e]));return l.default=()=>n,a.d(r,l),r}})(),a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};a.r(e),a.d(e,{hasBrowserEnv:()=>Wt,hasStandardBrowserEnv:()=>Ht,hasStandardBrowserWebWorkerEnv:()=>Vt,navigator:()=>qt,origin:()=>Gt});var t,n=a(950),s=a.t(n,2),r=a(352),l=a(119),i=a.t(l,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(a){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,a,n){return void 0===a&&(a=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:a,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:a="",hash:n=""}=e;return a&&"?"!==a&&(t+="?"===a.charAt(0)?a:"?"+a),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function p(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function x(e,a,n,s){void 0===s&&(s={});let{window:r=document.defaultView,v5Compat:l=!1}=s,i=r.history,u=t.Pop,p=null,x=v();function v(){return(i.state||{idx:null}).idx}function b(){u=t.Pop;let e=v(),a=null==e?null:e-x;x=e,p&&p({action:u,location:j.location,delta:a})}function g(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,a="string"===typeof e?e:f(e);return a=a.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+a),new URL(a,t)}null==x&&(x=0,i.replaceState(o({},i.state,{idx:x}),""));let j={get action(){return u},get location(){return e(r,i)},listen(e){if(p)throw new Error("A history only accepts one active listener");return r.addEventListener(c,b),p=e,()=>{r.removeEventListener(c,b),p=null}},createHref:e=>a(r,e),createURL:g,encodeLocation(e){let t=g(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,a){u=t.Push;let s=h(j.location,e,a);n&&n(s,e),x=v()+1;let o=m(s,x),c=j.createHref(s);try{i.pushState(o,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;r.location.assign(c)}l&&p&&p({action:u,location:j.location,delta:1})},replace:function(e,a){u=t.Replace;let s=h(j.location,e,a);n&&n(s,e),x=v();let r=m(s,x),o=j.createHref(s);i.replaceState(r,"",o),l&&p&&p({action:u,location:j.location,delta:0})},go:e=>i.go(e)};return j}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,a){return void 0===a&&(a="/"),g(e,t,a,!1)}function g(e,t,a,n){let s=O(("string"===typeof t?p(t):t).pathname||"/",a);if(null==s)return null;let r=j(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let a=e.length===t.length&&e.slice(0,-1).every(((e,a)=>e===t[a]));return a?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let l=null;for(let i=0;null==l&&i<r.length;++i){let e=R(s);l=T(r[i],e,n)}return l}function j(e,t,a,n){void 0===t&&(t=[]),void 0===a&&(a=[]),void 0===n&&(n="");let s=(e,s,r)=>{let l={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};l.relativePath.startsWith("/")&&(d(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(n.length));let i=M([n,l.relativePath]),o=a.concat(l);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),j(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:P(i,e.index),routesMeta:o})};return e.forEach(((e,t)=>{var a;if(""!==e.path&&null!=(a=e.path)&&a.includes("?"))for(let n of y(e.path))s(e,t,n);else s(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[a,...n]=t,s=a.endsWith("?"),r=a.replace(/\?$/,"");if(0===n.length)return s?[r,""]:[r];let l=y(n.join("/")),i=[];return i.push(...l.map((e=>""===e?r:[r,e].join("/")))),s&&i.push(...l),i.map((t=>e.startsWith("/")&&""===t?"/":t))}const N=/^:[\w-]+$/,w=3,k=2,S=1,C=10,_=-2,E=e=>"*"===e;function P(e,t){let a=e.split("/"),n=a.length;return a.some(E)&&(n+=_),t&&(n+=k),a.filter((e=>!E(e))).reduce(((e,t)=>e+(N.test(t)?w:""===t?S:C)),n)}function T(e,t,a){void 0===a&&(a=!1);let{routesMeta:n}=e,s={},r="/",l=[];for(let i=0;i<n.length;++i){let e=n[i],o=i===n.length-1,c="/"===r?t:t.slice(r.length)||"/",d=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&a&&!n[n.length-1].route.index&&(d=D({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),l.push({params:s,pathname:M([r,d.pathname]),pathnameBase:z(M([r,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(r=M([r,d.pathnameBase]))}return l}function D(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[a,n]=function(e,t,a){void 0===t&&(t=!1);void 0===a&&(a=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,a)=>(n.push({paramName:t,isOptional:null!=a}),a?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let r=new RegExp(s,t?void 0:"i");return[r,n]}(e.path,e.caseSensitive,e.end),s=t.match(a);if(!s)return null;let r=s[0],l=r.replace(/(.)\/+$/,"$1"),i=s.slice(1);return{params:n.reduce(((e,t,a)=>{let{paramName:n,isOptional:s}=t;if("*"===n){let e=i[a]||"";l=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[a];return e[n]=s&&!o?void 0:(o||"").replace(/%2F/g,"/"),e}),{}),pathname:r,pathnameBase:l,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,n=e.charAt(a);return n&&"/"!==n?null:e.slice(a)||"/"}function F(e,t,a,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+a+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function A(e,t){let a=L(e);return t?a.map(((e,t)=>t===a.length-1?e.pathname:e.pathnameBase)):a.map((e=>e.pathnameBase))}function I(e,t,a,n){let s;void 0===n&&(n=!1),"string"===typeof e?s=p(e):(s=o({},e),d(!s.pathname||!s.pathname.includes("?"),F("?","pathname","search",s)),d(!s.pathname||!s.pathname.includes("#"),F("#","pathname","hash",s)),d(!s.search||!s.search.includes("#"),F("#","search","hash",s)));let r,l=""===e||""===s.pathname,i=l?"/":s.pathname;if(null==i)r=a;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}r=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:a,search:n="",hash:s=""}="string"===typeof e?p(e):e,r=a?a.startsWith("/")?a:function(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?a.length>1&&a.pop():"."!==e&&a.push(e)})),a.length>1?a.join("/"):"/"}(a,t):t;return{pathname:r,search:U(n),hash:B(s)}}(s,r),u=i&&"/"!==i&&i.endsWith("/"),m=(l||"."===i)&&a.endsWith("/");return c.pathname.endsWith("/")||!u&&!m||(c.pathname+="/"),c}const M=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],H=(new Set(q),["get",...q]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},V.apply(this,arguments)}const G=n.createContext(null);const $=n.createContext(null);const K=n.createContext(null);const Y=n.createContext(null);const J=n.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=n.createContext(null);function X(){return null!=n.useContext(Y)}function Z(){return X()||d(!1),n.useContext(Y).location}function ee(e){n.useContext(K).static||n.useLayoutEffect(e)}function te(){let{isDataRoute:e}=n.useContext(J);return e?function(){let{router:e}=ue(ce.UseNavigateStable),t=he(de.UseNavigateStable),a=n.useRef(!1);ee((()=>{a.current=!0}));let s=n.useCallback((function(n,s){void 0===s&&(s={}),a.current&&("number"===typeof n?e.navigate(n):e.navigate(n,V({fromRouteId:t},s)))}),[e,t]);return s}():function(){X()||d(!1);let e=n.useContext(G),{basename:t,future:a,navigator:s}=n.useContext(K),{matches:r}=n.useContext(J),{pathname:l}=Z(),i=JSON.stringify(A(r,a.v7_relativeSplatPath)),o=n.useRef(!1);ee((()=>{o.current=!0}));let c=n.useCallback((function(a,n){if(void 0===n&&(n={}),!o.current)return;if("number"===typeof a)return void s.go(a);let r=I(a,JSON.parse(i),l,"path"===n.relative);null==e&&"/"!==t&&(r.pathname="/"===r.pathname?t:M([t,r.pathname])),(n.replace?s.replace:s.push)(r,n.state,n)}),[t,s,i,l,e]);return c}()}function ae(e,t){let{relative:a}=void 0===t?{}:t,{future:s}=n.useContext(K),{matches:r}=n.useContext(J),{pathname:l}=Z(),i=JSON.stringify(A(r,s.v7_relativeSplatPath));return n.useMemo((()=>I(e,JSON.parse(i),l,"path"===a)),[e,i,l,a])}function ne(e,a,s,r){X()||d(!1);let{navigator:l}=n.useContext(K),{matches:i}=n.useContext(J),o=i[i.length-1],c=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let m,h=Z();if(a){var f;let e="string"===typeof a?p(a):a;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||d(!1),m=e}else m=h;let x=m.pathname||"/",v=x;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=b(e,{pathname:v});let j=oe(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([u,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:M([u,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,s,r);return a&&j?n.createElement(Y.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:t.Pop}},j):j}function se(){let e=function(){var e;let t=n.useContext(Q),a=me(de.UseRouteError),s=he(de.UseRouteError);if(void 0!==t)return t;return null==(e=a.errors)?void 0:e[s]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),a?n.createElement("pre",{style:r},a):null,null)}const re=n.createElement(se,null);class le extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(J.Provider,{value:this.props.routeContext},n.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:a,children:s}=e,r=n.useContext(G);return r&&r.static&&r.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=a.route.id),n.createElement(J.Provider,{value:t},s)}function oe(e,t,a,s){var r;if(void 0===t&&(t=[]),void 0===a&&(a=null),void 0===s&&(s=null),null==e){var l;if(!a)return null;if(a.errors)e=a.matches;else{if(!(null!=(l=s)&&l.v7_partialHydration&&0===t.length&&!a.initialized&&a.matches.length>0))return null;e=a.matches}}let i=e,o=null==(r=a)?void 0:r.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id])));e>=0||d(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,u=-1;if(a&&s&&s.v7_partialHydration)for(let n=0;n<i.length;n++){let e=i[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=n),e.route.id){let{loaderData:t,errors:n}=a,s=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){c=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight(((e,s,r)=>{let l,d=!1,m=null,h=null;var f;a&&(l=o&&s.route.id?o[s.route.id]:void 0,m=s.route.errorElement||re,c&&(u<0&&0===r?(f="route-fallback",!1||fe[f]||(fe[f]=!0),d=!0,h=null):u===r&&(d=!0,h=s.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,r+1)),x=()=>{let t;return t=l?m:d?h:s.route.Component?n.createElement(s.route.Component,null):s.route.element?s.route.element:e,n.createElement(ie,{match:s,routeContext:{outlet:e,matches:p,isDataRoute:null!=a},children:t})};return a&&(s.route.ErrorBoundary||s.route.errorElement||0===r)?n.createElement(le,{location:a.location,revalidation:a.revalidation,component:m,error:l,children:x(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):x()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ue(e){let t=n.useContext(G);return t||d(!1),t}function me(e){let t=n.useContext($);return t||d(!1),t}function he(e){let t=function(){let e=n.useContext(J);return e||d(!1),e}(),a=t.matches[t.matches.length-1];return a.route.id||d(!1),a.route.id}const fe={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function xe(e){let{to:t,replace:a,state:s,relative:r}=e;X()||d(!1);let{future:l,static:i}=n.useContext(K),{matches:o}=n.useContext(J),{pathname:c}=Z(),u=te(),m=I(t,A(o,l.v7_relativeSplatPath),c,"path"===r),h=JSON.stringify(m);return n.useEffect((()=>u(JSON.parse(h),{replace:a,state:s,relative:r})),[u,h,r,a,s]),null}function ve(e){d(!1)}function be(e){let{basename:a="/",children:s=null,location:r,navigationType:l=t.Pop,navigator:i,static:o=!1,future:c}=e;X()&&d(!1);let u=a.replace(/^\/*/,"/"),m=n.useMemo((()=>({basename:u,navigator:i,static:o,future:V({v7_relativeSplatPath:!1},c)})),[u,c,i,o]);"string"===typeof r&&(r=p(r));let{pathname:h="/",search:f="",hash:x="",state:v=null,key:b="default"}=r,g=n.useMemo((()=>{let e=O(h,u);return null==e?null:{location:{pathname:e,search:f,hash:x,state:v,key:b},navigationType:l}}),[u,h,f,x,v,b,l]);return null==g?null:n.createElement(K.Provider,{value:m},n.createElement(Y.Provider,{children:s,value:g}))}function ge(e){let{children:t,location:a}=e;return ne(je(t),a)}new Promise((()=>{}));n.Component;function je(e,t){void 0===t&&(t=[]);let a=[];return n.Children.forEach(e,((e,s)=>{if(!n.isValidElement(e))return;let r=[...t,s];if(e.type===n.Fragment)return void a.push.apply(a,je(e.props.children,r));e.type!==ve&&d(!1),e.props.index&&e.props.children&&d(!1);let l={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=je(e.props.children,r)),a.push(l)})),a}function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ye.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Iu){}new Map;const ke=s.startTransition;i.flushSync,s.useId;function Se(e){let{basename:t,children:a,future:s,window:r}=e,l=n.useRef();null==l.current&&(l.current=function(e){return void 0===e&&(e={}),x((function(e,t){let{pathname:a,search:n,hash:s}=e.location;return h("",{pathname:a,search:n,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,e)}({window:r,v5Compat:!0}));let i=l.current,[o,c]=n.useState({action:i.action,location:i.location}),{v7_startTransition:d}=s||{},u=n.useCallback((e=>{d&&ke?ke((()=>c(e))):c(e)}),[c,d]);return n.useLayoutEffect((()=>i.listen(u)),[i,u]),n.useEffect((()=>pe(s)),[s]),n.createElement(be,{basename:t,children:a,location:o.location,navigationType:o.action,navigator:i,future:s})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,_e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=n.forwardRef((function(e,t){let a,{onClick:s,relative:r,reloadDocument:l,replace:i,state:o,target:c,to:u,preventScrollReset:m,viewTransition:h}=e,p=Ne(e,we),{basename:x}=n.useContext(K),v=!1;if("string"===typeof u&&_e.test(u)&&(a=u,Ce))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),a=O(t.pathname,x);t.origin===e.origin&&null!=a?u=a+t.search+t.hash:v=!0}catch(Iu){}let b=function(e,t){let{relative:a}=void 0===t?{}:t;X()||d(!1);let{basename:s,navigator:r}=n.useContext(K),{hash:l,pathname:i,search:o}=ae(e,{relative:a}),c=i;return"/"!==s&&(c="/"===i?s:M([s,i])),r.createHref({pathname:c,search:o,hash:l})}(u,{relative:r}),g=function(e,t){let{target:a,replace:s,state:r,preventScrollReset:l,relative:i,viewTransition:o}=void 0===t?{}:t,c=te(),d=Z(),u=ae(e,{relative:i});return n.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,a)){t.preventDefault();let a=void 0!==s?s:f(d)===f(u);c(e,{replace:a,state:r,preventScrollReset:l,relative:i,viewTransition:o})}}),[d,c,u,s,r,a,e,l,i,o])}(u,{replace:i,state:o,target:c,preventScrollReset:m,relative:r,viewTransition:h});return n.createElement("a",ye({},p,{href:a||b,onClick:v||l?s:function(e){s&&s(e),e.defaultPrevented||g(e)},ref:t,target:c}))}));var Pe,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));function De(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;a[n]=e[n]}return a}function Re(e,t){if(null==e)return{};var a,n,s=De(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],-1===t.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Fe(e){var t=function(e,t){if("object"!=Oe(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=Oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Oe(t)?t:t+""}function Le(e,t,a){return(t=Fe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(a),!0).forEach((function(t){Le(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Me(e,t){return function(){return e.apply(t,arguments)}}const{toString:ze}=Object.prototype,{getPrototypeOf:Ue}=Object,{iterator:Be,toStringTag:We}=Symbol,qe=(He=Object.create(null),e=>{const t=ze.call(e);return He[t]||(He[t]=t.slice(8,-1).toLowerCase())});var He;const Ve=e=>(e=e.toLowerCase(),t=>qe(t)===e),Ge=e=>t=>typeof t===e,{isArray:$e}=Array,Ke=Ge("undefined");const Ye=Ve("ArrayBuffer");const Je=Ge("string"),Qe=Ge("function"),Xe=Ge("number"),Ze=e=>null!==e&&"object"===typeof e,et=e=>{if("object"!==qe(e))return!1;const t=Ue(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(We in e)&&!(Be in e)},tt=Ve("Date"),at=Ve("File"),nt=Ve("Blob"),st=Ve("FileList"),rt=Ve("URLSearchParams"),[lt,it,ot,ct]=["ReadableStream","Request","Response","Headers"].map(Ve);function dt(e,t){let a,n,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),$e(e))for(a=0,n=e.length;a<n;a++)t.call(null,e[a],a,e);else{const n=s?Object.getOwnPropertyNames(e):Object.keys(e),r=n.length;let l;for(a=0;a<r;a++)l=n[a],t.call(null,e[l],l,e)}}function ut(e,t){t=t.toLowerCase();const a=Object.keys(e);let n,s=a.length;for(;s-- >0;)if(n=a[s],t===n.toLowerCase())return n;return null}const mt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ht=e=>!Ke(e)&&e!==mt;const ft=(pt="undefined"!==typeof Uint8Array&&Ue(Uint8Array),e=>pt&&e instanceof pt);var pt;const xt=Ve("HTMLFormElement"),vt=(e=>{let{hasOwnProperty:t}=e;return(e,a)=>t.call(e,a)})(Object.prototype),bt=Ve("RegExp"),gt=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),n={};dt(a,((a,s)=>{let r;!1!==(r=t(a,s,e))&&(n[s]=r||a)})),Object.defineProperties(e,n)};const jt=Ve("AsyncFunction"),yt=((e,t)=>{return e?setImmediate:t?(a="axios@".concat(Math.random()),n=[],mt.addEventListener("message",(e=>{let{source:t,data:s}=e;t===mt&&s===a&&n.length&&n.shift()()}),!1),e=>{n.push(e),mt.postMessage(a,"*")}):e=>setTimeout(e);var a,n})("function"===typeof setImmediate,Qe(mt.postMessage)),Nt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(mt):"undefined"!==typeof process&&process.nextTick||yt,wt={isArray:$e,isArrayBuffer:Ye,isBuffer:function(e){return null!==e&&!Ke(e)&&null!==e.constructor&&!Ke(e.constructor)&&Qe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Qe(e.append)&&("formdata"===(t=qe(e))||"object"===t&&Qe(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ye(e.buffer),t},isString:Je,isNumber:Xe,isBoolean:e=>!0===e||!1===e,isObject:Ze,isPlainObject:et,isReadableStream:lt,isRequest:it,isResponse:ot,isHeaders:ct,isUndefined:Ke,isDate:tt,isFile:at,isBlob:nt,isRegExp:bt,isFunction:Qe,isStream:e=>Ze(e)&&Qe(e.pipe),isURLSearchParams:rt,isTypedArray:ft,isFileList:st,forEach:dt,merge:function e(){const{caseless:t}=ht(this)&&this||{},a={},n=(n,s)=>{const r=t&&ut(a,s)||s;et(a[r])&&et(n)?a[r]=e(a[r],n):et(n)?a[r]=e({},n):$e(n)?a[r]=n.slice():a[r]=n};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&dt(arguments[s],n);return a},extend:function(e,t,a){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return dt(t,((t,n)=>{a&&Qe(t)?e[n]=Me(t,a):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,n)=>{let s,r,l;const i={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),r=s.length;r-- >0;)l=s[r],n&&!n(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==a&&Ue(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:qe,kindOfTest:Ve,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const n=e.indexOf(t,a);return-1!==n&&n===a},toArray:e=>{if(!e)return null;if($e(e))return e;let t=e.length;if(!Xe(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[Be]).call(e);let n;for(;(n=a.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const n=[];for(;null!==(a=e.exec(t));)n.push(a);return n},isHTMLForm:xt,hasOwnProperty:vt,hasOwnProp:vt,reduceDescriptors:gt,freezeMethods:e=>{gt(e,((t,a)=>{if(Qe(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const n=e[a];Qe(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))}))},toObjectSet:(e,t)=>{const a={},n=e=>{e.forEach((e=>{a[e]=!0}))};return $e(e)?n(e):n(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,a){return t.toUpperCase()+a})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ut,global:mt,isContextDefined:ht,isSpecCompliantForm:function(e){return!!(e&&Qe(e.append)&&"FormData"===e[We]&&e[Be])},toJSONObject:e=>{const t=new Array(10),a=(e,n)=>{if(Ze(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const s=$e(e)?[]:{};return dt(e,((e,t)=>{const r=a(e,n+1);!Ke(r)&&(s[t]=r)})),t[n]=void 0,s}}return e};return a(e,0)},isAsyncFn:jt,isThenable:e=>e&&(Ze(e)||Qe(e))&&Qe(e.then)&&Qe(e.catch),setImmediate:yt,asap:Nt,isIterable:e=>null!=e&&Qe(e[Be])};function kt(e,t,a,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}wt.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wt.toJSONObject(this.config),code:this.code,status:this.status}}});const St=kt.prototype,Ct={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Ct[e]={value:e}})),Object.defineProperties(kt,Ct),Object.defineProperty(St,"isAxiosError",{value:!0}),kt.from=(e,t,a,n,s,r)=>{const l=Object.create(St);return wt.toFlatObject(e,l,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),kt.call(l,e.message,t,a,n,s),l.cause=e,l.name=e.name,r&&Object.assign(l,r),l};const _t=kt;function Et(e){return wt.isPlainObject(e)||wt.isArray(e)}function Pt(e){return wt.endsWith(e,"[]")?e.slice(0,-2):e}function Tt(e,t,a){return e?e.concat(t).map((function(e,t){return e=Pt(e),!a&&t?"["+e+"]":e})).join(a?".":""):t}const Dt=wt.toFlatObject(wt,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Rt=function(e,t,a){if(!wt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(a=wt.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!wt.isUndefined(t[e])}))).metaTokens,s=a.visitor||c,r=a.dots,l=a.indexes,i=(a.Blob||"undefined"!==typeof Blob&&Blob)&&wt.isSpecCompliantForm(t);if(!wt.isFunction(s))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(wt.isDate(e))return e.toISOString();if(!i&&wt.isBlob(e))throw new _t("Blob is not supported. Use a Buffer instead.");return wt.isArrayBuffer(e)||wt.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,a,s){let i=e;if(e&&!s&&"object"===typeof e)if(wt.endsWith(a,"{}"))a=n?a:a.slice(0,-2),e=JSON.stringify(e);else if(wt.isArray(e)&&function(e){return wt.isArray(e)&&!e.some(Et)}(e)||(wt.isFileList(e)||wt.endsWith(a,"[]"))&&(i=wt.toArray(e)))return a=Pt(a),i.forEach((function(e,n){!wt.isUndefined(e)&&null!==e&&t.append(!0===l?Tt([a],n,r):null===l?a:a+"[]",o(e))})),!1;return!!Et(e)||(t.append(Tt(s,a,r),o(e)),!1)}const d=[],u=Object.assign(Dt,{defaultVisitor:c,convertValue:o,isVisitable:Et});if(!wt.isObject(e))throw new TypeError("data must be an object");return function e(a,n){if(!wt.isUndefined(a)){if(-1!==d.indexOf(a))throw Error("Circular reference detected in "+n.join("."));d.push(a),wt.forEach(a,(function(a,r){!0===(!(wt.isUndefined(a)||null===a)&&s.call(t,a,wt.isString(r)?r.trim():r,n,u))&&e(a,n?n.concat(r):[r])})),d.pop()}}(e),t};function Ot(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ft(e,t){this._pairs=[],e&&Rt(e,this,t)}const Lt=Ft.prototype;Lt.append=function(e,t){this._pairs.push([e,t])},Lt.toString=function(e){const t=e?function(t){return e.call(this,t,Ot)}:Ot;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const At=Ft;function It(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mt(e,t,a){if(!t)return e;const n=a&&a.encode||It;wt.isFunction(a)&&(a={serialize:a});const s=a&&a.serialize;let r;if(r=s?s(t,a):wt.isURLSearchParams(t)?t.toString():new At(t,a).toString(n),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}const zt=class{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){wt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Ut={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:At,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Wt="undefined"!==typeof window&&"undefined"!==typeof document,qt="object"===typeof navigator&&navigator||void 0,Ht=Wt&&(!qt||["ReactNative","NativeScript","NS"].indexOf(qt.product)<0),Vt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Gt=Wt&&window.location.href||"http://localhost",$t=Ie(Ie({},e),Bt);const Kt=function(e){function t(e,a,n,s){let r=e[s++];if("__proto__"===r)return!0;const l=Number.isFinite(+r),i=s>=e.length;if(r=!r&&wt.isArray(n)?n.length:r,i)return wt.hasOwnProp(n,r)?n[r]=[n[r],a]:n[r]=a,!l;n[r]&&wt.isObject(n[r])||(n[r]=[]);return t(e,a,n[r],s)&&wt.isArray(n[r])&&(n[r]=function(e){const t={},a=Object.keys(e);let n;const s=a.length;let r;for(n=0;n<s;n++)r=a[n],t[r]=e[r];return t}(n[r])),!l}if(wt.isFormData(e)&&wt.isFunction(e.entries)){const a={};return wt.forEachEntry(e,((e,n)=>{t(function(e){return wt.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,a,0)})),a}return null};const Yt={transitional:Ut,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",n=a.indexOf("application/json")>-1,s=wt.isObject(e);s&&wt.isHTMLForm(e)&&(e=new FormData(e));if(wt.isFormData(e))return n?JSON.stringify(Kt(e)):e;if(wt.isArrayBuffer(e)||wt.isBuffer(e)||wt.isStream(e)||wt.isFile(e)||wt.isBlob(e)||wt.isReadableStream(e))return e;if(wt.isArrayBufferView(e))return e.buffer;if(wt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(s){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Rt(e,new $t.classes.URLSearchParams,Object.assign({visitor:function(e,t,a,n){return $t.isNode&&wt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=wt.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Rt(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||n?(t.setContentType("application/json",!1),function(e,t,a){if(wt.isString(e))try{return(t||JSON.parse)(e),wt.trim(e)}catch(Iu){if("SyntaxError"!==Iu.name)throw Iu}return(a||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Yt.transitional,a=t&&t.forcedJSONParsing,n="json"===this.responseType;if(wt.isResponse(e)||wt.isReadableStream(e))return e;if(e&&wt.isString(e)&&(a&&!this.responseType||n)){const a=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(Iu){if(a){if("SyntaxError"===Iu.name)throw _t.from(Iu,_t.ERR_BAD_RESPONSE,this,null,this.response);throw Iu}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};wt.forEach(["delete","get","head","post","put","patch"],(e=>{Yt.headers[e]={}}));const Jt=Yt,Qt=wt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xt=Symbol("internals");function Zt(e){return e&&String(e).trim().toLowerCase()}function ea(e){return!1===e||null==e?e:wt.isArray(e)?e.map(ea):String(e)}function ta(e,t,a,n,s){return wt.isFunction(n)?n.call(this,t,a):(s&&(t=a),wt.isString(t)?wt.isString(n)?-1!==t.indexOf(n):wt.isRegExp(n)?n.test(t):void 0:void 0)}class aa{constructor(e){e&&this.set(e)}set(e,t,a){const n=this;function s(e,t,a){const s=Zt(t);if(!s)throw new Error("header name must be a non-empty string");const r=wt.findKey(n,s);(!r||void 0===n[r]||!0===a||void 0===a&&!1!==n[r])&&(n[r||t]=ea(e))}const r=(e,t)=>wt.forEach(e,((e,a)=>s(e,a,t)));if(wt.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(wt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let a,n,s;return e&&e.split("\n").forEach((function(e){s=e.indexOf(":"),a=e.substring(0,s).trim().toLowerCase(),n=e.substring(s+1).trim(),!a||t[a]&&Qt[a]||("set-cookie"===a?t[a]?t[a].push(n):t[a]=[n]:t[a]=t[a]?t[a]+", "+n:n)})),t})(e),t);else if(wt.isObject(e)&&wt.isIterable(e)){let a,n,s={};for(const t of e){if(!wt.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[n=t[0]]=(a=s[n])?wt.isArray(a)?[...a,t[1]]:[a,t[1]]:t[1]}r(s,t)}else null!=e&&s(t,e,a);return this}get(e,t){if(e=Zt(e)){const a=wt.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)t[n[1]]=n[2];return t}(e);if(wt.isFunction(t))return t.call(this,e,a);if(wt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Zt(e)){const a=wt.findKey(this,e);return!(!a||void 0===this[a]||t&&!ta(0,this[a],a,t))}return!1}delete(e,t){const a=this;let n=!1;function s(e){if(e=Zt(e)){const s=wt.findKey(a,e);!s||t&&!ta(0,a[s],s,t)||(delete a[s],n=!0)}}return wt.isArray(e)?e.forEach(s):s(e),n}clear(e){const t=Object.keys(this);let a=t.length,n=!1;for(;a--;){const s=t[a];e&&!ta(0,this[s],s,e,!0)||(delete this[s],n=!0)}return n}normalize(e){const t=this,a={};return wt.forEach(this,((n,s)=>{const r=wt.findKey(a,s);if(r)return t[r]=ea(n),void delete t[s];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,a)=>t.toUpperCase()+a))}(s):String(s).trim();l!==s&&delete t[s],t[l]=ea(n),a[l]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return wt.forEach(this,((a,n)=>{null!=a&&!1!==a&&(t[n]=e&&wt.isArray(a)?a.join(", "):a)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,a]=e;return t+": "+a})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var a=arguments.length,n=new Array(a>1?a-1:0),s=1;s<a;s++)n[s-1]=arguments[s];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Xt]=this[Xt]={accessors:{}}).accessors,a=this.prototype;function n(e){const n=Zt(e);t[n]||(!function(e,t){const a=wt.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+a,{value:function(e,a,s){return this[n].call(this,t,e,a,s)},configurable:!0})}))}(a,e),t[n]=!0)}return wt.isArray(e)?e.forEach(n):n(e),this}}aa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),wt.reduceDescriptors(aa.prototype,((e,t)=>{let{value:a}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>a,set(e){this[n]=e}}})),wt.freezeMethods(aa);const na=aa;function sa(e,t){const a=this||Jt,n=t||a,s=na.from(n.headers);let r=n.data;return wt.forEach(e,(function(e){r=e.call(a,r,s.normalize(),t?t.status:void 0)})),s.normalize(),r}function ra(e){return!(!e||!e.__CANCEL__)}function la(e,t,a){_t.call(this,null==e?"canceled":e,_t.ERR_CANCELED,t,a),this.name="CanceledError"}wt.inherits(la,_t,{__CANCEL__:!0});const ia=la;function oa(e,t,a){const n=a.config.validateStatus;a.status&&n&&!n(a.status)?t(new _t("Request failed with status code "+a.status,[_t.ERR_BAD_REQUEST,_t.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}const ca=function(e,t){e=e||10;const a=new Array(e),n=new Array(e);let s,r=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=n[l];s||(s=o),a[r]=i,n[r]=o;let d=l,u=0;for(;d!==r;)u+=a[d++],d%=e;if(r=(r+1)%e,r===l&&(l=(l+1)%e),o-s<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const da=function(e,t){let a,n,s=0,r=1e3/t;const l=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=r,a=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-s;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=r?l(o,e):(a=o,n||(n=setTimeout((()=>{n=null,l(a)}),r-t)))},()=>a&&l(a)]},ua=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const s=ca(50,250);return da((a=>{const r=a.loaded,l=a.lengthComputable?a.total:void 0,i=r-n,o=s(i);n=r;e({loaded:r,total:l,progress:l?r/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&r<=l?(l-r)/o:void 0,event:a,lengthComputable:null!=l,[t?"download":"upload"]:!0})}),a)},ma=(e,t)=>{const a=null!=e;return[n=>t[0]({lengthComputable:a,total:e,loaded:n}),t[1]]},ha=e=>function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return wt.asap((()=>e(...a)))},fa=$t.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,$t.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL($t.origin),$t.navigator&&/(msie|trident)/i.test($t.navigator.userAgent)):()=>!0,pa=$t.hasStandardBrowserEnv?{write(e,t,a,n,s,r){const l=[e+"="+encodeURIComponent(t)];wt.isNumber(a)&&l.push("expires="+new Date(a).toGMTString()),wt.isString(n)&&l.push("path="+n),wt.isString(s)&&l.push("domain="+s),!0===r&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function xa(e,t,a){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==a)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const va=e=>e instanceof na?Ie({},e):e;function ba(e,t){t=t||{};const a={};function n(e,t,a,n){return wt.isPlainObject(e)&&wt.isPlainObject(t)?wt.merge.call({caseless:n},e,t):wt.isPlainObject(t)?wt.merge({},t):wt.isArray(t)?t.slice():t}function s(e,t,a,s){return wt.isUndefined(t)?wt.isUndefined(e)?void 0:n(void 0,e,0,s):n(e,t,0,s)}function r(e,t){if(!wt.isUndefined(t))return n(void 0,t)}function l(e,t){return wt.isUndefined(t)?wt.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function i(a,s,r){return r in t?n(a,s):r in e?n(void 0,a):void 0}const o={url:r,method:r,data:r,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,a)=>s(va(e),va(t),0,!0)};return wt.forEach(Object.keys(Object.assign({},e,t)),(function(n){const r=o[n]||s,l=r(e[n],t[n],n);wt.isUndefined(l)&&r!==i||(a[n]=l)})),a}const ga=e=>{const t=ba({},e);let a,{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=na.from(i),t.url=Mt(xa(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),wt.isFormData(n))if($t.hasStandardBrowserEnv||$t.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(a=i.getContentType())){const[e,...t]=a?a.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if($t.hasStandardBrowserEnv&&(s&&wt.isFunction(s)&&(s=s(t)),s||!1!==s&&fa(t.url))){const e=r&&l&&pa.read(l);e&&i.set(r,e)}return t},ja="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,a){const n=ga(e);let s=n.data;const r=na.from(n.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:h}=n;function f(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let p=new XMLHttpRequest;function x(){if(!p)return;const n=na.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());oa((function(e){t(e),f()}),(function(e){a(e),f()}),{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p}),p=null}p.open(n.method.toUpperCase(),n.url,!0),p.timeout=n.timeout,"onloadend"in p?p.onloadend=x:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(x)},p.onabort=function(){p&&(a(new _t("Request aborted",_t.ECONNABORTED,e,p)),p=null)},p.onerror=function(){a(new _t("Network Error",_t.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const s=n.transitional||Ut;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),a(new _t(t,s.clarifyTimeoutError?_t.ETIMEDOUT:_t.ECONNABORTED,e,p)),p=null},void 0===s&&r.setContentType(null),"setRequestHeader"in p&&wt.forEach(r.toJSON(),(function(e,t){p.setRequestHeader(t,e)})),wt.isUndefined(n.withCredentials)||(p.withCredentials=!!n.withCredentials),u&&"json"!==u&&(p.responseType=n.responseType),h&&([o,d]=ua(h,!0),p.addEventListener("progress",o)),m&&p.upload&&([i,c]=ua(m),p.upload.addEventListener("progress",i),p.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(l=t=>{p&&(a(!t||t.type?new ia(null,e,p):t),p.abort(),p=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);v&&-1===$t.protocols.indexOf(v)?a(new _t("Unsupported protocol "+v+":",_t.ERR_BAD_REQUEST,e)):p.send(s||null)}))},ya=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let a,n=new AbortController;const s=function(e){if(!a){a=!0,l();const t=e instanceof Error?e:this.reason;n.abort(t instanceof _t?t:new ia(t instanceof Error?t.message:t))}};let r=t&&setTimeout((()=>{r=null,s(new _t("timeout ".concat(t," of ms exceeded"),_t.ETIMEDOUT))}),t);const l=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)})),e=null)};e.forEach((e=>e.addEventListener("abort",s)));const{signal:i}=n;return i.unsubscribe=()=>wt.asap(l),i}};function Na(e,t){this.v=e,this.k=t}function wa(e){return function(){return new ka(e.apply(this,arguments))}}function ka(e){var t,a;function n(t,a){try{var r=e[t](a),l=r.value,i=l instanceof Na;Promise.resolve(i?l.v:l).then((function(a){if(i){var o="return"===t?"return":"next";if(!l.k||a.done)return n(o,a);a=e[o](a).value}s(r.done?"return":"normal",a)}),(function(e){n("throw",e)}))}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?n(t.key,t.arg):a=null}this._invoke=function(e,s){return new Promise((function(r,l){var i={key:e,arg:s,resolve:r,reject:l,next:null};a?a=a.next=i:(t=a=i,n(e,s))}))},"function"!=typeof e.return&&(this.return=void 0)}function Sa(e){return new Na(e,0)}function Ca(e){var t={},a=!1;function n(t,n){return a=!0,n=new Promise((function(a){a(e[t](n))})),{done:!1,value:new Na(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return a?(a=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(a)throw a=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return a?(a=!1,e):n("return",e)}),t}function _a(e){var t,a,n,s=2;for("undefined"!=typeof Symbol&&(a=Symbol.asyncIterator,n=Symbol.iterator);s--;){if(a&&null!=(t=e[a]))return t.call(e);if(n&&null!=(t=e[n]))return new Ea(t.call(e));a="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Ea(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Ea=function(e){this.s=e,this.n=e.next},Ea.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var a=this.s.return;return void 0===a?Promise.resolve({value:e,done:!0}):t(a.apply(this.s,arguments))},throw:function(e){var a=this.s.return;return void 0===a?Promise.reject(e):t(a.apply(this.s,arguments))}},new Ea(e)}ka.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},ka.prototype.next=function(e){return this._invoke("next",e)},ka.prototype.throw=function(e){return this._invoke("throw",e)},ka.prototype.return=function(e){return this._invoke("return",e)};const Pa=function*(e,t){let a=e.byteLength;if(!t||a<t)return void(yield e);let n,s=0;for(;s<a;)n=s+t,yield e.slice(s,n),s=n},Ta=function(){var e=wa((function*(e,t){var a,n=!1,s=!1;try{for(var r,l=_a(Da(e));n=!(r=yield Sa(l.next())).done;n=!1){const e=r.value;yield*Ca(_a(Pa(e,t)))}}catch(i){s=!0,a=i}finally{try{n&&null!=l.return&&(yield Sa(l.return()))}finally{if(s)throw a}}}));return function(t,a){return e.apply(this,arguments)}}(),Da=function(){var e=wa((function*(e){if(e[Symbol.asyncIterator])return void(yield*Ca(_a(e)));const t=e.getReader();try{for(;;){const{done:e,value:a}=yield Sa(t.read());if(e)break;yield a}}finally{yield Sa(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Ra=(e,t,a,n)=>{const s=Ta(e,t);let r,l=0,i=e=>{r||(r=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await s.next();if(t)return i(),void e.close();let r=n.byteLength;if(a){let e=l+=r;a(e)}e.enqueue(new Uint8Array(n))}catch(t){throw i(t),t}},cancel:e=>(i(e),s.return())},{highWaterMark:2})},Oa="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Fa=Oa&&"function"===typeof ReadableStream,La=Oa&&("function"===typeof TextEncoder?(Aa=new TextEncoder,e=>Aa.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Aa;const Ia=function(e){try{for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return!!e(...a)}catch(Iu){return!1}},Ma=Fa&&Ia((()=>{let e=!1;const t=new Request($t.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),za=Fa&&Ia((()=>wt.isReadableStream(new Response("").body))),Ua={stream:za&&(e=>e.body)};var Ba;Oa&&(Ba=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ua[e]&&(Ua[e]=wt.isFunction(Ba[e])?t=>t[e]():(t,a)=>{throw new _t("Response type '".concat(e,"' is not supported"),_t.ERR_NOT_SUPPORT,a)})})));const Wa=async(e,t)=>{const a=wt.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(wt.isBlob(e))return e.size;if(wt.isSpecCompliantForm(e)){const t=new Request($t.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return wt.isArrayBufferView(e)||wt.isArrayBuffer(e)?e.byteLength:(wt.isURLSearchParams(e)&&(e+=""),wt.isString(e)?(await La(e)).byteLength:void 0)})(t):a},qa=Oa&&(async e=>{let{url:t,method:a,data:n,signal:s,cancelToken:r,timeout:l,onDownloadProgress:i,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:m}=ga(e);c=c?(c+"").toLowerCase():"text";let h,f=ya([s,r&&r.toAbortSignal()],l);const p=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let x;try{if(o&&Ma&&"get"!==a&&"head"!==a&&0!==(x=await Wa(d,n))){let e,a=new Request(t,{method:"POST",body:n,duplex:"half"});if(wt.isFormData(n)&&(e=a.headers.get("content-type"))&&d.setContentType(e),a.body){const[e,t]=ma(x,ua(ha(o)));n=Ra(a.body,65536,e,t)}}wt.isString(u)||(u=u?"include":"omit");const s="credentials"in Request.prototype;h=new Request(t,Ie(Ie({},m),{},{signal:f,method:a.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:s?u:void 0}));let r=await fetch(h);const l=za&&("stream"===c||"response"===c);if(za&&(i||l&&p)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=wt.toFiniteNumber(r.headers.get("content-length")),[a,n]=i&&ma(t,ua(ha(i),!0))||[];r=new Response(Ra(r.body,65536,a,(()=>{n&&n(),p&&p()})),e)}c=c||"text";let v=await Ua[wt.findKey(Ua,c)||"text"](r,e);return!l&&p&&p(),await new Promise(((t,a)=>{oa(t,a,{data:v,headers:na.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:h})}))}catch(v){if(p&&p(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new _t("Network Error",_t.ERR_NETWORK,e,h),{cause:v.cause||v});throw _t.from(v,v&&v.code,e,h)}}),Ha={http:null,xhr:ja,fetch:qa};wt.forEach(Ha,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Iu){}Object.defineProperty(e,"adapterName",{value:t})}}));const Va=e=>"- ".concat(e),Ga=e=>wt.isFunction(e)||null===e||!1===e,$a=e=>{e=wt.isArray(e)?e:[e];const{length:t}=e;let a,n;const s={};for(let r=0;r<t;r++){let t;if(a=e[r],n=a,!Ga(a)&&(n=Ha[(t=String(a)).toLowerCase()],void 0===n))throw new _t("Unknown adapter '".concat(t,"'"));if(n)break;s[t||"#"+r]=n}if(!n){const e=Object.entries(s).map((e=>{let[t,a]=e;return"adapter ".concat(t," ")+(!1===a?"is not supported by the environment":"is not available in the build")}));let a=t?e.length>1?"since :\n"+e.map(Va).join("\n"):" "+Va(e[0]):"as no adapter specified";throw new _t("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n};function Ka(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ia(null,e)}function Ya(e){Ka(e),e.headers=na.from(e.headers),e.data=sa.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return $a(e.adapter||Jt.adapter)(e).then((function(t){return Ka(e),t.data=sa.call(e,e.transformResponse,t),t.headers=na.from(t.headers),t}),(function(t){return ra(t)||(Ka(e),t&&t.response&&(t.response.data=sa.call(e,e.transformResponse,t.response),t.response.headers=na.from(t.response.headers))),Promise.reject(t)}))}const Ja="1.9.0",Qa={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Qa[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}}));const Xa={};Qa.transitional=function(e,t,a){function n(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,s,r)=>{if(!1===e)throw new _t(n(s," has been removed"+(t?" in "+t:"")),_t.ERR_DEPRECATED);return t&&!Xa[s]&&(Xa[s]=!0,console.warn(n(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,s,r)}},Qa.spelling=function(e){return(t,a)=>(console.warn("".concat(a," is likely a misspelling of ").concat(e)),!0)};const Za={assertOptions:function(e,t,a){if("object"!==typeof e)throw new _t("options must be an object",_t.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const r=n[s],l=t[r];if(l){const t=e[r],a=void 0===t||l(t,r,e);if(!0!==a)throw new _t("option "+r+" must be "+a,_t.ERR_BAD_OPTION_VALUE)}else if(!0!==a)throw new _t("Unknown option "+r,_t.ERR_BAD_OPTION)}},validators:Qa},en=Za.validators;class tn{constructor(e){this.defaults=e||{},this.interceptors={request:new zt,response:new zt}}async request(e,t){try{return await this._request(e,t)}catch(a){if(a instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{a.stack?t&&!String(a.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+t):a.stack=t}catch(Iu){}}throw a}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=ba(this.defaults,t);const{transitional:a,paramsSerializer:n,headers:s}=t;void 0!==a&&Za.assertOptions(a,{silentJSONParsing:en.transitional(en.boolean),forcedJSONParsing:en.transitional(en.boolean),clarifyTimeoutError:en.transitional(en.boolean)},!1),null!=n&&(wt.isFunction(n)?t.paramsSerializer={serialize:n}:Za.assertOptions(n,{encode:en.function,serialize:en.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Za.assertOptions(t,{baseUrl:en.spelling("baseURL"),withXsrfToken:en.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=s&&wt.merge(s.common,s[t.method]);s&&wt.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete s[e]})),t.headers=na.concat(r,s);const l=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))}));const o=[];let c;this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)}));let d,u=0;if(!i){const e=[Ya.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(u=0;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(h){t.call(this,h);break}}try{c=Ya.call(this,m)}catch(h){return Promise.reject(h)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return Mt(xa((e=ba(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}wt.forEach(["delete","get","head","options"],(function(e){tn.prototype[e]=function(t,a){return this.request(ba(a||{},{method:e,url:t,data:(a||{}).data}))}})),wt.forEach(["post","put","patch"],(function(e){function t(t){return function(a,n,s){return this.request(ba(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:n}))}}tn.prototype[e]=t(),tn.prototype[e+"Form"]=t(!0)}));const an=tn;class nn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const a=this;this.promise.then((e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{a.subscribe(e),t=e})).then(e);return n.cancel=function(){a.unsubscribe(t)},n},e((function(e,n,s){a.reason||(a.reason=new ia(e,n,s),t(a.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new nn((function(t){e=t})),cancel:e}}}const sn=nn;const rn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(rn).forEach((e=>{let[t,a]=e;rn[a]=t}));const ln=rn;const on=function e(t){const a=new an(t),n=Me(an.prototype.request,a);return wt.extend(n,an.prototype,a,{allOwnKeys:!0}),wt.extend(n,a,null,{allOwnKeys:!0}),n.create=function(a){return e(ba(t,a))},n}(Jt);on.Axios=an,on.CanceledError=ia,on.CancelToken=sn,on.isCancel=ra,on.VERSION=Ja,on.toFormData=Rt,on.AxiosError=_t,on.Cancel=on.CanceledError,on.all=function(e){return Promise.all(e)},on.spread=function(e){return function(t){return e.apply(null,t)}},on.isAxiosError=function(e){return wt.isObject(e)&&!0===e.isAxiosError},on.mergeConfig=ba,on.AxiosHeaders=na,on.formToJSON=e=>Kt(wt.isHTMLForm(e)?new FormData(e):e),on.getAdapter=$a,on.HttpStatusCode=ln,on.default=on;const cn=on,dn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname;if(localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("adminToken"),localStorage.removeItem("coachToken"),!e.includes("/login")){const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname;return e.startsWith("/admin")?"/admin/login":e.startsWith("/coach")?"/coach/login":"/login"}(e);window.location.href=t}},un=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname;return e.startsWith("/admin")?localStorage.getItem("adminToken")||localStorage.getItem("token"):e.startsWith("/coach")?localStorage.getItem("coachToken")||localStorage.getItem("token"):localStorage.getItem("clientToken")||localStorage.getItem("token")};cn.defaults.baseURL="",cn.interceptors.request.use((e=>{const t=un();return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),cn.interceptors.response.use((e=>e),(e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&dn(),Promise.reject(e)}));const mn=cn;var hn=a(414);const fn=["token"],pn=(0,n.createContext)(),xn=e=>{let{children:t}=e;const[a,s]=(0,n.useState)(null),[r,l]=(0,n.useState)(null),[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(!0);(0,n.useEffect)((()=>{(async()=>{try{const e=window.location.pathname,t=e.startsWith("/coach"),a=e.startsWith("/admin"),n=localStorage.getItem("clientToken"),r=JSON.parse(localStorage.getItem("clientUser")||"null"),i=localStorage.getItem("adminToken"),c=JSON.parse(localStorage.getItem("adminUser")||"null"),d=localStorage.getItem("coachToken"),u=JSON.parse(localStorage.getItem("coachUser")||"null");s(null),o(null),delete mn.defaults.headers.common.Authorization,t?d&&u?(console.log("Setting coach user for coach path",u),o(Ie(Ie({},u),{},{role:"coach"})),s(Ie(Ie({},u),{},{role:"coach"})),mn.defaults.headers.common.Authorization="Bearer ".concat(d)):console.log("No coach token or user data found"):a?i&&c?(l(c),mn.defaults.headers.common.Authorization="Bearer ".concat(i)):l(null):(n&&r?(s(r),mn.defaults.headers.common.Authorization="Bearer ".concat(n)):s(null),i&&c&&l(c),o(null))}catch(e){console.error("Error initializing auth context:",e),localStorage.removeItem("clientToken"),localStorage.removeItem("clientUser"),localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),localStorage.removeItem("lastLoginType")}finally{d(!1)}})()}),[]);const u=e=>{if(console.log("Updating points for user:",e),"admin"===e.role)console.log("Updating admin user points from",null===r||void 0===r?void 0:r.points,"to",e.points),l(e),localStorage.setItem("adminUser",JSON.stringify(e));else{console.log("Updating client user points from","solo: ".concat(null===a||void 0===a?void 0:a.solo_points,", team: ").concat(null===a||void 0===a?void 0:a.team_points),"to","solo: ".concat(e.solo_points,", team: ").concat(e.team_points)),s((t=>Ie(Ie({},t),{},{points:e.points,solo_points:e.solo_points,team_points:e.team_points})));const t=Ie(Ie({},JSON.parse(localStorage.getItem("clientUser")||"{}")),{},{points:e.points,solo_points:e.solo_points,team_points:e.team_points});localStorage.setItem("clientUser",JSON.stringify(t)),console.log("Points updated successfully")}window.dispatchEvent(new CustomEvent("pointsUpdated",{detail:{userType:"admin"===e.role?"admin":"client",points:e.points}}))};window.updateUserPoints=u;const m={currentUser:a,adminUser:r,coachUser:i,setCurrentUser:s,setAdminUser:l,setCoachUser:o,loading:c,login:async(e,t)=>{try{const a=await mn.post("/api/auth/login",{matricule:e,password:t}),{token:n,userId:s,role:r,points:i,username:o,matricule:c}=a.data;if("admin"!==r)throw new Error("This login is for admins only");const d={id:s,username:o,matricule:c,role:r,points:i||0};return localStorage.setItem("adminToken",n),localStorage.setItem("adminUser",JSON.stringify(d)),localStorage.setItem("lastLoginType","admin"),mn.defaults.headers.common.Authorization="Bearer ".concat(n),l(d),d}catch(a){throw console.error("Admin login error:",a),a}},logout:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";console.log("Logging out:",e),delete mn.defaults.headers.common.Authorization,"all"!==e&&"client"!==e&&"user"!==e||(localStorage.removeItem("clientToken"),localStorage.removeItem("clientUser"),s(null),console.log("Client/user logged out")),"all"!==e&&"coach"!==e||(localStorage.removeItem("coachToken"),localStorage.removeItem("coachUser"),o(null),window.location.pathname.startsWith("/coach")&&s(null),console.log("Coach logged out")),"all"!==e&&"admin"!==e||(localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),l(null),window.location.pathname.startsWith("/admin")&&s(null),console.log("Admin logged out"));const t=window.location.pathname;if(t.startsWith("/coach")){const e=localStorage.getItem("coachToken");e&&(mn.defaults.headers.common.Authorization="Bearer ".concat(e))}else if(t.startsWith("/admin")){const e=localStorage.getItem("adminToken");e&&(mn.defaults.headers.common.Authorization="Bearer ".concat(e))}else{const e=localStorage.getItem("clientToken");e&&(mn.defaults.headers.common.Authorization="Bearer ".concat(e))}console.log("Logout completed")},register:async e=>{try{const t=await mn.post("/api/auth/register",e),{token:a,user:n}=t.data;return localStorage.setItem("clientToken",a),localStorage.setItem("clientUser",JSON.stringify(n)),localStorage.setItem("lastLoginType","client"),mn.defaults.headers.common.Authorization="Bearer ".concat(a),s(n),n}catch(t){throw console.error("Registration error:",t),t}},clientLogin:async(e,t)=>{try{const a=await mn.post("/api/auth/client-login",{email:e,password:t}),{token:n,userId:r,role:l,points:i,solo_points:o,team_points:c,username:d,matricule:u,full_name:m,email:h,phone:f,age:p,gender:x,goal:v}=a.data,b={id:r,username:d,matricule:u,email:h,role:l,points:i||0,solo_points:o||0,team_points:c||0,full_name:m,phone:f,age:p,gender:x,goal:v};return localStorage.setItem("clientToken",n),localStorage.setItem("clientUser",JSON.stringify(b)),localStorage.setItem("lastLoginType","client"),mn.defaults.headers.common.Authorization="Bearer ".concat(n),s(b),b}catch(a){throw console.error("Client login error:",a),a}},coachLogin:async(e,t)=>{try{const a=(await mn.post("/api/auth/coach-login",{matricule:e,password:t})).data,{token:n}=a,r=Re(a,fn);localStorage.setItem("coachToken",n),localStorage.setItem("coachUser",JSON.stringify(Ie(Ie({},r),{},{role:"coach"}))),mn.defaults.headers.common.Authorization="Bearer ".concat(n);const l=Ie(Ie({},r),{},{role:"coach"});return o(l),window.location.pathname.startsWith("/coach")?s(l):s(null),r}catch(a){throw console.error("Coach login error:",a),a}},updatePoints:u,isAdmin:"admin"===(null===r||void 0===r?void 0:r.role),isCoach:window.location.pathname.startsWith("/coach")&&"coach"===(null===i||void 0===i?void 0:i.role),isUser:!window.location.pathname.startsWith("/coach")&&!window.location.pathname.startsWith("/admin")&&localStorage.getItem("clientToken")&&"user"===(null===a||void 0===a?void 0:a.role)};return(0,hn.jsx)(pn.Provider,{value:m,children:!c&&t})},vn=e=>{let{showAdminLink:t=!1,showCoachLink:a=!1}=e;const{currentUser:s,adminUser:r,coachUser:l,logout:i,isAdmin:o,isCoach:c}=(0,n.useContext)(pn),[d,u]=(0,n.useState)((null===s||void 0===s?void 0:s.points)||0),m=te();(0,n.useEffect)((()=>{s&&u(s.points||0);const e=e=>{console.log("Points updated event received in Navbar:",e.detail),"client"===e.detail.userType&&u(e.detail.points)};return window.addEventListener("pointsUpdated",e),()=>{window.removeEventListener("pointsUpdated",e)}}),[s]);const h=window.location.pathname,f=h.startsWith("/coach"),p=e=>{i(e),m("admin"===e?"/admin/login":"coach"===e?"/coach/login":"/",{replace:!0})};return t?(0,hn.jsx)("nav",{className:"navbar navbar-expand-lg",style:{backgroundColor:"var(--bg-dark)"},children:(0,hn.jsxs)("div",{className:"container",children:[(0,hn.jsxs)(Ee,{className:"navbar-brand d-flex align-items-center",to:"/admin",children:[(0,hn.jsx)("img",{src:"/logo_white.png",alt:"Suite Coaching Logo",height:"40",className:"me-2"}),(0,hn.jsx)("span",{style:{color:"var(--primary-color)",fontWeight:"bold"},children:"Suite Coaching"})]}),(0,hn.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav",style:{backgroundColor:"var(--highlight-color)"},children:(0,hn.jsx)("span",{className:"navbar-toggler-icon"})}),"        ",(0,hn.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:(0,hn.jsxs)("ul",{className:"navbar-nav ms-auto",children:[!r&&(0,hn.jsx)("li",{className:"nav-item",children:(0,hn.jsx)("div",{className:"d-flex align-items-center",children:(0,hn.jsxs)(Ee,{className:"btn login-button me-2",to:"/admin/login",children:[(0,hn.jsx)("i",{className:"fas fa-sign-in-alt me-1"})," Admin"]})})}),r?(0,hn.jsxs)("li",{className:"nav-item dropdown",children:[(0,hn.jsxs)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",style:{color:"#333333"},children:[(0,hn.jsx)("i",{className:"fas fa-user-circle me-1"}),r.username]}),(0,hn.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarDropdown",style:{backgroundColor:"#f8f9fa",borderColor:"#0099CC"},children:[(0,hn.jsx)("li",{children:(0,hn.jsxs)("span",{className:"dropdown-item-text text-muted",children:[(0,hn.jsx)("i",{className:"fas fa-id-card me-2"}),"Matricule: ",r.matricule]})}),(0,hn.jsx)("li",{children:(0,hn.jsx)("hr",{className:"dropdown-divider"})}),o&&(0,hn.jsx)("li",{children:(0,hn.jsxs)(Ee,{className:"dropdown-item",to:"/admin",style:{color:"#333333"},children:[(0,hn.jsx)("i",{className:"fas fa-cogs me-2"}),"Admin Panel"]})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)("button",{className:"dropdown-item",onClick:()=>p("admin"),style:{color:"#333333"},children:[(0,hn.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"Logout"]})})]})]}):null]})})]})}):(0,hn.jsx)("nav",{className:"navbar navbar-expand-lg ".concat(f?"d-none d-md-block":""),style:{backgroundColor:"var(--bg-dark)",color:"var(--primary-color)"},children:(0,hn.jsxs)("div",{className:"container",children:[(0,hn.jsxs)(Ee,{className:"navbar-brand d-flex align-items-center",to:f&&l?"/coach":"/",children:[(0,hn.jsx)("img",{src:"/logo_white.png",alt:"Suite Coaching Logo",height:"40",className:"me-2"}),(0,hn.jsx)("span",{style:{color:"var(--primary-color)",fontWeight:"bold"},children:"Suite Coaching"})]}),(0,hn.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarClientNav",style:{backgroundColor:"var(--secondary-color)"},children:(0,hn.jsx)("span",{className:"navbar-toggler-icon"})}),(0,hn.jsx)("div",{className:"collapse navbar-collapse",id:"navbarClientNav",children:(0,hn.jsxs)("ul",{className:"navbar-nav ms-auto",children:["              ",f||a||!s||"user"!==s.role?f&&l&&"coach"===l.role?(0,hn.jsxs)("li",{className:"nav-item dropdown",children:[(0,hn.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarCoachDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",style:{color:"var(--primary-color)"},children:(0,hn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,hn.jsx)("img",{src:l.photo||"https://via.placeholder.com/60x60?text=Coach",alt:l.name,className:"rounded-circle me-2",style:{width:"55px",height:"55px",objectFit:"cover",border:"2px solid var(--primary-color)"}}),(0,hn.jsx)("span",{children:l.name||l.username})]})}),(0,hn.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarCoachDropdown",style:{backgroundColor:"var(--secondary-color)",borderColor:"var(--highlight-color)"},children:[(0,hn.jsx)("li",{children:(0,hn.jsxs)("span",{className:"dropdown-item-text",children:[(0,hn.jsx)("i",{className:"fas fa-id-badge me-2"}),l.matricule]})}),(0,hn.jsx)("li",{children:(0,hn.jsx)("hr",{className:"dropdown-divider",style:{borderColor:"var(--highlight-color)",opacity:.2}})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)("button",{className:"dropdown-item",onClick:()=>p("coach"),style:{color:"var(--primary-color)"},children:[(0,hn.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"Logout"]})})]})]}):(0,hn.jsxs)("div",{className:"d-flex",children:[!f&&(0,hn.jsx)("li",{className:"nav-item me-2",children:(0,hn.jsxs)(Ee,{className:"nav-link",to:"/login",style:{color:"var(--primary-color)"},children:[(0,hn.jsx)("i",{className:"fas fa-sign-in-alt me-1"})," Client Login"]})}),f&&!h.includes("/coach/login")&&(0,hn.jsx)("li",{className:"nav-item",children:(0,hn.jsxs)(Ee,{className:"nav-link",to:"/coach/login",style:{color:"var(--primary-color)"},children:[(0,hn.jsx)("i",{className:"fas fa-user-tie me-1"})," Coach Login"]})})]}):(0,hn.jsxs)("li",{className:"nav-item dropdown",children:[(0,hn.jsxs)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarClientDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",style:{color:"var(--primary-color)"},children:[(0,hn.jsx)("i",{className:"fas fa-user-circle me-1"}),s.username]}),(0,hn.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarClientDropdown",style:{backgroundColor:"var(--secondary-color)",borderColor:"var(--highlight-color)"},children:[(0,hn.jsx)("li",{children:(0,hn.jsxs)("span",{className:"dropdown-item-text",children:[(0,hn.jsx)("i",{className:"fas fa-envelope me-2"}),s.email]})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)("span",{className:"dropdown-item-text",children:[(0,hn.jsx)("i",{className:"fas fa-star me-2",style:{color:"var(--highlight-color)"}}),"Points: ",d,(0,hn.jsx)("small",{className:"ms-2",style:{color:"var(--highlight-color)"},children:"(Updates instantly)"})]})}),(0,hn.jsx)("li",{children:(0,hn.jsx)("hr",{className:"dropdown-divider",style:{borderColor:"var(--highlight-color)",opacity:.2}})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)(Ee,{className:"dropdown-item",to:"/profile",style:{color:"var(--primary-color)"},children:[(0,hn.jsx)("i",{className:"fas fa-user me-2"}),"My Profile"]})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)(Ee,{className:"dropdown-item",to:"/packs",style:{color:"var(--primary-color)"},children:[(0,hn.jsx)("i",{className:"fas fa-gift me-2"}),"View Packs"]})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)("button",{className:"dropdown-item",onClick:()=>p("client"),style:{color:"var(--primary-color)"},children:[(0,hn.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"Logout"]})})]})]})]})})]})})},bn=e=>{let{children:t,showAdminLink:a=!1,showCoachLink:s=!1}=e;const[r,l]=(0,n.useState)(window.innerWidth<768);return(0,n.useEffect)((()=>{const e=()=>{l(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,hn.jsxs)(hn.Fragment,{children:[!r&&(0,hn.jsx)(vn,{showAdminLink:a,showCoachLink:s}),t]})},gn=cn.create({baseURL:"https://coach-reservation.onrender.com",withCredentials:!0,headers:{"Content-Type":"application/json"}});gn.interceptors.request.use((e=>{const t=un();return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),gn.interceptors.response.use((e=>e),(e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&dn(),Promise.reject(e)}));const jn=gn,yn=e=>{let{coach:t,onReserve:a}=e;return(0,hn.jsx)("div",{className:"col-md-6 col-lg-4 mb-4 fade-in",children:(0,hn.jsx)("div",{className:"card h-100 coach-card",style:{borderColor:"var(--highlight-color)"},children:(0,hn.jsxs)("div",{className:"card-body text-center",children:[(0,hn.jsxs)("div",{className:"position-relative d-inline-block",children:[(0,hn.jsx)("img",{src:t.photo,alt:t.name,className:"coach-photo mb-3"}),(0,hn.jsx)("span",{className:"position-absolute bottom-0 end-0 bg-success text-white rounded-circle p-2 shadow-sm",children:(0,hn.jsx)("i",{className:"fas fa-check-circle"})})]}),(0,hn.jsx)("h5",{className:"card-title",style:{color:"var(--secondary-color)"},children:t.name}),(0,hn.jsxs)("h6",{className:"card-subtitle mb-2",style:{color:"var(--highlight-color)"},children:[(0,hn.jsx)("i",{className:"fas fa-award me-1"}),t.specialty]}),(0,hn.jsx)("div",{className:"card-text mb-3",style:{color:"var(--text-color)"},children:t.bio}),(0,hn.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,hn.jsxs)("button",{className:"btn",onClick:()=>a(t),style:{backgroundColor:"var(--highlight-color)",color:"white"},children:[(0,hn.jsx)("i",{className:"far fa-calendar-alt me-2"}),"R\xe9server une S\xe9ance"]})})]})})})},Nn=["confirmPassword","goals"],wn=e=>{let{coach:t,onClose:a,onRegisterSuccess:s,initialData:r={}}=e;const{register:l}=(0,n.useContext)(pn),i=te(),[o,c]=(0,n.useState)({username:"",email:r.email||"",password:"",confirmPassword:"",full_name:r.full_name||"",phone:r.phone||"",age:r.age||"",gender:r.gender||"",goals:r.goal?r.goal.split(", "):[]});(0,n.useEffect)((()=>{c((e=>Ie(Ie({},e),{},{email:r.email||e.email,full_name:r.full_name||e.full_name,phone:r.phone||e.phone,age:r.age||e.age,gender:r.gender||e.gender,goals:r.goal?r.goal.split(", "):e.goals})))}),[r]);const[d,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(""),f=e=>{const{name:t,value:a,type:n,checked:s}=e.target;c("goalCheckbox"===t?e=>{const t=[...e.goals];if(s)t.includes(a)||t.push(a);else{const e=t.indexOf(a);e>-1&&t.splice(e,1)}return Ie(Ie({},e),{},{goals:t})}:e=>Ie(Ie({},e),{},{[t]:a}))};return(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("div",{className:"modal-backdrop",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.85)",zIndex:1e4}}),(0,hn.jsx)("div",{className:"modal show d-block",tabIndex:"-1",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:10001,paddingTop:"30px",overflow:"auto"},children:(0,hn.jsxs)("div",{className:"modal-dialog modal-lg",style:{marginTop:"50px",position:"relative"},children:[(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",children:["            ",(0,hn.jsxs)("h5",{className:"modal-title",children:[(0,hn.jsx)("i",{className:"fas fa-user-plus me-2"}),"S'inscrire pour r\xe9server avec ",null===t||void 0===t?void 0:t.name]}),(0,hn.jsx)("button",{type:"button",className:"btn-close",onClick:a})]}),(0,hn.jsxs)("div",{className:"modal-body",children:[m&&(0,hn.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,hn.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),m]}),(0,hn.jsx)("p",{className:"text-muted mb-4",children:"Cr\xe9ez un compte pour r\xe9server facilement des s\xe9ances avec nos coachs. Vos informations seront enregistr\xe9es pour les r\xe9servations futures."}),(0,hn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h(""),o.password!==o.confirmPassword?(h("Les mots de passe ne correspondent pas"),0):o.password.length<6?(h("Le mot de passe doit comporter au moins 6 caract\xe8res"),0):o.email.includes("@")||(h("Veuillez entrer une adresse e-mail valide"),0)){u(!0);try{const{confirmPassword:e,goals:t}=o,a=Re(o,Nn),n=t.join(", ");console.log("Submitting registration data:",Ie(Ie({},a),{},{goal:n}));const r=await l(Ie(Ie({},a),{},{goal:n}));console.log("Registration successful:",r),s&&s(r)}catch(m){var t,a;console.error("Registration error:",m);const n=(null===(t=m.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"\xc9chec de l'inscription. Veuillez r\xe9essayer.";console.log("Error details:",n),h(n)}finally{u(!1)}}},children:[(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-6",children:["                  ",(0,hn.jsx)("h6",{className:"mb-3",children:"Informations du compte"}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{htmlFor:"username",className:"form-label",children:"Nom d'utilisateur"}),(0,hn.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",value:o.username,onChange:f,required:!0})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),(0,hn.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",value:o.email,onChange:f,required:!0})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{htmlFor:"password",className:"form-label",children:"Mot de passe"}),(0,hn.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",value:o.password,onChange:f,required:!0})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirmer le mot de passe"}),(0,hn.jsx)("input",{type:"password",className:"form-control",id:"confirmPassword",name:"confirmPassword",value:o.confirmPassword,onChange:f,required:!0})]})]}),(0,hn.jsxs)("div",{className:"col-md-6",children:[(0,hn.jsx)("h6",{className:"mb-3",children:"Informations personnelles"}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{htmlFor:"full_name",className:"form-label",children:"Nom complet"}),(0,hn.jsx)("input",{type:"text",className:"form-control",id:"full_name",name:"full_name",value:o.full_name,onChange:f,required:!0})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Num\xe9ro de t\xe9l\xe9phone"}),(0,hn.jsx)("input",{type:"tel",className:"form-control",id:"phone",name:"phone",value:o.phone,onChange:f,required:!0})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{htmlFor:"age",className:"form-label",children:"\xc2ge"}),(0,hn.jsx)("input",{type:"number",className:"form-control",id:"age",name:"age",value:o.age,onChange:f,min:"1",max:"120",required:!0})]})}),(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:["                        ",(0,hn.jsx)("label",{htmlFor:"gender",className:"form-label",children:"Genre"}),(0,hn.jsxs)("select",{className:"form-select",id:"gender",name:"gender",value:o.gender,onChange:f,required:!0,children:[(0,hn.jsx)("option",{value:"",children:"S\xe9lectionner"}),(0,hn.jsx)("option",{value:"male",children:"Homme"}),(0,hn.jsx)("option",{value:"female",children:"Femme"}),(0,hn.jsx)("option",{value:"other",children:"Autre"})]})]})})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Quels sont vos objectifs?"}),(0,hn.jsx)("div",{className:"goal-checkboxes border rounded p-3",style:{maxHeight:"200px",overflowY:"auto"},children:["correction de la posture","prise de masse","perte de poids","preparation physique","strongman","Renforcement musculaire","Tonification"].map(((e,t)=>(0,hn.jsxs)("div",{className:"form-check",children:[(0,hn.jsx)("input",{className:"form-check-input",type:"checkbox",id:"goal-".concat(t),name:"goalCheckbox",value:e,checked:o.goals.includes(e),onChange:f}),(0,hn.jsx)("label",{className:"form-check-label",htmlFor:"goal-".concat(t),children:e.charAt(0).toUpperCase()+e.slice(1)})]},t)))}),(0,hn.jsx)("small",{className:"form-text text-muted",children:"S\xe9lectionnez un ou plusieurs objectifs"})]})]})]}),(0,hn.jsx)("div",{className:"mt-4 text-center",children:(0,hn.jsx)("button",{type:"submit",className:"btn btn-primary px-5",disabled:d,children:d?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"                      Inscription en cours..."]}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("i",{className:"fas fa-user-plus me-2"}),"S'inscrire et continuer"]})})}),(0,hn.jsxs)("div",{className:"mt-3 text-center",children:["                ",(0,hn.jsxs)("p",{className:"mb-0",children:["Vous avez d\xe9j\xe0 un compte? ",(0,hn.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),i("/client/login")},children:"Connectez-vous ici"})]})]})]})]})]}),"      "]})})]})},kn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:a="success",duration:n=5e3,title:s}=t,r=new CustomEvent("show-toast",{detail:{message:e,type:a,duration:n,title:s}});window.dispatchEvent(r)},Sn=()=>{const[e,t]=(0,n.useState)([]);if((0,n.useEffect)((()=>{const e=e=>{const{message:a,type:n="success",duration:s=5e3,title:r}=e.detail,l=Date.now();t((e=>[...e,{id:l,message:a,type:n,title:r}])),setTimeout((()=>{t((e=>e.filter((e=>e.id!==l))))}),s)};return window.addEventListener("show-toast",e),()=>{window.removeEventListener("show-toast",e)}}),[]),0===e.length)return null;const a=e=>{switch(e){case"success":default:return{backgroundColor:"#4CAF50",borderLeft:"5px solid #2E7D32"};case"error":return{backgroundColor:"#F44336",borderLeft:"5px solid #B71C1C"};case"warning":return{backgroundColor:"#FF9800",borderLeft:"5px solid #E65100"};case"info":return{backgroundColor:"#1e293b",borderLeft:"5px solid var(--highlight-color)"}}},s=e=>{switch(e){case"success":return"fas fa-check-circle";case"error":return"fas fa-exclamation-circle";case"warning":return"fas fa-exclamation-triangle";case"info":return"fas fa-info-circle";default:return"fas fa-bell"}};return(0,hn.jsx)("div",{className:"toast-container",style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999},children:e.map((e=>(0,hn.jsx)("div",{className:"toast show animate__animated animate__fadeIn",style:Ie(Ie({},a(e.type)),{},{color:"white",padding:"15px 20px",marginTop:"10px",borderRadius:"4px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",minWidth:"300px",opacity:1,transition:"all 0.3s ease",transform:"translateX(0)",animation:"fadeIn 0.3s"}),children:(0,hn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,hn.jsx)("div",{className:"me-3",children:(0,hn.jsx)("i",{className:"".concat(s(e.type)," fa-lg")})}),(0,hn.jsxs)("div",{style:{flex:1},children:[e.title&&(0,hn.jsx)("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:e.title}),(0,hn.jsx)("div",{children:e.message})]}),(0,hn.jsx)("button",{type:"button",className:"btn-close ms-auto",onClick:()=>t((t=>t.filter((t=>t.id!==e.id)))),style:{color:"white"},"aria-label":"Close"})]})},e.id)))})},Cn=e=>{let{coach:t,onClose:a,onSuccess:s}=e;const[r,l]=(0,n.useState)({full_name:"",email:"",phone:"",age:"",gender:"",selectedSlot:null}),[i,o]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(null),[h,f]=(0,n.useState)([]),[p,x]=(0,n.useState)(new Date),[v,b]=(0,n.useState)(!1),[g,j]=(0,n.useState)(!1),[y,N]=(0,n.useState)(!1),[w,k]=(0,n.useState)(!1),{currentUser:S,isUser:C,updatePoints:_}=(0,n.useContext)(pn),[E,P]=(0,n.useState)(0);(0,n.useEffect)((()=>{if(S&&C){D(),l((e=>Ie(Ie({},e),{},{full_name:S.full_name||"",email:S.email||"",phone:S.phone||"",age:S.age||"",gender:S.gender||""})));const e=S.points||0;e<1&&(kn("Vous avez besoin d'au moins 1 cr\xe9dit pour r\xe9server une s\xe9ance. Vous avez actuellement ".concat(e," cr\xe9dits. Veuillez contacter l'administrateur pour ajouter plus de cr\xe9dits."),{type:"warning",title:"Cr\xe9dits Insuffisants",duration:8e3}),a())}else N(!0)}),[t.id,S,C,a]);const T=async()=>{b(!0);try{console.log("\n=== RESERVATION FORM: Fetching availability for coach ".concat(t.id," (").concat(t.name,") ===")),console.log("Current date in browser:",(new Date).toISOString().split("T")[0]),console.log("API URL being used:",mn.defaults.baseURL);if(!await M())throw new Error("Server is not responding");const e=await mn.get("/api/coaches/".concat(t.id,"/availability"));console.log("Availability response: Found ".concat(e.data.length," slots")),e.data.length>0?(console.log("All slots received:"),e.data.forEach(((e,t)=>{console.log("".concat(t+1,". Date: ").concat(e.date,", Time: ").concat(e.start_time,"-").concat(e.end_time,", ID: ").concat(e.id));try{const t=new Date(e.date),a=new Date;a.setHours(0,0,0,0),console.log("   - Slot date parsed: ".concat(t.toISOString().split("T")[0])),console.log("   - Is in future: ".concat(t>=a?"Yes":"No"))}catch(a){console.log("   - Error parsing date: ".concat(a.message))}}))):(console.log("No available slots found for this coach. This may be due to:"),console.log("1. No slots have been created for this coach"),console.log("2. All slots are in the past (before current date)"),console.log("3. All slots are already booked"),console.log("4. Server/database issues")),o(e.data);const a=[...new Set(e.data.map((e=>"string"===typeof e.date?e.date.includes("T")?e.date.split("T")[0]:e.date:new Date(e.date).toISOString().split("T")[0])))].sort();d(a),console.log("Raw availability data:",e.data),console.log("Sample raw slot:",e.data[0]),console.log("Unique dates extracted:",a),console.log("Sample date format check:",a[0]),console.log("Current date for comparison:",(new Date).toISOString().split("T")[0]),console.log("=== End of availability fetch ===\n")}catch(l){var e,a,n,s,r;console.error("Error fetching availability:",l),console.error("Error details:",{message:l.message,status:null===(e=l.response)||void 0===e?void 0:e.status,statusText:null===(a=l.response)||void 0===a?void 0:a.statusText,data:null===(n=l.response)||void 0===n?void 0:n.data});let t="Impossible de charger les cr\xe9neaux horaires disponibles.",i="Erreur de Chargement";"Server is not responding"!==l.message&&"NETWORK_ERROR"!==l.code&&l.response?500===(null===(s=l.response)||void 0===s?void 0:s.status)?(t="Erreur interne du serveur. Nos \xe9quipes techniques ont \xe9t\xe9 notifi\xe9es. Veuillez r\xe9essayer dans quelques minutes.",i="Erreur Serveur"):404===(null===(r=l.response)||void 0===r?void 0:r.status)&&(t="Coach non trouv\xe9 ou aucun cr\xe9neau configur\xe9 pour ce coach.",i="Coach Introuvable"):(t="Le serveur ne r\xe9pond pas. V\xe9rifiez votre connexion internet ou r\xe9essayez dans quelques minutes.",i="Erreur de Connexion"),kn(t,{type:"error",title:i,duration:8e3})}finally{b(!1)}},D=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{await T()}catch(t){e<3?(console.log("Retrying... Attempt ".concat(e+1,"/").concat(3)),P(e),setTimeout((()=>D(e+1)),2e3*e)):(P(3),console.log("Max retries reached"))}},R=e=>{try{const t=new Date(e);if(isNaN(t.getTime()))return"Date invalide";const a=new Date,n=new Date(a);return n.setDate(a.getDate()+1),t.toDateString()===a.toDateString()?"Aujourd'hui":t.toDateString()===n.toDateString()?"Demain":t.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})}catch(t){return console.error("Error formatting date for selector:",t),"Erreur de date"}},O=e=>{try{if(console.log('Formatting time: "'.concat(e,'"')),!e)return console.warn("Invalid time string (empty or undefined)"),"Invalid time";if("string"===typeof e&&/^\d{2}:\d{2}:\d{2}$/.test(e)){const[t,a]=e.split(":");return new Date(2e3,0,1,t,a).toLocaleTimeString("fr-FR",{hour:"numeric",minute:"2-digit",hour12:!0})}const t=new Date("2000-01-01T".concat(e));return isNaN(t.getTime())?(console.warn('Invalid time string: "'.concat(e,'"')),"Invalid time"):t.toLocaleTimeString("fr-FR",{hour:"numeric",minute:"2-digit",hour12:!1})}catch(t){return console.error("Error formatting time:",t,"Time string:",e),"Error formatting time"}},F=()=>{x((e=>{const t=new Date(e);return t.setMonth(e.getMonth()-1),t}))},L=()=>{x((e=>{const t=new Date(e);return t.setMonth(e.getMonth()+1),t}))},A=()=>{x(new Date)},I=e=>{console.log("=== CALENDAR DAY CLICK DEBUG ==="),console.log("Day data:",e),console.log("Available dates:",c),console.log("Date selection loading:",w),e?w?console.log("\u274c Already loading"):(console.log("\u2705 Proceeding with date selection for:",e.dateString),(async e=>{if(console.log("=== DATE SELECTION DEBUG ==="),console.log("Selected date:",e),console.log("Date selection loading:",w),console.log("Available dates:",c),console.log("Is date in available dates?",c.includes(e)),console.log("All availability data:",i),w)console.log("Already loading, skipping...");else{k(!0);try{await new Promise((e=>setTimeout(e,200))),m(e);const t=i.filter((t=>{let a;a="string"===typeof t.date?t.date.includes("T")?t.date.split("T")[0]:t.date:new Date(t.date).toISOString().split("T")[0];const n=e;return console.log("Checking slot: ".concat(t.date," -> ").concat(a," === ").concat(n," ? ").concat(a===n)),a===n}));console.log("Time slots for date:",t),console.log("Number of slots found:",t.length),f(t),l((e=>Ie(Ie({},e),{},{selectedSlot:null}))),console.log("Date selection completed successfully"),console.log("Selected date state updated to:",e),console.log("Time slots state updated to:",t)}catch(t){console.error("Error selecting date:",t),kn("Erreur lors de la s\xe9lection de la date",{type:"error",title:"Erreur",duration:4e3})}finally{k(!1),console.log("=== END DATE SELECTION DEBUG ===")}}})(e.dateString),console.log("=== END CALENDAR DAY CLICK DEBUG ===")):console.log("\u274c No day data")},M=async()=>{try{const e=await mn.get("/api/health");return console.log("Server health check response:",e.status),200===e.status}catch(e){return console.error("Server connection test failed:",e.message),!1}};return(0,hn.jsx)(hn.Fragment,{children:(0,hn.jsx)("div",{className:"reservation-modal modal fade show",style:{display:"block",position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:10001,overflow:"auto"},children:(0,hn.jsx)("div",{className:"modal-dialog modal-lg",children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",children:[(0,hn.jsxs)("h5",{className:"modal-title",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-plus me-2"}),y?"S'inscrire pour r\xe9server avec ".concat(t.name):"R\xe9server une s\xe9ance avec ".concat(t.name)]}),(0,hn.jsx)("button",{type:"button",className:"btn-close",onClick:a})]}),(0,hn.jsx)("div",{className:"modal-body",children:y?(0,hn.jsx)(wn,{coach:t,initialData:{email:r.email,full_name:r.full_name,phone:r.phone,age:r.age,gender:r.gender},onClose:a,onRegisterSuccess:e=>{l((t=>Ie(Ie({},t),{},{full_name:e.full_name||t.full_name,email:e.email||t.email,phone:e.phone||t.phone,age:e.age||t.age,gender:e.gender||t.gender,selectedSlot:null}))),m(null),f([]),N(!1),T()}}):(0,hn.jsxs)(hn.Fragment,{children:["                  ",(0,hn.jsxs)("div",{className:"payment-notice",children:[(0,hn.jsx)("strong",{children:"Avis de paiement:"})," Le paiement s'effectue \xe0 notre bureau. Aucun paiement en ligne n'est requis pour le moment."]}),(0,hn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u)if(r.selectedSlot){if(S&&C){const e=S.points||0;if(e<1)return void kn("Vous avez besoin d'au moins 1 cr\xe9dit pour r\xe9server une s\xe9ance. Vous avez actuellement ".concat(e," cr\xe9dits. Veuillez contacter l'administrateur pour ajouter plus de cr\xe9dits."),{type:"warning",title:"Cr\xe9dits Insuffisants",duration:8e3})}j(!0);try{const e=(e=>{if("string"===typeof e&&e.match(/^\d{4}-\d{2}-\d{2}$/))return e;const t=new Date(e),a=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return"".concat(a,"-").concat(n,"-").concat(s)})(r.selectedSlot.date),n={coach_id:t.id,date:e,time:r.selectedSlot.start_time};S&&C&&(n.user_id=S.userId||S.id),console.log("=== RESERVATION DEBUG ==="),console.log("Selected slot:",r.selectedSlot),console.log("Original date:",r.selectedSlot.date),console.log("Formatted date:",e),console.log("Reservation data being sent:",n),console.log("========================");const l=await mn.post("/api/reserve",n);if(console.log("Reservation response:",l.data),void 0!==l.data.remaining_points&&S){const e=Ie(Ie({},S),{},{points:l.data.remaining_points}),t=Ie(Ie({},JSON.parse(localStorage.getItem("clientUser")||"{}")),{},{points:l.data.remaining_points});localStorage.setItem("clientUser",JSON.stringify(t)),_&&(console.log("Updating points in AuthContext:",l.data.remaining_points),_(e)),window.dispatchEvent(new CustomEvent("pointsUpdated",{detail:{points:l.data.remaining_points}})),kn("R\xe9servation cr\xe9\xe9e avec succ\xe8s! 1 cr\xe9dit a \xe9t\xe9 d\xe9duit de votre compte. Votre nouveau solde est de ".concat(l.data.remaining_points," cr\xe9dits."),{type:"success",title:"R\xe9servation Confirm\xe9e",duration:7e3})}else kn("R\xe9servation cr\xe9\xe9e avec succ\xe8s!",{type:"success",title:"R\xe9servation Confirm\xe9e",duration:5e3});s(),a()}catch(c){var n,l,i,o;console.error("Error creating reservation:",c),console.log("Error response:",null===(n=c.response)||void 0===n?void 0:n.data),console.log("Error status:",null===(l=c.response)||void 0===l?void 0:l.status),console.log("Full error response:",c.response),kn((null===(i=c.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.error)||"\xc9chec de la cr\xe9ation de la r\xe9servation. Veuillez r\xe9essayer.",{type:"error",title:"Erreur de R\xe9servation",duration:8e3})}finally{j(!1)}}else kn("Veuillez s\xe9lectionner un cr\xe9neau horaire",{type:"warning",title:"S\xe9lection Requise",duration:4e3});else kn("Veuillez d'abord s\xe9lectionner une date",{type:"warning",title:"S\xe9lection Requise",duration:4e3})},children:[S&&(0,hn.jsxs)("div",{className:"alert alert-success mb-4",children:[(0,hn.jsx)("i",{className:"fas fa-user-check me-2"}),(0,hn.jsxs)("strong",{children:["Bienvenue, ",S.full_name||S.username,"!"]}),"Vos informations seront automatiquement utilis\xe9es pour cette r\xe9servation.",(0,hn.jsx)("br",{}),(0,hn.jsxs)("span",{className:"mt-1 d-block",children:[(0,hn.jsx)("i",{className:"fas fa-coins me-2"}),(0,hn.jsx)("strong",{children:"Cr\xe9dits disponibles:"})," ",S.points||0,(0,hn.jsx)("small",{className:"ms-2 text-muted",children:"(Chaque s\xe9ance co\xfbte 1 cr\xe9dit)"})]})]}),(0,hn.jsx)("div",{className:"reservation-steps mb-4",children:(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-6",children:(0,hn.jsxs)("div",{className:"step-indicator ".concat(u?"completed":"active"),children:[(0,hn.jsx)("div",{className:"step-number",children:"1"}),(0,hn.jsx)("div",{className:"step-label",children:"Choisir une date"})]})}),(0,hn.jsx)("div",{className:"col-6",children:(0,hn.jsxs)("div",{className:"step-indicator ".concat(u&&!r.selectedSlot?"active":u&&r.selectedSlot?"completed":""),children:[(0,hn.jsx)("div",{className:"step-number",children:"2"}),(0,hn.jsx)("div",{className:"step-label",children:"Choisir l'heure"})]})})]})}),(0,hn.jsx)("div",{className:"mb-4",children:u?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("div",{className:"selected-date-info mb-3",children:(0,hn.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,hn.jsxs)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{r.selectedSlot?window.confirm("\xcates-vous s\xfbr de vouloir changer la date ? Votre s\xe9lection de cr\xe9neau horaire sera perdue.")&&(m(null),f([]),l((e=>Ie(Ie({},e),{},{selectedSlot:null})))):(m(null),f([]),l((e=>Ie(Ie({},e),{},{selectedSlot:null}))))},children:[(0,hn.jsx)("i",{className:"fas fa-arrow-left me-1"})," Changer la date"]}),(0,hn.jsxs)("div",{className:"text-end",children:[(0,hn.jsx)("small",{className:"text-muted",children:"Date s\xe9lectionn\xe9e:"}),(0,hn.jsx)("div",{className:"fw-bold text-primary",children:R(u)})]})]})}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsxs)("label",{className:"form-label",children:[(0,hn.jsx)("i",{className:"fas fa-clock me-2 text-primary"}),"S\xe9lectionnez un cr\xe9neau horaire *"]}),(0,hn.jsx)("div",{className:"mb-2",children:(0,hn.jsxs)("small",{className:"text-muted",children:["Cr\xe9neaux disponibles pour le ",R(u)]})})]}),(0,hn.jsx)("div",{className:"available-slots time-slots-container row",children:h.map(((e,t)=>{var a;return(0,hn.jsx)("div",{className:"col-md-6 mb-2",children:(0,hn.jsx)("div",{className:"availability-slot ".concat((null===(a=r.selectedSlot)||void 0===a?void 0:a.id)===e.id?"selected":""),onClick:()=>(e=>{console.log("Selected slot:",e),l((t=>Ie(Ie({},t),{},{selectedSlot:e})))})(e),children:(0,hn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,hn.jsx)("div",{className:"me-3",children:(0,hn.jsx)("i",{className:"far fa-clock fa-2x"})}),(0,hn.jsx)("div",{children:(0,hn.jsxs)("span",{className:"time-range",children:[O(e.start_time)," - ",O(e.end_time)]})})]})})},t)}))})]}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("label",{className:"form-label",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-alt me-2 text-primary"}),"S\xe9lectionnez une date *"]}),(0,hn.jsx)("div",{className:"mb-3",children:(0,hn.jsx)("small",{className:"text-muted",children:"Cliquez sur une date disponible pour voir les cr\xe9neaux horaires"})}),v?(0,hn.jsxs)("div",{className:"text-center p-4",children:[(0,hn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Chargement..."})}),(0,hn.jsx)("p",{className:"mt-2",children:"Chargement des dates disponibles..."})]}):(0,hn.jsxs)(hn.Fragment,{children:[0===c.length&&(0,hn.jsxs)("div",{className:"alert alert-info mb-3",children:[(0,hn.jsx)("i",{className:"fas fa-info-circle me-2"}),(0,hn.jsx)("strong",{children:"Aucune date disponible pour ce coach."}),(0,hn.jsx)("br",{}),(0,hn.jsx)("small",{children:"Vous pouvez parcourir le calendrier ci-dessous. Veuillez nous contacter pour organiser un horaire de s\xe9ance personnalis\xe9."}),(0,hn.jsx)("div",{className:"mt-2",children:(0,hn.jsxs)("button",{type:"button",className:"btn btn-outline-info btn-sm",onClick:()=>D(),disabled:v,children:[(0,hn.jsx)("i",{className:"fas fa-refresh me-1"}),v?"Chargement...":"R\xe9essayer"]})})]}),(0,hn.jsx)("div",{className:"calendar-legend mb-3",children:(0,hn.jsxs)("div",{className:"d-flex justify-content-center gap-3 flex-wrap",children:[(0,hn.jsxs)("div",{className:"legend-item",children:[(0,hn.jsx)("div",{className:"legend-color available"}),(0,hn.jsx)("small",{children:"Disponible"})]}),(0,hn.jsxs)("div",{className:"legend-item",children:[(0,hn.jsx)("div",{className:"legend-color today"}),(0,hn.jsx)("small",{children:"Aujourd'hui"})]}),(0,hn.jsxs)("div",{className:"legend-item",children:[(0,hn.jsx)("div",{className:"legend-color unavailable"}),(0,hn.jsx)("small",{children:"Indisponible"})]})]})}),(0,hn.jsx)("div",{className:"calendar-container",children:(()=>{const e=(()=>{console.log("=== CALENDAR GENERATION DEBUG ==="),console.log("Available dates:",c);const e=new Date;e.setHours(0,0,0,0);const t=p.getFullYear(),a=p.getMonth();console.log("Current calendar month:",t,a+1);const n=new Date(t,a,1),s=new Date(t,a+1,0).getDate(),r=n.getDay(),l=0===r?6:r-1,o=[];let d=[];for(let i=0;i<l;i++)d.push(null);for(let h=1;h<=s;h++){const n="".concat(t,"-").concat(String(a+1).padStart(2,"0"),"-").concat(String(h).padStart(2,"0")),s=c.includes(n),r=s?i.filter((e=>{let t;return t="string"===typeof e.date?e.date.includes("T")?e.date.split("T")[0]:e.date:new Date(e.date).toISOString().split("T")[0],t===n})).length:0,l=new Date(t,a,h);console.log("Day ".concat(h,": ").concat(n," - Available: ").concat(s,", Slots: ").concat(r)),d.push({day:h,dateString:n,isAvailable:s,slotsCount:r,isToday:n===e.toISOString().split("T")[0],isPast:l<e,isWeekend:0===l.getDay()||6===l.getDay()}),7===d.length&&(o.push(d),d=[])}for(;d.length<7&&d.length>0;)d.push(null);d.length>0&&o.push(d);const u=new Date(t,a,1),m=new Date(e.getFullYear(),e.getMonth(),1);return console.log("=== END CALENDAR GENERATION DEBUG ==="),{month:p.toLocaleDateString("fr-FR",{month:"long",year:"numeric"}),weeks:o,canGoPrevious:u>=m,canGoNext:!0}})();return e?(0,hn.jsxs)("div",{className:"calendar-month",children:[(0,hn.jsxs)("div",{className:"calendar-header",children:[(0,hn.jsx)("button",{type:"button",className:"btn btn-outline-light btn-sm calendar-nav-btn",onClick:F,disabled:!e.canGoPrevious,children:(0,hn.jsx)("i",{className:"fas fa-chevron-left"})}),(0,hn.jsx)("h6",{className:"month-title",children:e.month}),(0,hn.jsx)("button",{type:"button",className:"btn btn-outline-light btn-sm calendar-nav-btn",onClick:L,disabled:!e.canGoNext,children:(0,hn.jsx)("i",{className:"fas fa-chevron-right"})})]}),(0,hn.jsxs)("div",{className:"calendar-grid",children:[(0,hn.jsx)("div",{className:"calendar-day-headers",children:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map((e=>(0,hn.jsx)("div",{className:"day-header",children:e},e)))}),(0,hn.jsx)("div",{className:"calendar-days",children:e.weeks.map(((e,t)=>(0,hn.jsx)("div",{className:"calendar-week",children:e.map(((e,a)=>(0,hn.jsx)("div",{className:"calendar-day ".concat(e?"".concat(e.isAvailable?"available":"unavailable"," ").concat(e.isToday?"today":""," ").concat(e.isPast?"past":""," ").concat(e.isWeekend?"weekend":""," ").concat(u===e.dateString?"selected":""):"empty"," ").concat(w?"selecting":""),onClick:()=>I(e),style:{cursor:"pointer",pointerEvents:"auto",zIndex:10},children:e&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"day-number",children:e.day}),e.isAvailable&&(0,hn.jsxs)("span",{className:"slots-count",children:[e.slotsCount," slot",e.slotsCount>1?"s":""]}),e.isToday&&(0,hn.jsx)("span",{className:"today-indicator",children:"Aujourd'hui"})]})},"".concat(t,"-").concat(a))))},t)))})]}),(0,hn.jsx)("div",{className:"calendar-footer",children:(0,hn.jsxs)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:A,children:[(0,hn.jsx)("i",{className:"fas fa-calendar-day me-1"}),"Aujourd'hui"]})})]}):null})()})]})]})}),(0,hn.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[(0,hn.jsxs)("button",{type:"button",className:"btn btn-outline-secondary",onClick:a,children:[(0,hn.jsx)("i",{className:"fas fa-times me-1"})," Annuler"]}),u&&(0,hn.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:g||!r.selectedSlot,children:g?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Traitement en cours..."]}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("i",{className:"fas fa-check-circle me-1"})," Confirmer la r\xe9servation"]})})]})]})]})})]})})})})},_n=()=>{const[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)(!0),[r,l]=(0,n.useState)("");return(0,n.useEffect)((()=>{(async()=>{try{s(!0);const e=await cn.get("/api/packs");t(e.data),s(!1)}catch(e){console.error("Error fetching packs:",e),l("Failed to load available packs. Please try again later."),s(!1)}})()}),[]),a?(0,hn.jsxs)("div",{className:"text-center py-5",children:[(0,hn.jsx)("div",{className:"spinner-border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,hn.jsx)("p",{className:"mt-3",children:"Loading available packs..."})]}):r?(0,hn.jsx)("div",{className:"alert alert-danger",role:"alert",children:r}):(0,hn.jsxs)("div",{className:"public-packs-section py-5",children:[(0,hn.jsxs)("div",{className:"section-header text-center mb-5",children:[(0,hn.jsx)("h2",{className:"section-title",children:"Nos Packs"}),(0,hn.jsx)("p",{className:"section-subtitle",children:"D\xe9couvrez nos offres adapt\xe9es \xe0 vos besoins"})]}),(0,hn.jsxs)("div",{className:"row row-cols-1 row-cols-md-3 g-4",children:[e.map((e=>(0,hn.jsx)("div",{className:"col",children:(0,hn.jsxs)("div",{className:"card h-100 pack-card",children:[(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsxs)("h5",{className:"card-title",children:[e.name,(0,hn.jsxs)("span",{className:"badge bg-primary float-end",children:[e.points," points"]})]}),(0,hn.jsx)("div",{className:"text-center",children:(0,hn.jsxs)("div",{className:"price-tag",children:[(0,hn.jsx)("i",{className:"fas fa-tag me-2"}),e.price," DH"]})}),(0,hn.jsx)("ul",{className:"pack-features",children:e.description?e.description.split("\n").map(((e,t)=>e.trim()?(0,hn.jsxs)("li",{children:[(0,hn.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),e.trim()]},t):null)):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("li",{children:[(0,hn.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),e.points," points de coaching"]}),(0,hn.jsxs)("li",{children:[(0,hn.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),"R\xe9servez quand vous voulez"]}),(0,hn.jsxs)("li",{children:[(0,hn.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),"Acc\xe8s \xe0 tous les coachs"]})]})})]}),(0,hn.jsx)("div",{className:"card-footer",children:(0,hn.jsxs)("a",{href:"/login",className:"btn btn-primary w-100",children:[(0,hn.jsx)("i",{className:"fas fa-shopping-cart me-2"}),"Obtenir ce Pack"]})})]})},e.id))),0===e.length&&(0,hn.jsx)("div",{className:"col-12 text-center",children:(0,hn.jsxs)("div",{className:"alert alert-info",children:[(0,hn.jsx)("i",{className:"fas fa-info-circle me-2"}),"Aucun pack disponible pour le moment. Veuillez nous contacter pour plus d'informations."]})})]})]})};let En=null,Pn=null;const Tn="show-confirm-dialog",Dn="hide-confirm-dialog",Rn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((a,n)=>{const{title:s="Confirmation Required",confirmText:r="Confirm",cancelText:l="Cancel",type:i="warning"}=t;En=()=>a(!0),Pn=()=>a(!1);const o=new CustomEvent(Tn,{detail:{message:e,title:s,confirmText:r,cancelText:l,type:i}});window.dispatchEvent(o)}))},On=()=>{const[e,t]=(0,n.useState)(!1),[a,s]=(0,n.useState)({message:"",title:"Confirmation Required",confirmText:"Confirm",cancelText:"Cancel",type:"warning"});(0,n.useEffect)((()=>{const e=e=>{const{message:a,title:n,confirmText:r,cancelText:l,type:i}=e.detail;s({message:a,title:n,confirmText:r,cancelText:l,type:i}),t(!0)},a=()=>{t(!1)};return window.addEventListener(Tn,e),window.addEventListener(Dn,a),()=>{window.removeEventListener(Tn,e),window.removeEventListener(Dn,a)}}),[]);const r=(e=>{switch(e){case"warning":default:return{headerColor:"#FF9800",headerBg:"#FFF3E0",borderColor:"#FF9800",icon:"fas fa-exclamation-triangle"};case"danger":return{headerColor:"#F44336",headerBg:"#FFEBEE",borderColor:"#F44336",icon:"fas fa-exclamation-circle"};case"info":return{headerColor:"var(--highlight-color)",headerBg:"#1e1e1e",borderColor:"var(--highlight-color)",icon:"fas fa-info-circle"};case"success":return{headerColor:"#4CAF50",headerBg:"#E8F5E9",borderColor:"#4CAF50",icon:"fas fa-check-circle"}}})(a.type);return e?(0,hn.jsx)("div",{className:"confirm-dialog-backdrop",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,animation:"fadeIn 0.2s ease-out"},children:(0,hn.jsxs)("div",{className:"confirm-dialog",style:{backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",width:"90%",maxWidth:"450px",overflow:"hidden",animation:"zoomIn 0.2s ease-out",border:"1px solid ".concat(r.borderColor)},children:[(0,hn.jsxs)("div",{className:"confirm-dialog-header",style:{padding:"16px 20px",backgroundColor:r.headerBg,color:r.headerColor,fontWeight:"bold",fontSize:"1.1rem",display:"flex",alignItems:"center",borderBottom:"1px solid ".concat(r.borderColor)},children:[(0,hn.jsx)("i",{className:"".concat(r.icon," me-2")}),a.title]}),(0,hn.jsx)("div",{className:"confirm-dialog-body",style:{padding:"20px",fontSize:"1rem",lineHeight:"1.5"},children:a.message}),(0,hn.jsxs)("div",{className:"confirm-dialog-footer",style:{padding:"12px 20px",display:"flex",justifyContent:"flex-end",gap:"10px",borderTop:"1px solid #eee"},children:[(0,hn.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>{t(!1),Pn&&(Pn(),En=null,Pn=null)},style:{fontSize:"0.9rem",fontWeight:"500"},children:a.cancelText}),(0,hn.jsx)("button",{className:"btn ".concat("danger"===a.type?"btn-danger":"success"===a.type?"btn-success":"info"===a.type?"btn-info":"btn-warning"),onClick:()=>{t(!1),En&&(En(),En=null,Pn=null)},style:{fontSize:"0.9rem",fontWeight:"500"},children:a.confirmText})]})]})}):null},Fn=()=>{const{currentUser:e,updatePoints:t,logout:a}=(0,n.useContext)(pn),s=te(),[r,l]=(0,n.useState)(!0),[i,o]=(0,n.useState)([]),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(null);(0,n.useEffect)((()=>{h()}),[]);const h=async()=>{l(!0);try{const e=await cn.get("/api/group-courses");o(e.data)}catch(e){console.error("Error fetching group courses:",e),kn("Failed to load group courses. Please try again.",{type:"error",title:"Loading Error",duration:5e3})}finally{l(!1)}},f=e=>e?new Date(e).toLocaleDateString():"N/A",p=e=>{if(!e)return"N/A";try{const[t,a]=e.split(":");return new Date(2e3,0,1,t,a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch(Iu){return e}};return r?(0,hn.jsxs)("div",{className:"text-center my-5",children:[(0,hn.jsx)("div",{className:"spinner-border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,hn.jsx)("p",{className:"mt-2",children:"Loading group courses..."})]}):0===i.length?(0,hn.jsx)("div",{className:"alert alert-info my-4",children:"No group courses available at the moment. Please check back later."}):(0,hn.jsxs)("div",{className:"group-courses-container",children:[(0,hn.jsx)("div",{className:"mobile-nav-bar",children:(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,hn.jsxs)("div",{className:"mobile-user-info d-flex align-items-center",children:[(0,hn.jsx)("div",{className:"mobile-profile-picture",children:(0,hn.jsx)("i",{className:"fas fa-user-circle"})}),(0,hn.jsxs)("div",{className:"mobile-user-details",children:[(0,hn.jsx)("div",{className:"mobile-user-name",children:(null===e||void 0===e?void 0:e.username)||"Guest"}),e&&(0,hn.jsxs)("div",{className:"mobile-points-display",children:[(0,hn.jsxs)("span",{className:"points-item",children:[(0,hn.jsx)("i",{className:"fas fa-star"})," SP: ",e.solo_points||0]}),(0,hn.jsxs)("span",{className:"points-item",children:[(0,hn.jsx)("i",{className:"fas fa-users"})," TP: ",e.team_points||0]})]})]})]}),(0,hn.jsx)("div",{className:"mobile-nav-actions",children:(0,hn.jsx)("button",{className:"mobile-logout-btn",onClick:()=>{a("user"),s("/",{replace:!0})},title:"Logout",style:{background:"rgba(255, 255, 255, 0.15)",border:"2px solid rgba(255, 255, 255, 0.3)",borderRadius:"50%",width:"45px",height:"45px",color:"white",fontSize:"1.1rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,hn.jsx)("i",{className:"fas fa-sign-out-alt"})})})]})}),(0,hn.jsxs)("h2",{className:"section-title mb-4",children:[(0,hn.jsx)("i",{className:"fas fa-users me-2"}),"Group Courses"]}),(0,hn.jsx)("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:i.map((t=>{const a=((e,t)=>{if(!e||!t)return!1;const a=new Date,n=new Date(e),[s,r]=t.split(":").map(Number);return n.setHours(s,r,0,0),n>a})(t.date,t.time),n=(e=>e.current_participants>=e.max_participants)(t);return(0,hn.jsx)("div",{className:"col",children:(0,hn.jsxs)("div",{className:"card h-100",style:{border:"1px solid #e3f2fd",borderRadius:"12px",backgroundColor:"#fafffe",boxShadow:"0 2px 8px rgba(135, 206, 235, 0.15)",transition:"all 0.3s ease"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 16px rgba(135, 206, 235, 0.25)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(135, 206, 235, 0.15)"},children:[(0,hn.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",style:{background:"linear-gradient(135deg, #87ceeb 0%, #b0e0e6 100%)",color:"#2c5aa0",borderBottom:"1px solid #e3f2fd",borderRadius:"12px 12px 0 0",fontWeight:"600"},children:[(0,hn.jsx)("h5",{className:"card-title mb-0",style:{color:"#2c5aa0"},children:t.title}),n&&(0,hn.jsx)("span",{className:"badge",style:{backgroundColor:"#ffd54f",color:"#8d6e00"},children:"FULL"}),!a&&(0,hn.jsx)("span",{className:"badge",style:{backgroundColor:"#bdbdbd",color:"#424242"},children:"ENDED"}),!n&&a&&(0,hn.jsx)("span",{className:"badge",style:{backgroundColor:"#81c784",color:"#2e7d32"},children:"OPEN"})]}),(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsxs)("div",{className:"coach-info d-flex align-items-center mb-3",children:[(0,hn.jsx)("img",{src:t.photo||"https://via.placeholder.com/50x50?text=Coach",alt:t.coach_name,className:"rounded-circle me-2",style:{width:"50px",height:"50px",objectFit:"cover",border:"2px solid #87ceeb"}}),(0,hn.jsxs)("div",{children:[(0,hn.jsxs)("span",{style:{color:"#2c5aa0",fontWeight:"600"},children:["Coach: ",t.coach_name]}),(0,hn.jsx)("br",{}),(0,hn.jsx)("small",{style:{color:"#87ceeb",fontStyle:"italic"},children:t.specialty})]})]}),(0,hn.jsx)("div",{className:"mb-3",children:(0,hn.jsx)("p",{className:"card-text",style:{color:"#546e7a",lineHeight:"1.5"},children:t.description})}),(0,hn.jsxs)("div",{className:"course-details",children:[(0,hn.jsxs)("div",{className:"mb-2",children:[(0,hn.jsx)("i",{className:"far fa-calendar-alt me-2",style:{color:"#87ceeb"}}),(0,hn.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Date:"})," ",(0,hn.jsx)("span",{style:{color:"#37474f"},children:f(t.date)})]}),(0,hn.jsxs)("div",{className:"mb-2",children:[(0,hn.jsx)("i",{className:"far fa-clock me-2",style:{color:"#87ceeb"}}),(0,hn.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Time:"})," ",(0,hn.jsx)("span",{style:{color:"#37474f"},children:p(t.time)})]}),(0,hn.jsxs)("div",{className:"mb-2",children:[(0,hn.jsx)("i",{className:"fas fa-hourglass-half me-2",style:{color:"#87ceeb"}}),(0,hn.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Duration:"})," ",(0,hn.jsxs)("span",{style:{color:"#37474f"},children:[t.duration," minutes"]})]}),(0,hn.jsxs)("div",{className:"mb-2",children:[(0,hn.jsx)("i",{className:"fas fa-users me-2",style:{color:"#87ceeb"}}),(0,hn.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Participants:"})," ",(0,hn.jsxs)("span",{style:{color:"#37474f"},children:[t.current_participants,"/",t.max_participants]}),(0,hn.jsx)("div",{className:"progress mt-1",style:{height:"6px",backgroundColor:"#e3f2fd",borderRadius:"3px"},children:(0,hn.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t.current_participants/t.max_participants*100,"%"),backgroundColor:n?"#ff8a65":"#87ceeb",borderRadius:"3px"},"aria-valuenow":t.current_participants,"aria-valuemin":"0","aria-valuemax":t.max_participants})})]}),(0,hn.jsxs)("div",{className:"mb-2",children:[(0,hn.jsx)("i",{className:"fas fa-coins me-2",style:{color:"#87ceeb"}}),(0,hn.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Cost:"})," ",(0,hn.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"600"},children:"1 Team Point (TP)"})]})]})]}),(0,hn.jsx)("div",{className:"card-footer",style:{backgroundColor:"#f8fcff",borderTop:"1px solid #e3f2fd",borderRadius:"0 0 12px 12px"},children:(0,hn.jsx)("button",{className:"btn w-100",style:{backgroundColor:n?"#ffd54f":a?"#87ceeb":"#bdbdbd",color:n?"#8d6e00":a?"#2c5aa0":"#424242",border:"none",borderRadius:"8px",fontWeight:"600",padding:"10px 16px",transition:"all 0.3s ease",cursor:n||!a?"not-allowed":"pointer"},onClick:()=>(t=>{e?(m(t),d(!0)):kn("Please log in to book a group course.",{type:"warning",title:"Login Required",duration:5e3})})(t),disabled:n||!a,onMouseEnter:e=>{!n&&a&&(e.currentTarget.style.backgroundColor="#b0e0e6",e.currentTarget.style.transform="translateY(-1px)")},onMouseLeave:e=>{!n&&a&&(e.currentTarget.style.backgroundColor="#87ceeb",e.currentTarget.style.transform="translateY(0)")},children:n?"Course Full":a?"Book Now":"Course Ended"})})]})},t.id)}))}),c&&u&&(0,hn.jsx)("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,hn.jsx)("div",{className:"modal-dialog",children:(0,hn.jsxs)("div",{className:"modal-content",style:{borderRadius:"12px",border:"1px solid #e3f2fd"},children:[(0,hn.jsxs)("div",{className:"modal-header",style:{background:"linear-gradient(135deg, #87ceeb 0%, #b0e0e6 100%)",color:"#2c5aa0",borderBottom:"1px solid #e3f2fd",borderRadius:"12px 12px 0 0"},children:[(0,hn.jsx)("h5",{className:"modal-title",style:{color:"#2c5aa0",fontWeight:"600"},children:"Confirm Booking"}),(0,hn.jsx)("button",{type:"button",className:"btn-close",onClick:()=>d(!1),style:{filter:"invert(1)"}})]}),(0,hn.jsxs)("div",{className:"modal-body",style:{backgroundColor:"#fafffe"},children:[(0,hn.jsx)("p",{style:{color:"#546e7a"},children:"You're about to book a spot in the following group course:"}),(0,hn.jsx)("div",{className:"card mb-3",style:{border:"1px solid #e3f2fd",borderRadius:"8px",backgroundColor:"#f8fcff"},children:(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsx)("h5",{className:"card-title",style:{color:"#2c5aa0"},children:u.title}),(0,hn.jsxs)("p",{className:"card-text",style:{color:"#37474f"},children:[(0,hn.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Coach:"})," ",u.coach_name,(0,hn.jsx)("br",{}),(0,hn.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Date:"})," ",f(u.date),(0,hn.jsx)("br",{}),(0,hn.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Time:"})," ",p(u.time),(0,hn.jsx)("br",{}),(0,hn.jsx)("span",{style:{color:"#2c5aa0",fontWeight:"500"},children:"Duration:"})," ",u.duration," minutes"]})]})}),(0,hn.jsxs)("div",{className:"alert",style:{backgroundColor:"#e3f2fd",border:"1px solid #87ceeb",borderRadius:"8px",color:"#2c5aa0"},children:[(0,hn.jsx)("i",{className:"fas fa-info-circle me-2",style:{color:"#87ceeb"}}),"This booking will cost ",(0,hn.jsx)("span",{style:{fontWeight:"600"},children:"1 Team Point (TP)"}),". Your current TP balance: ",(0,hn.jsx)("span",{style:{fontWeight:"600"},children:(null===e||void 0===e?void 0:e.team_points)||0})]})]}),(0,hn.jsxs)("div",{className:"modal-footer",style:{backgroundColor:"#f8fcff",borderTop:"1px solid #e3f2fd",borderRadius:"0 0 12px 12px"},children:[(0,hn.jsx)("button",{type:"button",className:"btn",style:{backgroundColor:"#f5f5f5",color:"#424242",border:"1px solid #bdbdbd",borderRadius:"8px",padding:"8px 16px",fontWeight:"500"},onClick:()=>d(!1),children:"Cancel"}),(0,hn.jsx)("button",{type:"button",className:"btn",style:{backgroundColor:!e||(e.team_points||0)<1?"#bdbdbd":"#87ceeb",color:!e||(e.team_points||0)<1?"#424242":"#2c5aa0",border:"none",borderRadius:"8px",padding:"8px 16px",fontWeight:"600",cursor:!e||(e.team_points||0)<1?"not-allowed":"pointer"},onClick:async()=>{try{const a=await cn.post("/api/group-courses/".concat(u.id,"/book"));void 0!==a.data.remaining_team_points&&t(Ie(Ie({},e),{},{points:a.data.remaining_points,solo_points:a.data.remaining_solo_points,team_points:a.data.remaining_team_points})),kn("Group course booked successfully! One Team Point (TP) has been deducted from your account.",{type:"success",title:"Booking Confirmed",duration:5e3}),h(),d(!1)}catch(l){var a,n,s,r;if(console.error("Error booking group course:",l),"Not enough team points"===(null===(a=l.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error))kn("You don't have enough Team Points (TP). Current TP: ".concat(l.response.data.current,", Required: ").concat(l.response.data.required),{type:"error",title:"Insufficient Points",duration:7e3});else kn("Failed to book group course: ".concat((null===(s=l.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.error)||l.message),{type:"error",title:"Booking Failed",duration:7e3})}},disabled:!e||(e.team_points||0)<1,children:!e||(e.team_points||0)<1?"Not Enough TP":"Confirm Booking"})]})]})})})]})},Ln=e=>{let{currentView:t,onViewChange:a}=e;const{currentUser:s}=(0,n.useContext)(pn),r=te(),l=Z(),i=(()=>{const e=l.pathname;return"/"===e||"/home"===e?!t||"courses"!==t&&"individual-courses"!==t&&"group-courses"!==t?"home":"courses":"/profile"===e?"profile":"/packs"===e?"packs":e.includes("/coaches")||e.includes("/group-courses")?"courses":t||"home"})(),o=e=>{switch(e){case"home":"/"===l.pathname||"/home"===l.pathname?a&&a("home"):r("/");break;case"courses":"/"===l.pathname||"/home"===l.pathname?a&&a("courses"):r("/",{state:{mobileView:"courses"}});break;case"packs":r("/packs");break;case"profile":r("/profile")}};return(0,hn.jsx)("nav",{className:"mobile-bottom-nav",children:(0,hn.jsxs)("div",{className:"mobile-nav-grid",children:[(0,hn.jsxs)("button",{className:"mobile-nav-item ".concat("home"===i?"active":""),onClick:()=>o("home"),children:[(0,hn.jsx)("i",{className:"mobile-nav-icon fas fa-home"}),(0,hn.jsx)("span",{className:"mobile-nav-label",children:"Accueil"})]}),(0,hn.jsxs)("button",{className:"mobile-nav-item ".concat("courses"===i?"active":""),onClick:()=>o("courses"),children:[(0,hn.jsx)("i",{className:"mobile-nav-icon fas fa-users"}),(0,hn.jsx)("span",{className:"mobile-nav-label",children:"Cours"})]}),(0,hn.jsxs)("button",{className:"mobile-nav-item ".concat("packs"===i?"active":""),onClick:()=>o("packs"),children:[(0,hn.jsx)("i",{className:"mobile-nav-icon fas fa-gift"}),(0,hn.jsx)("span",{className:"mobile-nav-label",children:"Packs"})]}),s?(0,hn.jsxs)("button",{className:"mobile-nav-item ".concat("profile"===i?"active":""),onClick:()=>o("profile"),children:[(0,hn.jsx)("i",{className:"mobile-nav-icon fas fa-user"}),(0,hn.jsx)("span",{className:"mobile-nav-label",children:"Profil"})]}):(0,hn.jsxs)(Ee,{to:"/login",className:"mobile-nav-item",children:[(0,hn.jsx)("i",{className:"mobile-nav-icon fas fa-sign-in-alt"}),(0,hn.jsx)("span",{className:"mobile-nav-label",children:"Connexion"})]})]})})},An=()=>{const[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)(null),[r,l]=(0,n.useState)(!0),i=(0,n.useRef)(null),o=(0,n.useRef)(null),{currentUser:c,isUser:d,logout:u}=(0,n.useContext)(pn),m=te(),h=Z(),[f,p]=(0,n.useState)("home"),[x,v]=(0,n.useState)(window.innerWidth<768);(0,n.useEffect)((()=>{const e=()=>{v(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,n.useEffect)((()=>{h.state&&h.state.mobileView&&p(h.state.mobileView)}),[h.state]);const[b,g]=(0,n.useState)(!1),j=e=>{u(e),m("/",{replace:!0})};(0,n.useEffect)((()=>{if(c&&d){const e=JSON.parse(localStorage.getItem("clientUser")||"{}");e.points!==c.points&&(console.log("Points updated from",c.points,"to",e.points),g(!0),setTimeout((()=>g(!1)),3e3))}const e=e=>{if(console.log("Points update event received:",e.detail),c&&d&&e.detail&&void 0!==e.detail.points){const t=JSON.parse(localStorage.getItem("clientUser")||"{}");t.points!==e.detail.points&&(t.points=e.detail.points,localStorage.setItem("clientUser",JSON.stringify(t)),g(!0),setTimeout((()=>g(!1)),3e3),window.location.reload())}};return window.addEventListener("pointsUpdated",e),()=>{window.removeEventListener("pointsUpdated",e)}}),[null===c||void 0===c?void 0:c.points,d,c]);const y=()=>{document.getElementById("coaches-section").scrollIntoView({behavior:"smooth"})};(0,n.useEffect)((()=>{N(),i.current&&i.current.play().catch((e=>{console.log("Video autoplay was prevented:",e)}));const e=()=>{const e=document.querySelector(".modern-header");e&&(window.scrollY>50?e.classList.add("scrolled"):e.classList.remove("scrolled"))};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]);const N=async()=>{try{console.log("Fetching coaches from /api/coaches...");const e=await jn.get("/api/coaches");console.log("Coaches fetched successfully:",e.data),t(e.data)}catch(a){var e;console.error("Error fetching coaches:",(null===(e=a.response)||void 0===e?void 0:e.data)||a.message),t([])}finally{l(!1)}},w=e=>{s(e)},k=()=>{s(null)},S=()=>{N()};if(r)return(0,hn.jsx)("div",{className:"container mt-5",children:(0,hn.jsxs)("div",{className:"spinner-container",children:[(0,hn.jsxs)("div",{className:"spinner-border",role:"status",children:["            ",(0,hn.jsx)("span",{className:"visually-hidden",children:"Chargement..."})]}),(0,hn.jsx)("p",{className:"mt-3",children:"Chargement des coachs..."})]})});const C=e=>{"profile"===e?m("/profile"):"packs"===e?m("/packs"):p(e)};return r?x?(0,hn.jsx)("div",{className:"mobile-app-container",children:(0,hn.jsxs)("div",{className:"mobile-loading",children:[(0,hn.jsx)("div",{className:"mobile-loading-spinner"}),(0,hn.jsx)("p",{children:"Chargement..."})]})}):(0,hn.jsx)("div",{className:"container mt-5",children:(0,hn.jsxs)("div",{className:"spinner-container",children:[(0,hn.jsx)("div",{className:"spinner-border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Chargement..."})}),(0,hn.jsx)("p",{className:"mt-3",children:"Chargement des coachs..."})]})}):x?(0,hn.jsxs)("div",{className:"mobile-app-container",children:[(0,hn.jsx)("header",{className:"mobile-app-header",children:(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,hn.jsxs)(Ee,{to:"/",className:"brand",children:[(0,hn.jsx)("img",{src:"/logo_white.png",alt:"Suite Coaching"}),"Suite Coaching"]}),c?(0,hn.jsxs)("div",{className:"dropdown",children:[(0,hn.jsx)("button",{className:"btn p-0 mobile-user-dropdown",type:"button",id:"mobileUserDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,hn.jsx)("div",{className:"user-avatar",children:(0,hn.jsx)("i",{className:"fas fa-user"})})}),(0,hn.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end mobile-dropdown-menu","aria-labelledby":"mobileUserDropdown",children:[(0,hn.jsx)("li",{children:(0,hn.jsxs)("div",{className:"dropdown-item-text mobile-user-info",children:[(0,hn.jsx)("div",{className:"mobile-user-name",children:c.username}),(0,hn.jsx)("div",{className:"mobile-user-email",children:c.email})]})}),(0,hn.jsx)("li",{children:(0,hn.jsx)("hr",{className:"dropdown-divider"})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)("button",{className:"dropdown-item mobile-logout-item",onClick:()=>j("user"),children:[(0,hn.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"D\xe9connexion"]})})]})]}):(0,hn.jsx)(Ee,{to:"/login",className:"btn btn-sm btn-light",children:"Connexion"})]})}),(0,hn.jsxs)("div",{className:"mobile-app-content",children:["home"===f&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("div",{className:"mobile-video-hero",children:[(0,hn.jsxs)("video",{className:"mobile-video-background",loop:!0,muted:!0,autoPlay:!0,playsInline:!0,children:[(0,hn.jsx)("source",{src:"/Video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,hn.jsxs)("div",{className:"mobile-video-overlay",children:[(0,hn.jsxs)("h1",{className:"mobile-hero-title",children:["Transformez Votre ",(0,hn.jsx)("span",{style:{color:"var(--highlight-color)"},children:"Potentiel"})]}),(0,hn.jsx)("p",{className:"mobile-hero-subtitle",children:"Chaque entra\xeenement vous rapproche de votre\xa0objectif"}),(0,hn.jsx)("button",{className:"mobile-hero-btn",onClick:()=>p("individual-courses"),children:"R\xe9server une s\xe9ance"})]})]}),c&&d&&(0,hn.jsxs)("div",{className:"mobile-points-section",children:[(0,hn.jsx)("h6",{className:"mb-0",children:"Vos Cr\xe9dits"}),(0,hn.jsxs)("div",{className:"mobile-points-grid",children:[(0,hn.jsxs)("div",{className:"mobile-point-card",children:[(0,hn.jsx)("div",{className:"mobile-point-value",children:JSON.parse(localStorage.getItem("clientUser")||"{}").solo_points||c.solo_points||0}),(0,hn.jsx)("div",{className:"mobile-point-label",children:"Solo Points"})]}),(0,hn.jsxs)("div",{className:"mobile-point-card",children:[(0,hn.jsx)("div",{className:"mobile-point-value",children:JSON.parse(localStorage.getItem("clientUser")||"{}").team_points||c.team_points||0}),(0,hn.jsx)("div",{className:"mobile-point-label",children:"Team Points"})]})]})]}),(0,hn.jsxs)("div",{className:"mobile-content-section",children:[(0,hn.jsxs)("div",{className:"mobile-section-header",children:[(0,hn.jsx)("i",{className:"fas fa-bolt me-2"}),"Actions Rapides"]}),(0,hn.jsx)("div",{className:"mobile-section-content",children:(0,hn.jsxs)("div",{className:"row g-3",children:[(0,hn.jsx)("div",{className:"col-6",children:(0,hn.jsxs)("button",{className:"mobile-quick-action-card",onClick:()=>p("individual-courses"),children:[(0,hn.jsx)("div",{className:"mobile-action-icon",children:(0,hn.jsx)("i",{className:"fas fa-user"})}),(0,hn.jsx)("div",{className:"mobile-action-text",children:"R\xe9server Coach"})]})}),(0,hn.jsx)("div",{className:"col-6",children:(0,hn.jsxs)("button",{className:"mobile-quick-action-card",onClick:()=>p("group-courses"),children:[(0,hn.jsx)("div",{className:"mobile-action-icon",children:(0,hn.jsx)("i",{className:"fas fa-users"})}),(0,hn.jsx)("div",{className:"mobile-action-text",children:"Cours Groupe"})]})}),(0,hn.jsx)("div",{className:"col-6",children:(0,hn.jsxs)("button",{className:"mobile-quick-action-card",onClick:()=>C("packs"),children:[(0,hn.jsx)("div",{className:"mobile-action-icon",children:(0,hn.jsx)("i",{className:"fas fa-gift"})}),(0,hn.jsx)("div",{className:"mobile-action-text",children:"Voir Packs"})]})}),c&&d&&(0,hn.jsx)("div",{className:"col-6",children:(0,hn.jsxs)("button",{className:"mobile-quick-action-card",onClick:()=>C("profile"),children:[(0,hn.jsx)("div",{className:"mobile-action-icon",children:(0,hn.jsx)("i",{className:"fas fa-user-circle"})}),(0,hn.jsx)("div",{className:"mobile-action-text",children:"Mon Profil"})]})}),!c&&(0,hn.jsx)("div",{className:"col-6",children:(0,hn.jsxs)("button",{className:"mobile-quick-action-card",onClick:()=>m("/login"),children:[(0,hn.jsx)("div",{className:"mobile-action-icon",children:(0,hn.jsx)("i",{className:"fas fa-sign-in-alt"})}),(0,hn.jsx)("div",{className:"mobile-action-text",children:"Se Connecter"})]})})]})})]})]}),"courses"===f&&(0,hn.jsxs)("div",{className:"mobile-content-section",children:[(0,hn.jsxs)("div",{className:"mobile-section-header",children:[(0,hn.jsx)("i",{className:"fas fa-graduation-cap me-2"}),"Nos Cours"]}),(0,hn.jsx)("div",{className:"mobile-section-content",children:(0,hn.jsx)("div",{className:"mobile-course-types",children:(0,hn.jsxs)("div",{className:"row g-3",children:[(0,hn.jsx)("div",{className:"col-6",children:(0,hn.jsxs)("button",{className:"mobile-course-type-card",onClick:()=>p("individual-courses"),children:[(0,hn.jsx)("div",{className:"mobile-course-icon",children:(0,hn.jsx)("i",{className:"fas fa-user"})}),(0,hn.jsx)("div",{className:"mobile-course-type-title",children:"Cours Individuel"}),(0,hn.jsx)("div",{className:"mobile-course-type-desc",children:"Coaching personnalis\xe9"})]})}),(0,hn.jsx)("div",{className:"col-6",children:(0,hn.jsxs)("button",{className:"mobile-course-type-card",onClick:()=>p("group-courses"),children:[(0,hn.jsx)("div",{className:"mobile-course-icon",children:(0,hn.jsx)("i",{className:"fas fa-users"})}),(0,hn.jsx)("div",{className:"mobile-course-type-title",children:"Cours de Groupe"}),(0,hn.jsx)("div",{className:"mobile-course-type-desc",children:"Sessions collectives"})]})})]})})})]}),"individual-courses"===f&&(0,hn.jsxs)("div",{className:"mobile-content-section",children:[(0,hn.jsxs)("div",{className:"mobile-section-header",children:[(0,hn.jsx)("button",{onClick:()=>p("courses"),className:"btn btn-link p-0 me-2 text-decoration-none",style:{color:"var(--highlight-color)"},children:(0,hn.jsx)("i",{className:"fas fa-arrow-left"})}),(0,hn.jsx)("i",{className:"fas fa-user me-2"}),"Cours Individuel"]}),(0,hn.jsx)("div",{className:"mobile-section-content",children:e.length>0?(0,hn.jsx)("div",{className:"mobile-coach-list",children:e.map((e=>(0,hn.jsx)("div",{className:"mobile-coach-item",onClick:()=>w(e),children:(0,hn.jsxs)("div",{className:"mobile-coach-content",children:[(0,hn.jsxs)("div",{className:"mobile-coach-header",children:[(0,hn.jsx)("img",{src:e.photo||"https://via.placeholder.com/60x60?text=Coach",alt:e.name,className:"mobile-coach-photo"}),(0,hn.jsxs)("div",{className:"mobile-coach-info",children:[(0,hn.jsx)("div",{className:"mobile-coach-name",children:e.name}),(0,hn.jsx)("div",{className:"mobile-coach-specialty",children:e.specialty})]}),(0,hn.jsx)("div",{className:"mobile-coach-action",children:(0,hn.jsx)("i",{className:"fas fa-chevron-right"})})]}),e.bio&&(0,hn.jsx)("div",{className:"mobile-coach-description",children:e.bio.length>120?"".concat(e.bio.substring(0,120),"..."):e.bio}),(0,hn.jsxs)("div",{className:"mobile-coach-features",children:[(0,hn.jsxs)("span",{className:"mobile-feature-tag",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-check me-1"}),"Disponible"]}),(0,hn.jsxs)("span",{className:"mobile-feature-tag",children:[(0,hn.jsx)("i",{className:"fas fa-user me-1"}),"Pr\xe9sentiel"]})]})]})},e.id)))}):(0,hn.jsxs)("div",{className:"mobile-empty-state",children:[(0,hn.jsx)("div",{className:"mobile-empty-icon",children:(0,hn.jsx)("i",{className:"fas fa-user-slash"})}),(0,hn.jsx)("div",{className:"mobile-empty-title",children:"Aucun coach disponible"}),(0,hn.jsx)("div",{className:"mobile-empty-text",children:"Veuillez revenir plus tard"})]})})]}),"group-courses"===f&&(0,hn.jsxs)("div",{className:"mobile-content-section",children:[(0,hn.jsxs)("div",{className:"mobile-section-header",children:[(0,hn.jsx)("button",{onClick:()=>p("courses"),className:"btn btn-link p-0 me-2 text-decoration-none",style:{color:"var(--highlight-color)"},children:(0,hn.jsx)("i",{className:"fas fa-arrow-left"})}),(0,hn.jsx)("i",{className:"fas fa-users me-2"}),"Cours de Groupe"]}),(0,hn.jsx)("div",{className:"mobile-section-content",children:(0,hn.jsx)(Fn,{})})]}),"packs"===f&&(0,hn.jsxs)("div",{className:"mobile-content-section",children:[(0,hn.jsxs)("div",{className:"mobile-section-header",children:[(0,hn.jsx)("i",{className:"fas fa-gift me-2"}),"Nos Packs"]}),(0,hn.jsx)("div",{className:"mobile-section-content",children:(0,hn.jsx)(_n,{})})]})]}),(0,hn.jsx)(Ln,{currentView:f,onViewChange:p}),a&&(0,hn.jsx)(Cn,{coach:a,onClose:k,onSuccess:S})]}):(0,hn.jsxs)("div",{className:"main-wrapper desktop-only",children:[(0,hn.jsx)("header",{className:"modern-header",children:(0,hn.jsx)("div",{className:"container",children:(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,hn.jsx)("div",{className:"brand",children:(0,hn.jsxs)(Ee,{to:"/",className:"brand-link",children:[(0,hn.jsx)("img",{src:"/logo_white.png",alt:"Suite Coaching",className:"brand-logo"}),(0,hn.jsx)("span",{className:"brand-text",children:"Suite Coaching"})]})}),(0,hn.jsx)("div",{className:"user-profile",children:c?(0,hn.jsxs)("div",{className:"dropdown",children:[(0,hn.jsxs)("button",{className:"btn dropdown-toggle user-button",type:"button",id:"userDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:[(0,hn.jsx)("span",{className:"user-avatar me-2",children:(0,hn.jsx)("i",{className:"fas fa-user-circle"})}),(0,hn.jsx)("span",{className:"user-name",children:c.username})]}),(0,hn.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"userDropdown",children:[(0,hn.jsx)("li",{children:(0,hn.jsxs)("a",{className:"dropdown-item",href:"profile",children:[(0,hn.jsx)("i",{className:"fas fa-id-card me-2"}),"Profil"]})}),(0,hn.jsx)("li",{children:(0,hn.jsx)("hr",{className:"dropdown-divider"})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)("button",{className:"dropdown-item",onClick:()=>j("user"),children:[(0,hn.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"D\xe9connexion"]})})]})]}):(0,hn.jsxs)(Ee,{to:"/login",className:"btn login-button",children:[(0,hn.jsx)("i",{className:"fas fa-sign-in-alt me-2"}),"Connexion"]})})]})})}),(0,hn.jsxs)("div",{className:"video-hero-section",children:[(0,hn.jsxs)("video",{ref:i,className:"video-background fullscreen-video",loop:!0,muted:!0,autoPlay:!0,playsInline:!0,children:[(0,hn.jsx)("source",{src:"/Video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,hn.jsxs)("div",{className:"video-overlay",children:[c&&d&&(0,hn.jsxs)("div",{className:"points-display ".concat(b?"points-updated":""),children:[(0,hn.jsx)("i",{className:"fas fa-star me-2"}),(0,hn.jsxs)("strong",{children:["Vos Cr\xe9dits:",(0,hn.jsxs)("span",{className:"mx-1",title:"Solo Points (Points individuels)",children:["SP: ",JSON.parse(localStorage.getItem("clientUser")||"{}").solo_points||c.solo_points||0]}),"|",(0,hn.jsxs)("span",{className:"mx-1",title:"Team Points (Points de groupe)",children:["TP: ",JSON.parse(localStorage.getItem("clientUser")||"{}").team_points||c.team_points||0]})]}),b&&(0,hn.jsx)("span",{className:"ms-2 points-updated-badge",children:"Mis \xe0 jour!"})]}),(0,hn.jsxs)("div",{className:"hero-content text-center",children:[(0,hn.jsxs)("h1",{className:"hero-title",children:["Transformez Votre ",(0,hn.jsx)("span",{className:"highlight",children:"Potentiel"})]}),(0,hn.jsx)("p",{className:"hero-subtitle",children:"Chaque entra\xeenement vous rapproche de votre\xa0objectif"}),(0,hn.jsxs)("div",{className:"btn-actions-container",children:[(0,hn.jsxs)("button",{className:"btn-book-now",onClick:()=>y(),children:[(0,hn.jsx)("span",{className:"btn-text",children:"R\xe9servez une S\xe9ance"}),(0,hn.jsx)("span",{className:"btn-icon",children:(0,hn.jsx)("i",{className:"fas fa-arrow-right"})})]}),(0,hn.jsxs)("button",{className:"btn-view-packs ms-3",onClick:()=>{o.current&&o.current.scrollIntoView({behavior:"smooth"})},children:[(0,hn.jsx)("span",{className:"btn-text",children:"Voir Nos Packs"}),(0,hn.jsx)("span",{className:"btn-icon",children:(0,hn.jsx)("i",{className:"fas fa-gift"})})]})]}),(0,hn.jsx)("div",{className:"sound-control",children:(0,hn.jsx)("button",{className:"btn-sound sound-icon-transition",onClick:()=>{i.current&&(i.current.muted?(i.current.muted=!1,document.querySelector(".sound-control i").className="fas fa-volume-up"):(i.current.muted=!0,document.querySelector(".sound-control i").className="fas fa-volume-mute"))},children:(0,hn.jsx)("i",{className:"fas fa-volume-mute"})})}),(0,hn.jsx)("div",{className:"scroll-arrow",onClick:()=>y(),children:(0,hn.jsx)("i",{className:"fas fa-chevron-down"})})]})]})]}),(0,hn.jsx)("section",{className:"premium-section",children:(0,hn.jsxs)("div",{id:"coaches-section",className:"container slide-up",children:[(0,hn.jsxs)("div",{className:"page-header",children:[(0,hn.jsx)("h2",{className:"display-4 mb-3",style:{color:"var(--secondary-color)"},children:"Services de Coaching Professionnel"}),(0,hn.jsx)("div",{className:"section-separator"}),(0,hn.jsx)("p",{className:"lead",style:{color:"var(--text-color)"},children:"Connectez-vous avec nos coachs exp\xe9riment\xe9s pour atteindre vos objectifs personnels et professionnels"}),d&&c&&(0,hn.jsx)("div",{className:"client-points-display mb-4",children:(0,hn.jsx)("div",{className:"card shadow-sm border-0",style:{background:"rgba(30, 30, 30, 0.03)"},children:(0,hn.jsxs)("div",{className:"card-body text-center",children:[(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-star me-2",style:{color:"var(--highlight-color)"}}),"Vos Cr\xe9dits:",(0,hn.jsxs)("span",{className:"badge bg-primary mx-1",title:"Solo Points (Points individuels)",children:["SP: ",c.solo_points||0]}),(0,hn.jsxs)("span",{className:"badge bg-success mx-1",title:"Team Points (Points de groupe)",children:["TP: ",c.team_points||0]})]}),(0,hn.jsx)("p",{className:"small mt-2 mb-0",style:{color:"var(--text-color)"},children:"SP pour les s\xe9ances individuelles | TP pour les cours de groupe"})]})})})]}),(0,hn.jsx)("div",{className:"row",children:e.map((e=>(0,hn.jsx)(yn,{coach:e,onReserve:w},e.id)))}),0===e.length&&(0,hn.jsxs)("div",{className:"text-center mt-5 p-5 rounded-3 shadow-sm",style:{background:"rgba(30, 30, 30, 0.05)"},children:[(0,hn.jsx)("i",{className:"fas fa-user-slash fa-3x mb-3",style:{color:"var(--highlight-color)"}}),(0,hn.jsx)("h3",{style:{color:"var(--secondary-color)"},children:"Aucun coach disponible pour le moment"}),(0,hn.jsx)("p",{style:{color:"var(--text-color)",opacity:.7},children:"Veuillez revenir plus tard ou nous contacter pour plus d'informations."})]}),a&&(0,hn.jsx)(Cn,{coach:a,onClose:k,onSuccess:S})]})}),(0,hn.jsx)("section",{className:"premium-section group-courses-section mb-5",children:(0,hn.jsxs)("div",{className:"container slide-up",children:[(0,hn.jsxs)("div",{className:"page-header",children:[(0,hn.jsx)("h2",{className:"display-4 mb-3",style:{color:"var(--secondary-color)"},children:"Cours de Groupe"}),(0,hn.jsx)("div",{className:"section-separator"}),(0,hn.jsx)("p",{className:"lead",style:{color:"var(--text-color)"},children:"Rejoignez nos cours de groupe anim\xe9s par nos coachs professionnels pour une exp\xe9rience collaborative"})]}),(0,hn.jsx)("div",{className:"group-courses-container",children:(0,hn.jsx)(Fn,{})})]})}),(0,hn.jsx)("section",{ref:o,className:"packs-section-wrapper",children:(0,hn.jsx)(_n,{})})]})},In=e=>{let{redirectPath:t="/admin"}=e;const[a,s]=(0,n.useState)({matricule:"",password:""}),[r,l]=(0,n.useState)(""),[i,o]=(0,n.useState)(!1),c=te(),{adminUser:d,login:u}=(0,n.useContext)(pn);(0,n.useEffect)((()=>{d&&c(t)}),[d,c,t]),(0,n.useEffect)((()=>(window.innerWidth<768&&(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.body.style.height="100vh",document.documentElement.style.height="100vh",document.body.style.margin="0",document.body.style.padding="0",document.documentElement.style.margin="0",document.documentElement.style.padding="0",document.body.classList.add("mobile-login-active")),()=>{document.body.style.overflow="",document.documentElement.style.overflow="",document.body.style.height="",document.documentElement.style.height="",document.body.style.margin="",document.body.style.padding="",document.documentElement.style.margin="",document.documentElement.style.padding="",document.body.classList.remove("mobile-login-active")})),[]);const m=e=>{const{name:t,value:a}=e.target;s((e=>Ie(Ie({},e),{},{[t]:a})))};return(0,hn.jsx)("div",{className:"container mt-5 mobile-login-page",children:(0,hn.jsx)("div",{className:"row justify-content-center",children:(0,hn.jsx)("div",{className:"col-md-6 col-lg-4",children:(0,hn.jsx)("div",{className:"card shadow mobile-admin-login-card",children:(0,hn.jsxs)("div",{className:"card-body p-4",children:[(0,hn.jsxs)("div",{className:"text-center mb-4",children:[(0,hn.jsx)("div",{className:"mobile-login-icon admin-icon",children:(0,hn.jsx)("i",{className:"fas fa-user-shield"})}),(0,hn.jsx)("h2",{className:"mobile-login-title",children:"Administration"}),(0,hn.jsx)("p",{className:"mobile-login-subtitle",children:"Acc\xe8s r\xe9serv\xe9 aux administrateurs"})]}),r&&(0,hn.jsxs)("div",{className:"alert alert-danger mobile-login-alert",role:"alert",children:[(0,hn.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),r]}),(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(""),o(!0);try{console.log("Attempting admin login with:",a);try{await u(a.matricule,a.password),console.log("Auth context updated, redirecting to:",t),c(t)}catch(i){var n,s;console.error("Server login failed:",i),null!==(n=i.response)&&void 0!==n&&null!==(s=n.data)&&void 0!==s&&s.error?l(i.response.data.error):"Network Error"===i.message?l("Impossible de se connecter au serveur. Veuillez v\xe9rifier votre connexion internet et r\xe9essayer."):l("Une erreur est survenue lors de la connexion. Veuillez r\xe9essayer plus tard.")}}catch(r){console.error("Login process error:",r),l("Login process failed. Please try again.")}finally{o(!1)}},children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label mobile-form-label",children:"Matricule"}),(0,hn.jsxs)("div",{className:"input-group mobile-input-group",children:[(0,hn.jsx)("span",{className:"input-group-text mobile-input-icon",children:(0,hn.jsx)("i",{className:"fas fa-id-card"})}),(0,hn.jsx)("input",{type:"text",className:"form-control mobile-form-input",name:"matricule",value:a.matricule,onChange:m,required:!0,placeholder:"Votre matricule"})]})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label mobile-form-label",children:"Mot de passe"}),(0,hn.jsxs)("div",{className:"input-group mobile-input-group",children:[(0,hn.jsx)("span",{className:"input-group-text mobile-input-icon",children:(0,hn.jsx)("i",{className:"fas fa-lock"})}),(0,hn.jsx)("input",{type:"password",className:"form-control mobile-form-input",name:"password",value:a.password,onChange:m,required:!0,placeholder:"Votre mot de passe"})]})]}),(0,hn.jsx)("div",{className:"d-grid gap-2 mt-4",children:(0,hn.jsx)("button",{type:"submit",className:"btn btn-primary mobile-login-btn",disabled:i,children:i?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Connexion..."]}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("i",{className:"fas fa-sign-in-alt me-2"}),"Se Connecter"]})})})]}),(0,hn.jsx)("div",{className:"text-center mt-3",children:(0,hn.jsxs)("a",{href:"/",className:"mobile-back-link",children:[(0,hn.jsx)("i",{className:"fas fa-arrow-left me-1"}),"Retour \xe0 l'accueil"]})})]})})})})})},Mn=()=>(0,hn.jsxs)("div",{className:"container mt-4",children:[(0,hn.jsxs)("h2",{className:"text-center mb-4",children:[(0,hn.jsx)("i",{className:"fas fa-shield-alt me-2"}),"Admin Login"]}),(0,hn.jsx)("p",{className:"text-center text-muted mb-4",children:"Please enter your credentials to access the administration panel"}),(0,hn.jsx)(In,{redirectPath:"/admin"})]}),zn=e=>{let{redirectPath:t="/"}=e;const[a,s]=(0,n.useState)({email:"",password:""}),[r,l]=(0,n.useState)(""),[i,o]=(0,n.useState)(!1),c=te(),{currentUser:d,clientLogin:u}=(0,n.useContext)(pn);(0,n.useEffect)((()=>{d&&c(t)}),[d,c,t]),(0,n.useEffect)((()=>(window.innerWidth<768&&(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.body.style.height="100vh",document.documentElement.style.height="100vh",document.body.style.margin="0",document.body.style.padding="0",document.documentElement.style.margin="0",document.documentElement.style.padding="0",document.body.classList.add("mobile-login-active")),()=>{document.body.style.overflow="",document.documentElement.style.overflow="",document.body.style.height="",document.documentElement.style.height="",document.body.style.margin="",document.body.style.padding="",document.documentElement.style.margin="",document.documentElement.style.padding="",document.body.classList.remove("mobile-login-active")})),[]);const m=e=>{const{name:t,value:a}=e.target;s((e=>Ie(Ie({},e),{},{[t]:a})))};return(0,hn.jsx)("div",{className:"container mt-5 mobile-login-page",children:(0,hn.jsx)("div",{className:"row justify-content-center",children:(0,hn.jsx)("div",{className:"col-md-6 col-lg-4",children:(0,hn.jsx)("div",{className:"card shadow-lg mobile-login-card",style:{border:"1px solid rgba(230, 166, 76, 0.3)",borderRadius:"var(--border-radius-lg)",animation:"fadeIn 0.6s ease-out",transform:"translateY(0)",transition:"all 0.3s ease"},children:(0,hn.jsxs)("div",{className:"card-body p-4",children:[(0,hn.jsxs)("div",{className:"text-center mb-4",children:[(0,hn.jsx)("div",{className:"mobile-login-icon",children:(0,hn.jsx)("i",{className:"fas fa-user"})}),(0,hn.jsx)("h2",{className:"mobile-login-title",children:"Connexion"}),(0,hn.jsx)("p",{className:"mobile-login-subtitle",children:"Acc\xe9dez \xe0 votre espace personnel"})]}),r&&(0,hn.jsxs)("div",{className:"alert alert-danger mobile-login-alert",role:"alert",children:[(0,hn.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),r]}),(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(""),o(!0);try{console.log("Attempting client login with:",a);try{if("user"!==(await u(a.email,a.password)).role)return l("This login is for clients only. Please use the appropriate login."),void o(!1);console.log("Auth context updated, redirecting to:",t),c(t)}catch(d){var n;console.error("Server login failed:",d);var s,i;if((null===(n=d.message)||void 0===n?void 0:n.includes("ECONNREFUSED"))||"Network Error"===d.message||"ECONNABORTED"===d.code)l("Server is unavailable. Please try again later.");else l((null===(s=d.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.error)||"Invalid credentials")}}catch(r){console.error("Login process error:",r),l("Login process failed. Please try again.")}finally{o(!1)}},children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label mobile-form-label",children:"Email"}),(0,hn.jsxs)("div",{className:"input-group mobile-input-group",children:[(0,hn.jsx)("span",{className:"input-group-text mobile-input-icon",children:(0,hn.jsx)("i",{className:"fas fa-envelope"})}),(0,hn.jsx)("input",{type:"email",className:"form-control mobile-form-input",name:"email",value:a.email,onChange:m,required:!0,placeholder:"Votre adresse email"})]})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label mobile-form-label",children:"Mot de passe"}),(0,hn.jsxs)("div",{className:"input-group mobile-input-group",children:[(0,hn.jsx)("span",{className:"input-group-text mobile-input-icon",children:(0,hn.jsx)("i",{className:"fas fa-lock"})}),(0,hn.jsx)("input",{type:"password",className:"form-control mobile-form-input",name:"password",value:a.password,onChange:m,required:!0,placeholder:"Votre mot de passe"})]})]}),(0,hn.jsx)("div",{className:"d-grid gap-2 mt-4",children:(0,hn.jsx)("button",{type:"submit",className:"btn btn-primary mobile-login-btn py-2",disabled:i,style:{fontSize:"1.05rem"},children:i?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Connexion..."]}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("i",{className:"fas fa-sign-in-alt me-2"}),"Se Connecter"]})})})]}),(0,hn.jsx)("div",{className:"text-center mt-4",children:(0,hn.jsxs)("a",{href:"/",className:"mobile-back-link",style:{color:"var(--highlight-color)",fontWeight:"500"},children:[(0,hn.jsx)("i",{className:"fas fa-arrow-left me-2"}),"Retour \xe0 l'accueil"]})})]})})})})})},Un=["token"],Bn=()=>{const[e,t]=(0,n.useState)(""),[a,s]=(0,n.useState)(""),[r,l]=(0,n.useState)(!1),[i,o]=(0,n.useState)(""),{coachUser:c,setCurrentUser:d,setCoachUser:u}=(0,n.useContext)(pn),m=te();(0,n.useEffect)((()=>{const e=localStorage.getItem("coachToken"),t=JSON.parse(localStorage.getItem("coachUser")||"null");e&&t&&m("/coach",{replace:!0})}),[m,c]),(0,n.useEffect)((()=>(window.innerWidth<768&&(document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.body.style.height="100vh",document.documentElement.style.height="100vh",document.body.style.margin="0",document.body.style.padding="0",document.documentElement.style.margin="0",document.documentElement.style.padding="0",document.body.classList.add("mobile-login-active")),()=>{document.body.style.overflow="",document.documentElement.style.overflow="",document.body.style.height="",document.documentElement.style.height="",document.body.style.margin="",document.body.style.padding="",document.documentElement.style.margin="",document.documentElement.style.padding="",document.body.classList.remove("mobile-login-active")})),[]);return(0,hn.jsx)("div",{className:"container mt-5 mobile-login-page",children:(0,hn.jsx)("div",{className:"row justify-content-center",children:(0,hn.jsx)("div",{className:"col-md-6 col-lg-5",children:(0,hn.jsx)("div",{className:"card shadow border-0 mobile-login-card",style:{border:"1px solid rgba(230, 166, 76, 0.3)",borderRadius:"var(--border-radius-lg)",animation:"fadeIn 0.6s ease-out",transform:"translateY(0)",transition:"all 0.3s ease"},children:(0,hn.jsxs)("div",{className:"card-body p-4 p-md-5",children:[(0,hn.jsxs)("div",{className:"text-center mb-4",children:[(0,hn.jsx)("div",{className:"mobile-login-icon",children:(0,hn.jsx)("i",{className:"fas fa-user-tie"})}),(0,hn.jsx)("h2",{className:"mobile-login-title",children:"Connexion Coach"}),(0,hn.jsx)("p",{className:"mobile-login-subtitle",children:"Acc\xe9dez \xe0 votre espace coach"})]}),i&&(0,hn.jsxs)("div",{className:"alert alert-danger mobile-login-alert",role:"alert",children:[(0,hn.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),i]}),(0,hn.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e&&a)try{l(!0),o("");const t=(await cn.post("/api/auth/coach-login",{matricule:e,password:a})).data,{token:n}=t,s=Re(t,Un);localStorage.setItem("coachToken",n),localStorage.setItem("coachUser",JSON.stringify(Ie(Ie({},s),{},{role:"coach"}))),localStorage.removeItem("clientToken"),localStorage.removeItem("clientUser"),delete cn.defaults.headers.common.Authorization,cn.defaults.headers.common.Authorization="Bearer ".concat(n);const r=Ie(Ie({},s),{},{role:"coach"});u(r),window.location.pathname.startsWith("/coach")?d(r):d(null),m("/coach",{replace:!0})}catch(i){var n,s;console.error("Login error:",i),o((null===(n=i.response)||void 0===n||null===(s=n.data)||void 0===s?void 0:s.error)||"Login failed. Please check your credentials.")}finally{l(!1)}else o("Matricule and password are required")},children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{htmlFor:"matricule",className:"form-label mobile-form-label",children:"Matricule"}),(0,hn.jsxs)("div",{className:"input-group mobile-input-group",children:[(0,hn.jsx)("span",{className:"input-group-text mobile-input-icon",children:(0,hn.jsx)("i",{className:"fas fa-id-badge"})}),(0,hn.jsx)("input",{type:"text",className:"form-control mobile-form-input",id:"matricule",value:e,onChange:e=>t(e.target.value),placeholder:"Votre matricule",required:!0})]})]}),(0,hn.jsxs)("div",{className:"mb-4",children:[(0,hn.jsx)("label",{htmlFor:"password",className:"form-label mobile-form-label",children:"Mot de passe"}),(0,hn.jsxs)("div",{className:"input-group mobile-input-group",children:[(0,hn.jsx)("span",{className:"input-group-text mobile-input-icon",children:(0,hn.jsx)("i",{className:"fas fa-lock"})}),(0,hn.jsx)("input",{type:"password",className:"form-control mobile-form-input",id:"password",value:a,onChange:e=>s(e.target.value),placeholder:"Votre mot de passe",required:!0})]})]}),(0,hn.jsx)("div",{className:"d-grid gap-2 mt-4",children:(0,hn.jsx)("button",{type:"submit",className:"btn btn-primary mobile-login-btn py-2",disabled:r,style:{fontSize:"1.05rem"},children:r?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Connexion..."]}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("i",{className:"fas fa-sign-in-alt me-2"}),"Se Connecter"]})})})]}),(0,hn.jsx)("div",{className:"text-center mt-4",children:(0,hn.jsxs)(Ee,{to:"/",className:"mobile-back-link",style:{color:"var(--highlight-color)",fontWeight:"500",textDecoration:"none"},children:[(0,hn.jsx)("i",{className:"fas fa-arrow-left me-2"}),"Retour \xe0 l'accueil"]})})]})})})})})},Wn=e=>{let{onImageUploaded:t,existingImage:a=null}=e;const[s,r]=(0,n.useState)(null),[l,i]=(0,n.useState)(a),[o,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(null),[m,h]=(0,n.useState)(0),f=async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||s;if(!e){const e="Please select an image to upload";return u(e),void kn(e,{type:"warning",title:"No Image Selected"})}c(!0),u(null),h(10);const a=new FormData;a.append("image",e);try{h(30);const e=await cn.post("/api/uploads/image",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{const t=Math.round(70*e.loaded/e.total);h(30+t)}});if(h(100),e.data.success){const a=e.data.data.url;console.log("Image successfully uploaded to ImgBB:",a),t(a),kn("Image uploaded successfully!",{type:"success",title:"Upload Complete"}),setTimeout((()=>{c(!1)}),500)}else{console.error("ImgBB API returned success:false",e.data);const t="Image upload failed. Please try again.";u(t),kn(t,{type:"error",title:"Upload Failed"}),c(!1)}}catch(i){var n;console.error("Error uploading image to ImgBB:",i),console.error("Error details:",(null===(n=i.response)||void 0===n?void 0:n.data)||i.message);let e="Failed to upload image. Please try again.";if("Network Error"===i.message)e="Network error. Please check your internet connection and try again.";else if(i.response){var r,l;e="Upload failed: ".concat((null===(r=i.response.data)||void 0===r||null===(l=r.error)||void 0===l?void 0:l.message)||"Server error")}u(e),kn(e,{type:"error",title:"Image Upload Error",duration:7e3}),c(!1)}};return(0,hn.jsx)("div",{className:"image-uploader",children:(0,hn.jsxs)("div",{className:"mb-3",children:[l?(0,hn.jsx)("div",{className:"text-center mb-3",children:(0,hn.jsx)("img",{src:l,alt:"Preview",className:"img-thumbnail",style:{maxHeight:"200px",maxWidth:"100%"}})}):(0,hn.jsxs)("div",{className:"image-placeholder mb-3 text-center p-4 border rounded bg-light",children:[(0,hn.jsx)("i",{className:"fas fa-image fa-3x text-muted mb-2"}),(0,hn.jsx)("p",{className:"text-muted mb-0",children:"No image selected"})]}),(0,hn.jsxs)("div",{className:"d-flex gap-2",children:["          ",(0,hn.jsxs)("div",{className:"input-group",children:[(0,hn.jsx)("input",{type:"file",className:"form-control",id:"imageInput",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){r(t);const e=new FileReader;e.onload=()=>{i(e.result)},e.readAsDataURL(t),u(null),h(0),setTimeout((()=>{f(t)}),100)}},disabled:o}),l&&(0,hn.jsxs)("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>{r(null),i(null),t("")},disabled:o,children:[(0,hn.jsx)("i",{className:"fas fa-trash me-1"})," Remove"]})]})]}),o&&(0,hn.jsxs)("div",{className:"mt-2",children:[(0,hn.jsx)("div",{className:"progress",children:(0,hn.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar",style:{width:"".concat(m,"%")},"aria-valuenow":m,"aria-valuemin":"0","aria-valuemax":"100"})}),(0,hn.jsxs)("small",{className:"text-muted",children:[m,"% complete"]})]}),d&&(0,hn.jsxs)("div",{className:"alert alert-danger mt-2",children:[(0,hn.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),d]}),(0,hn.jsx)("small",{className:"text-muted d-block mt-2",children:"Supported formats: JPG, PNG, GIF. Max size: 10MB"})]})})};var qn=a(738),Hn=a.n(qn);const Vn=["xxl","xl","lg","md","sm","xs"],Gn="xs",$n=n.createContext({prefixes:{},breakpoints:Vn,minBreakpoint:Gn}),{Consumer:Kn,Provider:Yn}=$n;function Jn(e,t){const{prefixes:a}=(0,n.useContext)($n);return e||a[t]||t}function Qn(){const{breakpoints:e}=(0,n.useContext)($n);return e}function Xn(){const{minBreakpoint:e}=(0,n.useContext)($n);return e}const Zn=["bsPrefix","fluid","as","className"],es=n.forwardRef(((e,t)=>{let{bsPrefix:a,fluid:n=!1,as:s="div",className:r}=e,l=Re(e,Zn);const i=Jn(a,"container"),o="string"===typeof n?"-".concat(n):"-fluid";return(0,hn.jsx)(s,Ie(Ie({ref:t},l),{},{className:Hn()(r,n?"".concat(i).concat(o):i)}))}));es.displayName="Container";const ts=es;var as=a(942),ns=a.n(as);function ss(e,t,a){const s=(0,n.useRef)(void 0!==e),[r,l]=(0,n.useState)(t),i=void 0!==e,o=s.current;return s.current=i,!i&&o&&r!==t&&l(t),[i?e:r,(0,n.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[s,...r]=t;let i=null==a?void 0:a(s,...r);return l(s),i}),[a])]}const rs={prefix:String(Math.round(1e10*Math.random())),current:0},ls=n.createContext(rs),is=n.createContext(!1);Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);let os=new WeakMap;function cs(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,n.useContext)(ls),a=(0,n.useRef)(null);if(null===a.current&&!e){var s,r;let e=null===(r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===r||null===(s=r.ReactCurrentOwner)||void 0===s?void 0:s.current;if(e){let a=os.get(e);null==a?os.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==a.state&&(t.current=a.id,os.delete(e))}a.current=++t.current}return a.current}const ds="function"===typeof n.useId?function(e){let t=n.useId(),[a]=(0,n.useState)("function"===typeof n.useSyncExternalStore?n.useSyncExternalStore(hs,us,ms):(0,n.useContext)(is)),s=a?"react-aria":"react-aria".concat(rs.prefix);return e||"".concat(s,"-").concat(t)}:function(e){let t=(0,n.useContext)(ls),a=cs(!!e),s="react-aria".concat(t.prefix);return e||"".concat(s,"-").concat(a)};function us(){return!1}function ms(){return!0}function hs(e){return()=>{}}const fs=n.createContext(null),ps=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},xs=n.createContext(null);const vs=function(e){const t=(0,n.useRef)(e);return(0,n.useEffect)((()=>{t.current=e}),[e]),t};function bs(e){const t=vs(e);return(0,n.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}const gs=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const js=function(e,t){return(0,n.useMemo)((()=>function(e,t){const a=gs(e),n=gs(t);return e=>{a&&a(e),n&&n(e)}}(e,t)),[e,t])};function ys(e){if(!e||"function"===typeof e)return null;const{major:t}=function(){const e=n.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}();return t>=19?e.props.ref:e.ref}const Ns=function(e){let{children:t,in:a,onExited:s,mountOnEnter:r,unmountOnExit:l}=e;const i=(0,n.useRef)(null),o=(0,n.useRef)(a),c=bs(s);(0,n.useEffect)((()=>{a?o.current=!0:c(i.current)}),[a,c]);const d=js(i,ys(t)),u=(0,n.cloneElement)(t,{ref:d});return a?u:l||!o.current&&r?null:u},ws=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],ks=["activeKey","getControlledId","getControllerId"],Ss=["as"];function Cs(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}function _s(e){let{active:t,eventKey:a,mountOnEnter:s,transition:r,unmountOnExit:l,role:i="tabpanel",onEnter:o,onEntering:c,onEntered:d,onExit:u,onExiting:m,onExited:h}=e,f=Cs(e,ws);const p=(0,n.useContext)(fs);if(!p)return[Object.assign({},f,{role:i}),{eventKey:a,isActive:t,mountOnEnter:s,transition:r,unmountOnExit:l,onEnter:o,onEntering:c,onEntered:d,onExit:u,onExiting:m,onExited:h}];const{activeKey:x,getControlledId:v,getControllerId:b}=p,g=Cs(p,ks),j=ps(a);return[Object.assign({},f,{role:i,id:v(a),"aria-labelledby":b(a)}),{eventKey:a,isActive:null==t&&null!=j?ps(x)===j:t,transition:r||g.transition,mountOnEnter:null!=s?s:g.mountOnEnter,unmountOnExit:null!=l?l:g.unmountOnExit,onEnter:o,onEntering:c,onEntered:d,onExit:u,onExiting:m,onExited:h}]}const Es=n.forwardRef(((e,t)=>{let{as:a="div"}=e,n=Cs(e,Ss);const[s,{isActive:r,onEnter:l,onEntering:i,onEntered:o,onExit:c,onExiting:d,onExited:u,mountOnEnter:m,unmountOnExit:h,transition:f=Ns}]=_s(n);return(0,hn.jsx)(fs.Provider,{value:null,children:(0,hn.jsx)(xs.Provider,{value:null,children:(0,hn.jsx)(f,{in:r,onEnter:l,onEntering:i,onEntered:o,onExit:c,onExiting:d,onExited:u,mountOnEnter:m,unmountOnExit:h,children:(0,hn.jsx)(a,Object.assign({},s,{ref:t,hidden:!r,"aria-hidden":!r}))})})})}));Es.displayName="TabPanel";const Ps=e=>{const{id:t,generateChildId:a,onSelect:s,activeKey:r,defaultActiveKey:l,transition:i,mountOnEnter:o,unmountOnExit:c,children:d}=e,[u,m]=ss(r,l,s),h=ds(t),f=(0,n.useMemo)((()=>a||((e,t)=>h?"".concat(h,"-").concat(t,"-").concat(e):null)),[h,a]),p=(0,n.useMemo)((()=>({onSelect:m,activeKey:u,transition:i,mountOnEnter:o||!1,unmountOnExit:c||!1,getControlledId:e=>f(e,"tabpane"),getControllerId:e=>f(e,"tab")})),[m,u,i,o,c,f]);return(0,hn.jsx)(fs.Provider,{value:p,children:(0,hn.jsx)(xs.Provider,{value:m||null,children:d})})};Ps.Panel=Es;const Ts=Ps;function Ds(e,t){return Ds=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ds(e,t)}const Rs=!1,Os=n.createContext(null);var Fs="unmounted",Ls="exited",As="entering",Is="entered",Ms="exiting",zs=function(e){var t,a;function s(t,a){var n;n=e.call(this,t,a)||this;var s,r=a&&!a.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?r?(s=Ls,n.appearStatus=As):s=Is:s=t.unmountOnExit||t.mountOnEnter?Fs:Ls,n.state={status:s},n.nextCallback=null,n}a=e,(t=s).prototype=Object.create(a.prototype),t.prototype.constructor=t,Ds(t,a),s.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Fs?{status:Ls}:null};var r=s.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var a=this.state.status;this.props.in?a!==As&&a!==Is&&(t=As):a!==As&&a!==Is||(t=Ms)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,a,n=this.props.timeout;return e=t=a=n,null!=n&&"number"!==typeof n&&(e=n.exit,t=n.enter,a=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:a}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===As){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:l.findDOMNode(this);a&&function(e){e.scrollTop}(a)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ls&&this.setState({status:Fs})},r.performEnter=function(e){var t=this,a=this.props.enter,n=this.context?this.context.isMounting:e,s=this.props.nodeRef?[n]:[l.findDOMNode(this),n],r=s[0],i=s[1],o=this.getTimeouts(),c=n?o.appear:o.enter;!e&&!a||Rs?this.safeSetState({status:Is},(function(){t.props.onEntered(r)})):(this.props.onEnter(r,i),this.safeSetState({status:As},(function(){t.props.onEntering(r,i),t.onTransitionEnd(c,(function(){t.safeSetState({status:Is},(function(){t.props.onEntered(r,i)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,a=this.getTimeouts(),n=this.props.nodeRef?void 0:l.findDOMNode(this);t&&!Rs?(this.props.onExit(n),this.safeSetState({status:Ms},(function(){e.props.onExiting(n),e.onTransitionEnd(a.exit,(function(){e.safeSetState({status:Ls},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:Ls},(function(){e.props.onExited(n)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,a=!0;return this.nextCallback=function(n){a&&(a=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var a=this.props.nodeRef?this.props.nodeRef.current:l.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(a&&!n){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],r=s[0],i=s[1];this.props.addEndListener(r,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Fs)return null;var t=this.props,a=t.children,s=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,De(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return n.createElement(Os.Provider,{value:null},"function"===typeof a?a(e,s):n.cloneElement(n.Children.only(a),s))},s}(n.Component);function Us(){}zs.contextType=Os,zs.propTypes={},zs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Us,onEntering:Us,onEntered:Us,onExit:Us,onExiting:Us,onExited:Us},zs.UNMOUNTED=Fs,zs.EXITED=Ls,zs.ENTERING=As,zs.ENTERED=Is,zs.EXITING=Ms;const Bs=zs;function Ws(e){return e&&e.ownerDocument||document}function qs(e,t){return function(e){var t=Ws(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Hs=/([A-Z])/g;var Vs=/^ms-/;function Gs(e){return function(e){return e.replace(Hs,"-$1").toLowerCase()}(e).replace(Vs,"-ms-")}var $s=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Ks=function(e,t){var a="",n="";if("string"===typeof t)return e.style.getPropertyValue(Gs(t))||qs(e).getPropertyValue(Gs(t));Object.keys(t).forEach((function(s){var r=t[s];r||0===r?!function(e){return!(!e||!$s.test(e))}(s)?a+=Gs(s)+": "+r+";":n+=s+"("+r+") ":e.style.removeProperty(Gs(s))})),n&&(a+="transform: "+n+";"),e.style.cssText+=";"+a},Ys=!("undefined"===typeof window||!window.document||!window.document.createElement);var Js=!1,Qs=!1;try{var Xs={get passive(){return Js=!0},get once(){return Qs=Js=!0}};Ys&&(window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,!0))}catch(Iu){}const Zs=function(e,t,a,n){if(n&&"boolean"!==typeof n&&!Qs){var s=n.once,r=n.capture,l=a;!Qs&&s&&(l=a.__once||function e(n){this.removeEventListener(t,e,r),a.call(this,n)},a.__once=l),e.addEventListener(t,l,Js?n:r)}e.addEventListener(t,a,n)};const er=function(e,t,a,n){var s=n&&"boolean"!==typeof n?n.capture:n;e.removeEventListener(t,a,s),a.__once&&e.removeEventListener(t,a.__once,s)};const tr=function(e,t,a,n){return Zs(e,t,a,n),function(){er(e,t,a,n)}};function ar(e,t,a){void 0===a&&(a=5);var n=!1,s=setTimeout((function(){n||function(e,t,a,n){if(void 0===a&&(a=!1),void 0===n&&(n=!0),e){var s=document.createEvent("HTMLEvents");s.initEvent(t,a,n),e.dispatchEvent(s)}}(e,"transitionend",!0)}),t+a),r=tr(e,"transitionend",(function(){n=!0}),{once:!0});return function(){clearTimeout(s),r()}}function nr(e,t,a,n){null==a&&(a=function(e){var t=Ks(e,"transitionDuration")||"",a=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*a}(e)||0);var s=ar(e,a,n),r=tr(e,"transitionend",t);return function(){s(),r()}}function sr(e,t){const a=Ks(e,t)||"",n=-1===a.indexOf("ms")?1e3:1;return parseFloat(a)*n}function rr(e,t){const a=sr(e,"transitionDuration"),n=sr(e,"transitionDelay"),s=nr(e,(a=>{a.target===e&&(s(),t(a))}),a+n)}const lr=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const ir=function(e,t){return(0,n.useMemo)((()=>function(e,t){const a=lr(e),n=lr(t);return e=>{a&&a(e),n&&n(e)}}(e,t)),[e,t])};const or=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],cr=n.forwardRef(((e,t)=>{let{onEnter:a,onEntering:s,onEntered:r,onExit:i,onExiting:o,onExited:c,addEndListener:d,children:u,childRef:m}=e,h=Re(e,or);const f=(0,n.useRef)(null),p=ir(f,m),x=e=>{var t;p((t=e)&&"setState"in t?l.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&f.current&&e(f.current,t)},b=(0,n.useCallback)(v(a),[a]),g=(0,n.useCallback)(v(s),[s]),j=(0,n.useCallback)(v(r),[r]),y=(0,n.useCallback)(v(i),[i]),N=(0,n.useCallback)(v(o),[o]),w=(0,n.useCallback)(v(c),[c]),k=(0,n.useCallback)(v(d),[d]);return(0,hn.jsx)(Bs,Ie(Ie({ref:t},h),{},{onEnter:b,onEntered:j,onEntering:g,onExit:y,onExited:w,onExiting:N,addEndListener:k,nodeRef:f,children:"function"===typeof u?(e,t)=>u(e,Ie(Ie({},t),{},{ref:x})):n.cloneElement(u,{ref:x})}))}));cr.displayName="TransitionWrapper";const dr=cr,ur=["className","children","transitionClasses","onEnter"],mr={[As]:"show",[Is]:"show"},hr=n.forwardRef(((e,t)=>{let{className:a,children:s,transitionClasses:r={},onEnter:l}=e;const i=Ie({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Re(e,ur)),o=(0,n.useCallback)(((e,t)=>{!function(e){e.offsetHeight}(e),null==l||l(e,t)}),[l]);return(0,hn.jsx)(dr,Ie(Ie({ref:t,addEndListener:rr},i),{},{onEnter:o,childRef:ys(s),children:(e,t)=>n.cloneElement(s,Ie(Ie({},t),{},{className:Hn()("fade",a,s.props.className,mr[e],r[e])}))}))}));hr.displayName="Fade";const fr=hr;function pr(e){return"boolean"===typeof e?e?fr:Ns:e}const xr=["transition"],vr=e=>{let{transition:t}=e,a=Re(e,xr);return(0,hn.jsx)(Ts,Ie(Ie({},a),{},{transition:pr(t)}))};vr.displayName="TabContainer";const br=vr,gr=["className","bsPrefix","as"],jr=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s="div"}=e,r=Re(e,gr);return n=Jn(n,"tab-content"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));jr.displayName="TabContent";const yr=jr,Nr=["bsPrefix","transition"],wr=["className","as"],kr=n.forwardRef(((e,t)=>{let{bsPrefix:a,transition:n}=e,s=Re(e,Nr);const[r,{isActive:l,onEnter:i,onEntering:o,onEntered:c,onExit:d,onExiting:u,onExited:m,mountOnEnter:h,unmountOnExit:f,transition:p=fr}]=_s(Ie(Ie({},s),{},{transition:pr(n)})),{className:x,as:v="div"}=r,b=Re(r,wr),g=Jn(a,"tab-pane");return(0,hn.jsx)(fs.Provider,{value:null,children:(0,hn.jsx)(xs.Provider,{value:null,children:(0,hn.jsx)(p,{in:l,onEnter:i,onEntering:o,onEntered:c,onExit:d,onExiting:u,onExited:m,mountOnEnter:h,unmountOnExit:f,children:(0,hn.jsx)(v,Ie(Ie({},b),{},{ref:t,className:Hn()(x,g,l&&"active")}))})})})}));kr.displayName="TabPane";const Sr=kr,Cr={eventKey:ns().oneOfType([ns().string,ns().number]),title:ns().node.isRequired,disabled:ns().bool,tabClassName:ns().string,tabAttrs:ns().object},_r=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};_r.propTypes=Cr;const Er=Object.assign(_r,{Container:br,Content:yr,Pane:Sr}),Pr=["bsPrefix","className","as"],Tr=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:n,as:s="div"}=e,r=Re(e,Pr);const l=Jn(a,"row"),i=Qn(),o=Xn(),c="".concat(l,"-cols"),d=[];return i.forEach((e=>{const t=r[e];let a;delete r[e],null!=t&&"object"===typeof t?({cols:a}=t):a=t;const n=e!==o?"-".concat(e):"";null!=a&&d.push("".concat(c).concat(n,"-").concat(a))})),(0,hn.jsx)(s,Ie(Ie({ref:t},r),{},{className:Hn()(n,l,...d)}))}));Tr.displayName="Row";const Dr=Tr,Rr=["as","bsPrefix","className"],Or=["className"];const Fr=n.forwardRef(((e,t)=>{const[a,{as:n="div",bsPrefix:s,spans:r}]=function(e){let{as:t,bsPrefix:a,className:n}=e,s=Re(e,Rr);a=Jn(a,"col");const r=Qn(),l=Xn(),i=[],o=[];return r.forEach((e=>{const t=s[e];let n,r,c;delete s[e],"object"===typeof t&&null!=t?({span:n,offset:r,order:c}=t):n=t;const d=e!==l?"-".concat(e):"";n&&i.push(!0===n?"".concat(a).concat(d):"".concat(a).concat(d,"-").concat(n)),null!=c&&o.push("order".concat(d,"-").concat(c)),null!=r&&o.push("offset".concat(d,"-").concat(r))})),[Ie(Ie({},s),{},{className:Hn()(n,...i,...o)}),{as:t,bsPrefix:a,spans:i}]}(e),{className:l}=a,i=Re(a,Or);return(0,hn.jsx)(n,Ie(Ie({},i),{},{ref:t,className:Hn()(l,!r.length&&s)}))}));Fr.displayName="Col";const Lr=Fr;function Ar(){return Ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ar.apply(null,arguments)}a(949);function Ir(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Mr(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function zr(e,t){return Object.keys(t).reduce((function(a,s){var r,l=a,i=l[Ir(s)],o=l[s],c=De(l,[Ir(s),s].map(Mr)),d=t[s],u=function(e,t,a){var s=(0,n.useRef)(void 0!==e),r=(0,n.useState)(t),l=r[0],i=r[1],o=void 0!==e,c=s.current;return s.current=o,!o&&c&&l!==t&&i(t),[o?e:l,(0,n.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];a&&a.apply(void 0,[e].concat(n)),i(e)}),[a])]}(o,i,e[d]),m=u[0],h=u[1];return Ar({},c,((r={})[s]=m,r[d]=h,r))}),e)}function Ur(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Br(e){this.setState(function(t){var a=this.constructor.getDerivedStateFromProps(e,t);return null!==a&&void 0!==a?a:null}.bind(this))}function Wr(e,t){try{var a=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(a,n)}finally{this.props=a,this.state=n}}Ur.__suppressDeprecationWarning=!0,Br.__suppressDeprecationWarning=!0,Wr.__suppressDeprecationWarning=!0;var qr=Function.prototype.bind.call(Function.prototype.call,[].slice);function Hr(e,t){return qr(e.querySelectorAll(t))}const Vr=n.createContext(null);Vr.displayName="NavContext";const Gr=Vr;function $r(e){return"".concat("data-rr-ui-").concat(e)}const Kr=["as","disabled"];function Yr(e){let{tagName:t,disabled:a,href:n,target:s,rel:r,role:l,onClick:i,tabIndex:o=0,type:c}=e;t||(t=null!=n||null!=s||null!=r?"a":"button");const d={tagName:t};if("button"===t)return[{type:c||"button",disabled:a},d];const u=e=>{(a||"a"===t&&function(e){return!e||"#"===e.trim()}(n))&&e.preventDefault(),a?e.stopPropagation():null==i||i(e)};return"a"===t&&(n||(n="#"),a&&(n=void 0)),[{role:null!=l?l:"button",disabled:void 0,tabIndex:a?void 0:o,href:n,target:"a"===t?s:void 0,"aria-disabled":a||void 0,rel:"a"===t?r:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const Jr=n.forwardRef(((e,t)=>{let{as:a,disabled:n}=e,s=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,Kr);const[r,{tagName:l}]=Yr(Object.assign({tagName:a,disabled:n},s));return(0,hn.jsx)(l,Object.assign({},s,r,{ref:t}))}));Jr.displayName="Button";const Qr=Jr,Xr=["as","active","eventKey"];function Zr(e){let{key:t,onClick:a,active:s,id:r,role:l,disabled:i}=e;const o=(0,n.useContext)(xs),c=(0,n.useContext)(Gr),d=(0,n.useContext)(fs);let u=s;const m={role:l};if(c){l||"tablist"!==c.role||(m.role="tab");const e=c.getControllerId(null!=t?t:null),a=c.getControlledId(null!=t?t:null);m[$r("event-key")]=t,m.id=e||r,u=null==s&&null!=t?c.activeKey===t:s,!u&&(null!=d&&d.unmountOnExit||null!=d&&d.mountOnEnter)||(m["aria-controls"]=a)}return"tab"===m.role&&(m["aria-selected"]=u,u||(m.tabIndex=-1),i&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=bs((e=>{i||(null==a||a(e),null!=t&&o&&!e.isPropagationStopped()&&o(t,e))})),[m,{isActive:u}]}const el=n.forwardRef(((e,t)=>{let{as:a=Qr,active:n,eventKey:s}=e,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,Xr);const[l,i]=Zr(Object.assign({key:ps(s,r.href),active:n},r));return l[$r("active")]=i.isActive,(0,hn.jsx)(a,Object.assign({},r,l,{ref:t}))}));el.displayName="NavItem";const tl=el,al=["as","onSelect","activeKey","role","onKeyDown"];const nl=()=>{},sl=$r("event-key"),rl=n.forwardRef(((e,t)=>{let{as:a="div",onSelect:s,activeKey:r,role:l,onKeyDown:i}=e,o=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,al);const c=function(){const[,e]=(0,n.useReducer)((e=>e+1),0);return e}(),d=(0,n.useRef)(!1),u=(0,n.useContext)(xs),m=(0,n.useContext)(fs);let h,f;m&&(l=l||"tablist",r=m.activeKey,h=m.getControlledId,f=m.getControllerId);const p=(0,n.useRef)(null),x=e=>{const t=p.current;if(!t)return null;const a=Hr(t,"[".concat(sl,"]:not([aria-disabled=true])")),n=t.querySelector("[aria-selected=true]");if(!n||n!==document.activeElement)return null;const s=a.indexOf(n);if(-1===s)return null;let r=s+e;return r>=a.length&&(r=0),r<0&&(r=a.length-1),a[r]},v=(e,t)=>{null!=e&&(null==s||s(e,t),null==u||u(e,t))};(0,n.useEffect)((()=>{if(p.current&&d.current){const e=p.current.querySelector("[".concat(sl,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));const b=js(t,p);return(0,hn.jsx)(xs.Provider,{value:v,children:(0,hn.jsx)(Gr.Provider,{value:{role:l,activeKey:ps(r),getControlledId:h||nl,getControllerId:f||nl},children:(0,hn.jsx)(a,Object.assign({},o,{onKeyDown:e=>{if(null==i||i(e),!m)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=x(-1);break;case"ArrowRight":case"ArrowDown":t=x(1);break;default:return}var a;t&&(e.preventDefault(),v(t.dataset[(a="EventKey","".concat("rrUi").concat(a))]||null,e),d.current=!0,c())},ref:b,role:l}))})})}));rl.displayName="Nav";const ll=Object.assign(rl,{Item:tl}),il=n.createContext(null);il.displayName="NavbarContext";const ol=il,cl=n.createContext(null);cl.displayName="CardHeaderContext";const dl=cl,ul=["className","bsPrefix","as"],ml=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s="div"}=e,r=Re(e,ul);return n=Jn(n,"nav-item"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));ml.displayName="NavItem";const hl=ml;const fl="undefined"!==typeof a.g&&a.g.navigator&&"ReactNative"===a.g.navigator.product,pl="undefined"!==typeof document||fl?n.useLayoutEffect:n.useEffect;new WeakMap;const xl=["onKeyDown"];const vl=n.forwardRef(((e,t)=>{let{onKeyDown:a}=e,n=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,xl);const[s]=Yr(Object.assign({tagName:"a"},n)),r=bs((e=>{s.onKeyDown(e),null==a||a(e)}));return(l=n.href)&&"#"!==l.trim()&&"button"!==n.role?(0,hn.jsx)("a",Object.assign({ref:t},n,{onKeyDown:a})):(0,hn.jsx)("a",Object.assign({ref:t},n,s,{onKeyDown:r}));var l}));vl.displayName="Anchor";const bl=vl,gl=["bsPrefix","className","as","active","eventKey","disabled"],jl=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:n,as:s=bl,active:r,eventKey:l,disabled:i=!1}=e,o=Re(e,gl);a=Jn(a,"nav-link");const[c,d]=Zr(Ie({key:ps(l,o.href),active:r,disabled:i},o));return(0,hn.jsx)(s,Ie(Ie(Ie({},o),c),{},{ref:t,disabled:i,className:Hn()(n,a,i&&"disabled",d.isActive&&"active")}))}));jl.displayName="NavLink";const yl=jl,Nl=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],wl=n.forwardRef(((e,t)=>{const a=zr(e,{activeKey:"onSelect"}),{as:s="div",bsPrefix:r,variant:l,fill:i=!1,justify:o=!1,navbar:c,navbarScroll:d,className:u,activeKey:m}=a,h=Re(a,Nl),f=Jn(r,"nav");let p,x,v=!1;const b=(0,n.useContext)(ol),g=(0,n.useContext)(dl);return b?(p=b.bsPrefix,v=null==c||c):g&&({cardHeaderBsPrefix:x}=g),(0,hn.jsx)(ll,Ie({as:s,ref:t,activeKey:m,className:Hn()(u,{[f]:!v,["".concat(p,"-nav")]:v,["".concat(p,"-nav-scroll")]:v&&d,["".concat(x,"-").concat(l)]:!!x,["".concat(f,"-").concat(l)]:!!l,["".concat(f,"-fill")]:i,["".concat(f,"-justified")]:o})},h))}));wl.displayName="Nav";const kl=Object.assign(wl,{Item:hl,Link:yl}),Sl=["className","bsPrefix","as"],Cl=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s="div"}=e,r=Re(e,Sl);return n=Jn(n,"card-body"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));Cl.displayName="CardBody";const _l=Cl,El=["className","bsPrefix","as"],Pl=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s="div"}=e,r=Re(e,El);return n=Jn(n,"card-footer"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));Pl.displayName="CardFooter";const Tl=Pl,Dl=["bsPrefix","className","as"],Rl=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:s,as:r="div"}=e,l=Re(e,Dl);const i=Jn(a,"card-header"),o=(0,n.useMemo)((()=>({cardHeaderBsPrefix:i})),[i]);return(0,hn.jsx)(dl.Provider,{value:o,children:(0,hn.jsx)(r,Ie(Ie({ref:t},l),{},{className:Hn()(s,i)}))})}));Rl.displayName="CardHeader";const Ol=Rl,Fl=["bsPrefix","className","variant","as"],Ll=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:n,variant:s,as:r="img"}=e,l=Re(e,Fl);const i=Jn(a,"card-img");return(0,hn.jsx)(r,Ie({ref:t,className:Hn()(s?"".concat(i,"-").concat(s):i,n)},l))}));Ll.displayName="CardImg";const Al=Ll,Il=["className","bsPrefix","as"],Ml=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s="div"}=e,r=Re(e,Il);return n=Jn(n,"card-img-overlay"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));Ml.displayName="CardImgOverlay";const zl=Ml,Ul=["className","bsPrefix","as"],Bl=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s="a"}=e,r=Re(e,Ul);return n=Jn(n,"card-link"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));Bl.displayName="CardLink";const Wl=Bl,ql=e=>n.forwardRef(((t,a)=>(0,hn.jsx)("div",Ie(Ie({},t),{},{ref:a,className:Hn()(t.className,e)})))),Hl=["className","bsPrefix","as"],Vl=ql("h6"),Gl=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s=Vl}=e,r=Re(e,Hl);return n=Jn(n,"card-subtitle"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));Gl.displayName="CardSubtitle";const $l=Gl,Kl=["className","bsPrefix","as"],Yl=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s="p"}=e,r=Re(e,Kl);return n=Jn(n,"card-text"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));Yl.displayName="CardText";const Jl=Yl,Ql=["className","bsPrefix","as"],Xl=ql("h5"),Zl=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s=Xl}=e,r=Re(e,Ql);return n=Jn(n,"card-title"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));Zl.displayName="CardTitle";const ei=Zl,ti=["bsPrefix","className","bg","text","border","body","children","as"],ai=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:n,bg:s,text:r,border:l,body:i=!1,children:o,as:c="div"}=e,d=Re(e,ti);const u=Jn(a,"card");return(0,hn.jsx)(c,Ie(Ie({ref:t},d),{},{className:Hn()(n,u,s&&"bg-".concat(s),r&&"text-".concat(r),l&&"border-".concat(l)),children:i?(0,hn.jsx)(_l,{children:o}):o}))}));ai.displayName="Card";const ni=Object.assign(ai,{Img:Al,Title:ei,Subtitle:$l,Body:_l,Link:Wl,Text:Jl,Header:Ol,Footer:Tl,ImgOverlay:zl}),si=["as","bsPrefix","variant","size","active","disabled","className"],ri=n.forwardRef(((e,t)=>{let{as:a,bsPrefix:n,variant:s="primary",size:r,active:l=!1,disabled:i=!1,className:o}=e,c=Re(e,si);const d=Jn(n,"btn"),[u,{tagName:m}]=Yr(Ie({tagName:a,disabled:i},c)),h=m;return(0,hn.jsx)(h,Ie(Ie(Ie({},u),c),{},{ref:t,disabled:i,className:Hn()(o,d,l&&"active",s&&"".concat(d,"-").concat(s),r&&"".concat(d,"-").concat(r),c.href&&i&&"disabled")}))}));ri.displayName="Button";const li=ri;const ii=function(e){const t=(0,n.useRef)(e);return(0,n.useEffect)((()=>{t.current=e}),[e]),t};function oi(e){const t=ii(e);return(0,n.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}const ci=["className","bsPrefix","as"],di=ql("h4");di.displayName="DivStyledAsH4";const ui=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s=di}=e,r=Re(e,ci);return n=Jn(n,"alert-heading"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));ui.displayName="AlertHeading";const mi=ui,hi=["className","bsPrefix","as"],fi=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s=bl}=e,r=Re(e,hi);return n=Jn(n,"alert-link"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));fi.displayName="AlertLink";const pi=fi,xi=["className","variant","aria-label"],vi={"aria-label":ns().string,onClick:ns().func,variant:ns().oneOf(["white"])},bi=n.forwardRef(((e,t)=>{let{className:a,variant:n,"aria-label":s="Close"}=e,r=Re(e,xi);return(0,hn.jsx)("button",Ie({ref:t,type:"button",className:Hn()("btn-close",n&&"btn-close-".concat(n),a),"aria-label":s},r))}));bi.displayName="CloseButton",bi.propTypes=vi;const gi=bi,ji=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],yi=n.forwardRef(((e,t)=>{const a=zr(e,{show:"onClose"}),{bsPrefix:n,show:s=!0,closeLabel:r="Close alert",closeVariant:l,className:i,children:o,variant:c="primary",onClose:d,dismissible:u,transition:m=fr}=a,h=Re(a,ji),f=Jn(n,"alert"),p=oi((e=>{d&&d(!1,e)})),x=!0===m?fr:m,v=(0,hn.jsxs)("div",Ie(Ie({role:"alert"},x?void 0:h),{},{ref:t,className:Hn()(i,f,c&&"".concat(f,"-").concat(c),u&&"".concat(f,"-dismissible")),children:[u&&(0,hn.jsx)(gi,{onClick:p,"aria-label":r,variant:l}),o]}));return x?(0,hn.jsx)(x,Ie(Ie({unmountOnExit:!0},h),{},{ref:void 0,in:s,children:v})):s?v:null}));yi.displayName="Alert";const Ni=Object.assign(yi,{Link:pi,Heading:mi}),wi=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],ki=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:n,striped:s,bordered:r,borderless:l,hover:i,size:o,variant:c,responsive:d}=e,u=Re(e,wi);const m=Jn(a,"table"),h=Hn()(n,m,c&&"".concat(m,"-").concat(c),o&&"".concat(m,"-").concat(o),s&&"".concat(m,"-").concat("string"===typeof s?"striped-".concat(s):"striped"),r&&"".concat(m,"-bordered"),l&&"".concat(m,"-borderless"),i&&"".concat(m,"-hover")),f=(0,hn.jsx)("table",Ie(Ie({},u),{},{className:h,ref:t}));if(d){let e="".concat(m,"-responsive");return"string"===typeof d&&(e="".concat(e,"-").concat(d)),(0,hn.jsx)("div",{className:e,children:f})}return f}));ki.displayName="Table";const Si=ki,Ci=["bsPrefix","bg","pill","text","className","as"],_i=n.forwardRef(((e,t)=>{let{bsPrefix:a,bg:n="primary",pill:s=!1,text:r,className:l,as:i="span"}=e,o=Re(e,Ci);const c=Jn(a,"badge");return(0,hn.jsx)(i,Ie(Ie({ref:t},o),{},{className:Hn()(l,c,s&&"rounded-pill",r&&"text-".concat(r),n&&"bg-".concat(n))}))}));_i.displayName="Badge";const Ei=_i;var Pi;function Ti(e){if((!Pi&&0!==Pi||e)&&Ys){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Pi=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Pi}function Di(e){const t=function(e){const t=(0,n.useRef)(e);return t.current=e,t}(e);(0,n.useEffect)((()=>()=>t.current()),[])}function Ri(e){void 0===e&&(e=Ws());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(Iu){return e.body}}function Oi(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Fi(e){const t=function(e){const t=(0,n.useRef)(e);return t.current=e,t}(e);(0,n.useEffect)((()=>()=>t.current()),[])}const Li=$r("modal-open");const Ai=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=a,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},a=this.isRTL?"paddingLeft":"paddingRight",n=this.getElement();e.style={overflow:n.style.overflow,[a]:n.style[a]},e.scrollBarWidth&&(t[a]="".concat(parseInt(Ks(n,a)||"0",10)+e.scrollBarWidth,"px")),n.setAttribute(Li,""),Ks(n,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Li),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Ii=(0,n.createContext)(Ys?window:void 0);Ii.Provider;function Mi(){return(0,n.useContext)(Ii)}const zi=(e,t)=>Ys?null==e?(t||Ws()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Ui=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const Bi=["component"];const Wi=n.forwardRef(((e,t)=>{let{component:a}=e;const s=function(e){let{onEnter:t,onEntering:a,onEntered:s,onExit:r,onExiting:l,onExited:i,addEndListener:o,children:c}=e,d=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,Ui);const u=(0,n.useRef)(null),m=js(u,ys(c)),h=e=>t=>{e&&u.current&&e(u.current,t)},f=(0,n.useCallback)(h(t),[t]),p=(0,n.useCallback)(h(a),[a]),x=(0,n.useCallback)(h(s),[s]),v=(0,n.useCallback)(h(r),[r]),b=(0,n.useCallback)(h(l),[l]),g=(0,n.useCallback)(h(i),[i]),j=(0,n.useCallback)(h(o),[o]);return Object.assign({},d,{nodeRef:u},t&&{onEnter:f},a&&{onEntering:p},s&&{onEntered:x},r&&{onExit:v},l&&{onExiting:b},i&&{onExited:g},o&&{addEndListener:j},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:m})):(0,n.cloneElement)(c,{ref:m})})}(function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,Bi));return(0,hn.jsx)(a,Object.assign({ref:t},s))}));function qi(e){let{children:t,in:a,onExited:s,onEntered:r,transition:l}=e;const[i,o]=(0,n.useState)(!a);a&&i&&o(!1);const c=function(e){let{in:t,onTransition:a}=e;const s=(0,n.useRef)(null),r=(0,n.useRef)(!0),l=bs(a);return pl((()=>{if(!s.current)return;let e=!1;return l({in:t,element:s.current,initial:r.current,isStale:()=>e}),()=>{e=!0}}),[t,l]),pl((()=>(r.current=!1,()=>{r.current=!0})),[]),s}({in:!!a,onTransition:e=>{Promise.resolve(l(e)).then((()=>{e.isStale()||(e.in?null==r||r(e.element,e.initial):(o(!0),null==s||s(e.element)))}),(t=>{throw e.in||o(!0),t}))}}),d=js(c,ys(t));return i&&!a?null:(0,n.cloneElement)(t,{ref:d})}function Hi(e,t,a){return e?(0,hn.jsx)(Wi,Object.assign({},a,{component:e})):t?(0,hn.jsx)(qi,Object.assign({},a,{transition:t})):(0,hn.jsx)(Ns,Object.assign({},a))}const Vi=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Gi;function $i(e){const t=Mi(),a=e||function(e){return Gi||(Gi=new Ai({ownerDocument:null==e?void 0:e.document})),Gi}(t),s=(0,n.useRef)({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>a.add(s.current),remove:()=>a.remove(s.current),isTopModal:()=>a.isTopModal(s.current),setDialogRef:(0,n.useCallback)((e=>{s.current.dialog=e}),[]),setBackdropRef:(0,n.useCallback)((e=>{s.current.backdrop=e}),[])})}const Ki=(0,n.forwardRef)(((e,t)=>{let{show:a=!1,role:s="dialog",className:r,style:i,children:o,backdrop:c=!0,keyboard:d=!0,onBackdropClick:u,onEscapeKeyDown:m,transition:h,runTransition:f,backdropTransition:p,runBackdropTransition:x,autoFocus:v=!0,enforceFocus:b=!0,restoreFocus:g=!0,restoreFocusOptions:j,renderDialog:y,renderBackdrop:N=e=>(0,hn.jsx)("div",Object.assign({},e)),manager:w,container:k,onShow:S,onHide:C=()=>{},onExit:_,onExited:E,onExiting:P,onEnter:T,onEntering:D,onEntered:R}=e,O=function(e,t){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,Vi);const F=Mi(),L=function(e,t){const a=Mi(),[s,r]=(0,n.useState)((()=>zi(e,null==a?void 0:a.document)));if(!s){const t=zi(e);t&&r(t)}return(0,n.useEffect)((()=>{t&&s&&t(s)}),[t,s]),(0,n.useEffect)((()=>{const t=zi(e);t!==s&&r(t)}),[e,s]),s}(k),A=$i(w),I=function(){const e=(0,n.useRef)(!0),t=(0,n.useRef)((()=>e.current));return(0,n.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}(),M=function(e){const t=(0,n.useRef)(null);return(0,n.useEffect)((()=>{t.current=e})),t.current}(a),[z,U]=(0,n.useState)(!a),B=(0,n.useRef)(null);(0,n.useImperativeHandle)(t,(()=>A),[A]),Ys&&!M&&a&&(B.current=Ri(null==F?void 0:F.document)),a&&z&&U(!1);const W=bs((()=>{if(A.add(),K.current=tr(document,"keydown",G),$.current=tr(document,"focus",(()=>setTimeout(H)),!0),S&&S(),v){var e,t;const a=Ri(null!=(e=null==(t=A.dialog)?void 0:t.ownerDocument)?e:null==F?void 0:F.document);A.dialog&&a&&!Oi(A.dialog,a)&&(B.current=a,A.dialog.focus())}})),q=bs((()=>{var e;(A.remove(),null==K.current||K.current(),null==$.current||$.current(),g)&&(null==(e=B.current)||null==e.focus||e.focus(j),B.current=null)}));(0,n.useEffect)((()=>{a&&L&&W()}),[a,L,W]),(0,n.useEffect)((()=>{z&&q()}),[z,q]),Fi((()=>{q()}));const H=bs((()=>{if(!b||!I()||!A.isTopModal())return;const e=Ri(null==F?void 0:F.document);A.dialog&&e&&!Oi(A.dialog,e)&&A.dialog.focus()})),V=bs((e=>{e.target===e.currentTarget&&(null==u||u(e),!0===c&&C())})),G=bs((e=>{d&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&A.isTopModal()&&(null==m||m(e),e.defaultPrevented||C())})),$=(0,n.useRef)(),K=(0,n.useRef)();if(!L)return null;const Y=Object.assign({role:s,ref:A.setDialogRef,"aria-modal":"dialog"===s||void 0},O,{style:i,className:r,tabIndex:-1});let J=y?y(Y):(0,hn.jsx)("div",Object.assign({},Y,{children:n.cloneElement(o,{role:"document"})}));J=Hi(h,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!a,onExit:_,onExiting:P,onExited:function(){U(!0),null==E||E(...arguments)},onEnter:T,onEntering:D,onEntered:R,children:J});let Q=null;return c&&(Q=N({ref:A.setBackdropRef,onClick:V}),Q=Hi(p,x,{in:!!a,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Q})),(0,hn.jsx)(hn.Fragment,{children:l.createPortal((0,hn.jsxs)(hn.Fragment,{children:[Q,J]}),L)})}));Ki.displayName="Modal";const Yi=Object.assign(Ki,{Manager:Ai});function Ji(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Qi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Xi=".sticky-top",Zi=".navbar-toggler";class eo extends Ai{adjustAndStore(e,t,a){const n=t.style[e];t.dataset[e]=n,Ks(t,{[e]:"".concat(parseFloat(Ks(t,e))+a,"px")})}restore(e,t){const a=t.dataset[e];void 0!==a&&(delete t.dataset[e],Ks(t,{[e]:a}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var a,n;if(n="modal-open",(a=t).classList?a.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(a,n)||("string"===typeof a.className?a.className=a.className+" "+n:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+n)),!e.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Hr(t,Qi).forEach((t=>this.adjustAndStore(s,t,e.scrollBarWidth))),Hr(t,Xi).forEach((t=>this.adjustAndStore(r,t,-e.scrollBarWidth))),Hr(t,Zi).forEach((t=>this.adjustAndStore(r,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var a,n;n="modal-open",(a=t).classList?a.classList.remove(n):"string"===typeof a.className?a.className=Ji(a.className,n):a.setAttribute("class",Ji(a.className&&a.className.baseVal||"",n));const s=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Hr(t,Qi).forEach((e=>this.restore(s,e))),Hr(t,Xi).forEach((e=>this.restore(r,e))),Hr(t,Zi).forEach((e=>this.restore(r,e)))}}let to;const ao=["className","bsPrefix","as"],no=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s="div"}=e,r=Re(e,ao);return n=Jn(n,"modal-body"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));no.displayName="ModalBody";const so=no,ro=n.createContext({onHide(){}}),lo=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],io=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:n,contentClassName:s,centered:r,size:l,fullscreen:i,children:o,scrollable:c}=e,d=Re(e,lo);a=Jn(a,"modal");const u="".concat(a,"-dialog"),m="string"===typeof i?"".concat(a,"-fullscreen-").concat(i):"".concat(a,"-fullscreen");return(0,hn.jsx)("div",Ie(Ie({},d),{},{ref:t,className:Hn()(u,n,l&&"".concat(a,"-").concat(l),r&&"".concat(u,"-centered"),c&&"".concat(u,"-scrollable"),i&&m),children:(0,hn.jsx)("div",{className:Hn()("".concat(a,"-content"),s),children:o})}))}));io.displayName="ModalDialog";const oo=io,co=["className","bsPrefix","as"],uo=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s="div"}=e,r=Re(e,co);return n=Jn(n,"modal-footer"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));uo.displayName="ModalFooter";const mo=uo,ho=["closeLabel","closeVariant","closeButton","onHide","children"],fo=n.forwardRef(((e,t)=>{let{closeLabel:a="Close",closeVariant:s,closeButton:r=!1,onHide:l,children:i}=e,o=Re(e,ho);const c=(0,n.useContext)(ro),d=oi((()=>{null==c||c.onHide(),null==l||l()}));return(0,hn.jsxs)("div",Ie(Ie({ref:t},o),{},{children:[i,r&&(0,hn.jsx)(gi,{"aria-label":a,variant:s,onClick:d})]}))}));fo.displayName="AbstractModalHeader";const po=fo,xo=["bsPrefix","className","closeLabel","closeButton"],vo=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:n,closeLabel:s="Close",closeButton:r=!1}=e,l=Re(e,xo);return a=Jn(a,"modal-header"),(0,hn.jsx)(po,Ie(Ie({ref:t},l),{},{className:Hn()(n,a),closeLabel:s,closeButton:r}))}));vo.displayName="ModalHeader";const bo=vo,go=["className","bsPrefix","as"],jo=ql("h4"),yo=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s=jo}=e,r=Re(e,go);return n=Jn(n,"modal-title"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));yo.displayName="ModalTitle";const No=yo,wo=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","data-bs-theme","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function ko(e){return(0,hn.jsx)(fr,Ie(Ie({},e),{},{timeout:null}))}function So(e){return(0,hn.jsx)(fr,Ie(Ie({},e),{},{timeout:null}))}const Co=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:s,style:r,dialogClassName:l,contentClassName:i,children:o,dialogAs:c=oo,"data-bs-theme":d,"aria-labelledby":u,"aria-describedby":m,"aria-label":h,show:f=!1,animation:p=!0,backdrop:x=!0,keyboard:v=!0,onEscapeKeyDown:b,onShow:g,onHide:j,container:y,autoFocus:N=!0,enforceFocus:w=!0,restoreFocus:k=!0,restoreFocusOptions:S,onEntered:C,onExit:_,onExiting:E,onEnter:P,onEntering:T,onExited:D,backdropClassName:R,manager:O}=e,F=Re(e,wo);const[L,A]=(0,n.useState)({}),[I,M]=(0,n.useState)(!1),z=(0,n.useRef)(!1),U=(0,n.useRef)(!1),B=(0,n.useRef)(null),[W,q]=(0,n.useState)(null),H=ir(t,q),V=oi(j),G=function(){const{dir:e}=(0,n.useContext)($n);return"rtl"===e}();a=Jn(a,"modal");const $=(0,n.useMemo)((()=>({onHide:V})),[V]);function K(){return O||function(e){return to||(to=new eo(e)),to}({isRTL:G})}function Y(e){if(!Ys)return;const t=K().getScrollbarWidth()>0,a=e.scrollHeight>Ws(e).documentElement.clientHeight;A({paddingRight:t&&!a?Ti():void 0,paddingLeft:!t&&a?Ti():void 0})}const J=oi((()=>{W&&Y(W.dialog)}));Di((()=>{er(window,"resize",J),null==B.current||B.current()}));const Q=()=>{z.current=!0},X=e=>{z.current&&W&&e.target===W.dialog&&(U.current=!0),z.current=!1},Z=()=>{M(!0),B.current=nr(W.dialog,(()=>{M(!1)}))},ee=e=>{"static"!==x?U.current||e.target!==e.currentTarget?U.current=!1:null==j||j():(e=>{e.target===e.currentTarget&&Z()})(e)},te=(0,n.useCallback)((e=>(0,hn.jsx)("div",Ie(Ie({},e),{},{className:Hn()("".concat(a,"-backdrop"),R,!p&&"show")}))),[p,R,a]),ae=Ie(Ie({},r),L);ae.display="block";return(0,hn.jsx)(ro.Provider,{value:$,children:(0,hn.jsx)(Yi,{show:f,ref:H,backdrop:x,container:y,keyboard:!0,autoFocus:N,enforceFocus:w,restoreFocus:k,restoreFocusOptions:S,onEscapeKeyDown:e=>{v?null==b||b(e):(e.preventDefault(),"static"===x&&Z())},onShow:g,onHide:j,onEnter:(e,t)=>{e&&Y(e),null==P||P(e,t)},onEntering:(e,t)=>{null==T||T(e,t),Zs(window,"resize",J)},onEntered:C,onExit:e=>{null==B.current||B.current(),null==_||_(e)},onExiting:E,onExited:e=>{e&&(e.style.display=""),null==D||D(e),er(window,"resize",J)},manager:K(),transition:p?ko:void 0,backdropTransition:p?So:void 0,renderBackdrop:te,renderDialog:e=>(0,hn.jsx)("div",Ie(Ie({role:"dialog"},e),{},{style:ae,className:Hn()(s,a,I&&"".concat(a,"-static"),!p&&"show"),onClick:x?ee:void 0,onMouseUp:X,"data-bs-theme":d,"aria-label":h,"aria-labelledby":u,"aria-describedby":m,children:(0,hn.jsx)(c,Ie(Ie({},F),{},{onMouseDown:Q,className:l,contentClassName:i,children:o}))}))})})}));Co.displayName="Modal";const _o=Object.assign(Co,{Body:so,Header:bo,Title:No,Footer:mo,Dialog:oo,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Eo=["as","className","type","tooltip"],Po={type:ns().string,tooltip:ns().bool,as:ns().elementType},To=n.forwardRef(((e,t)=>{let{as:a="div",className:n,type:s="valid",tooltip:r=!1}=e,l=Re(e,Eo);return(0,hn.jsx)(a,Ie(Ie({},l),{},{ref:t,className:Hn()(n,"".concat(s,"-").concat(r?"tooltip":"feedback"))}))}));To.displayName="Feedback",To.propTypes=Po;const Do=To,Ro=n.createContext({}),Oo=["id","bsPrefix","className","type","isValid","isInvalid","as"],Fo=n.forwardRef(((e,t)=>{let{id:a,bsPrefix:s,className:r,type:l="checkbox",isValid:i=!1,isInvalid:o=!1,as:c="input"}=e,d=Re(e,Oo);const{controlId:u}=(0,n.useContext)(Ro);return s=Jn(s,"form-check-input"),(0,hn.jsx)(c,Ie(Ie({},d),{},{ref:t,type:l,id:a||u,className:Hn()(r,s,i&&"is-valid",o&&"is-invalid")}))}));Fo.displayName="FormCheckInput";const Lo=Fo,Ao=["bsPrefix","className","htmlFor"],Io=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:s,htmlFor:r}=e,l=Re(e,Ao);const{controlId:i}=(0,n.useContext)(Ro);return a=Jn(a,"form-check-label"),(0,hn.jsx)("label",Ie(Ie({},l),{},{ref:t,htmlFor:r||i,className:Hn()(s,a)}))}));Io.displayName="FormCheckLabel";const Mo=Io;const zo=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Uo=n.forwardRef(((e,t)=>{let{id:a,bsPrefix:s,bsSwitchPrefix:r,inline:l=!1,reverse:i=!1,disabled:o=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:u=!1,feedback:m,feedbackType:h,className:f,style:p,title:x="",type:v="checkbox",label:b,children:g,as:j="input"}=e,y=Re(e,zo);s=Jn(s,"form-check"),r=Jn(r,"form-switch");const{controlId:N}=(0,n.useContext)(Ro),w=(0,n.useMemo)((()=>({controlId:a||N})),[N,a]),k=!g&&null!=b&&!1!==b||function(e,t){return n.Children.toArray(e).some((e=>n.isValidElement(e)&&e.type===t))}(g,Mo),S=(0,hn.jsx)(Lo,Ie(Ie({},y),{},{type:"switch"===v?"checkbox":v,ref:t,isValid:c,isInvalid:d,disabled:o,as:j}));return(0,hn.jsx)(Ro.Provider,{value:w,children:(0,hn.jsx)("div",{style:p,className:Hn()(f,k&&s,l&&"".concat(s,"-inline"),i&&"".concat(s,"-reverse"),"switch"===v&&r),children:g||(0,hn.jsxs)(hn.Fragment,{children:[S,k&&(0,hn.jsx)(Mo,{title:x,children:b}),m&&(0,hn.jsx)(Do,{type:h,tooltip:u,children:m})]})})})}));Uo.displayName="FormCheck";const Bo=Object.assign(Uo,{Input:Lo,Label:Mo});a(241);const Wo=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],qo=n.forwardRef(((e,t)=>{let{bsPrefix:a,type:s,size:r,htmlSize:l,id:i,className:o,isValid:c=!1,isInvalid:d=!1,plaintext:u,readOnly:m,as:h="input"}=e,f=Re(e,Wo);const{controlId:p}=(0,n.useContext)(Ro);return a=Jn(a,"form-control"),(0,hn.jsx)(h,Ie(Ie({},f),{},{type:s,size:l,ref:t,readOnly:m,id:i||p,className:Hn()(o,u?"".concat(a,"-plaintext"):a,r&&"".concat(a,"-").concat(r),"color"===s&&"".concat(a,"-color"),c&&"is-valid",d&&"is-invalid")}))}));qo.displayName="FormControl";const Ho=Object.assign(qo,{Feedback:Do}),Vo=["className","bsPrefix","as"],Go=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s="div"}=e,r=Re(e,Vo);return n=Jn(n,"form-floating"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));Go.displayName="FormFloating";const $o=Go,Ko=["controlId","as"],Yo=n.forwardRef(((e,t)=>{let{controlId:a,as:s="div"}=e,r=Re(e,Ko);const l=(0,n.useMemo)((()=>({controlId:a})),[a]);return(0,hn.jsx)(Ro.Provider,{value:l,children:(0,hn.jsx)(s,Ie(Ie({},r),{},{ref:t}))})}));Yo.displayName="FormGroup";const Jo=Yo,Qo=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],Xo=n.forwardRef(((e,t)=>{let{as:a="label",bsPrefix:s,column:r=!1,visuallyHidden:l=!1,className:i,htmlFor:o}=e,c=Re(e,Qo);const{controlId:d}=(0,n.useContext)(Ro);s=Jn(s,"form-label");let u="col-form-label";"string"===typeof r&&(u="".concat(u," ").concat(u,"-").concat(r));const m=Hn()(i,s,l&&"visually-hidden",r&&u);return o=o||d,r?(0,hn.jsx)(Lr,Ie({ref:t,as:"label",className:m,htmlFor:o},c)):(0,hn.jsx)(a,Ie({ref:t,className:m,htmlFor:o},c))}));Xo.displayName="FormLabel";const Zo=Xo,ec=["bsPrefix","className","id"],tc=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:s,id:r}=e,l=Re(e,ec);const{controlId:i}=(0,n.useContext)(Ro);return a=Jn(a,"form-range"),(0,hn.jsx)("input",Ie(Ie({},l),{},{type:"range",ref:t,className:Hn()(s,a),id:r||i}))}));tc.displayName="FormRange";const ac=tc,nc=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],sc=n.forwardRef(((e,t)=>{let{bsPrefix:a,size:s,htmlSize:r,className:l,isValid:i=!1,isInvalid:o=!1,id:c}=e,d=Re(e,nc);const{controlId:u}=(0,n.useContext)(Ro);return a=Jn(a,"form-select"),(0,hn.jsx)("select",Ie(Ie({},d),{},{size:r,ref:t,className:Hn()(l,a,s&&"".concat(a,"-").concat(s),i&&"is-valid",o&&"is-invalid"),id:c||u}))}));sc.displayName="FormSelect";const rc=sc,lc=["bsPrefix","className","as","muted"],ic=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:n,as:s="small",muted:r}=e,l=Re(e,lc);return a=Jn(a,"form-text"),(0,hn.jsx)(s,Ie(Ie({},l),{},{ref:t,className:Hn()(n,a,r&&"text-muted")}))}));ic.displayName="FormText";const oc=ic,cc=n.forwardRef(((e,t)=>(0,hn.jsx)(Bo,Ie(Ie({},e),{},{ref:t,type:"switch"}))));cc.displayName="Switch";const dc=Object.assign(cc,{Input:Bo.Input,Label:Bo.Label}),uc=["bsPrefix","className","children","controlId","label"],mc=n.forwardRef(((e,t)=>{let{bsPrefix:a,className:n,children:s,controlId:r,label:l}=e,i=Re(e,uc);return a=Jn(a,"form-floating"),(0,hn.jsxs)(Jo,Ie(Ie({ref:t,className:Hn()(n,a),controlId:r},i),{},{children:[s,(0,hn.jsx)("label",{htmlFor:r,children:l})]}))}));mc.displayName="FloatingLabel";const hc=mc,fc=["className","validated","as"],pc={_ref:ns().any,validated:ns().bool,as:ns().elementType},xc=n.forwardRef(((e,t)=>{let{className:a,validated:n,as:s="form"}=e,r=Re(e,fc);return(0,hn.jsx)(s,Ie(Ie({},r),{},{ref:t,className:Hn()(a,n&&"was-validated")}))}));xc.displayName="Form",xc.propTypes=pc;const vc=Object.assign(xc,{Group:Jo,Control:Ho,Floating:$o,Check:Bo,Switch:dc,Label:Zo,Text:oc,Range:ac,Select:rc,FloatingLabel:hc});var bc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gc=n.createContext&&n.createContext(bc),jc=["attr","size","title"];function yc(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Nc.apply(this,arguments)}function wc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function kc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(a),!0).forEach((function(t){Sc(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Sc(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Cc(e){return e&&e.map(((e,t)=>n.createElement(e.tag,kc({key:t},e.attr),Cc(e.child))))}function _c(e){return t=>n.createElement(Ec,Nc({attr:kc({},e.attr)},t),Cc(e.child))}function Ec(e){var t=t=>{var a,{attr:s,size:r,title:l}=e,i=yc(e,jc),o=r||t.size||"1em";return t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className),n.createElement("svg",Nc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,i,{className:a,style:kc(kc({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),l&&n.createElement("title",null,l),e.children)};return void 0!==gc?n.createElement(gc.Consumer,null,(e=>t(e))):t(bc)}function Pc(e){return _c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function Tc(e){return _c({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Dc(e){return _c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(e)}function Rc(e){return _c({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Oc(e){return _c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Fc(e){return _c({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function Lc(e){return _c({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Ac(e){return _c({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}const Ic=()=>{const[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)(!1),[r,l]=(0,n.useState)(!1),[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)({name:"",description:"",points:"",solo_points:"",team_points:"",price:"",is_active:!0}),[u,m]=(0,n.useState)(""),[h,f]=(0,n.useState)(""),[p,x]=(0,n.useState)(!0),v=async()=>{try{x(!0);const e=await mn.get("/api/packs/admin/all");t(e.data),x(!1)}catch(e){console.error("Error fetching packs:",e),m("Failed to load packs. Please try again later."),x(!1)}};(0,n.useEffect)((()=>{v()}),[]);const b=e=>{const{name:t,value:a,type:n,checked:s}=e.target;d(Ie(Ie({},c),{},{[t]:"checkbox"===n?s:a}))},g=()=>{d({name:"",description:"",points:"",solo_points:"",team_points:"",price:"",is_active:!0}),m(""),f("")},j=()=>s(!1),y=()=>l(!1);return(0,hn.jsxs)(ts,{className:"mt-4",children:[(0,hn.jsx)(Dr,{children:(0,hn.jsx)(Lr,{children:(0,hn.jsxs)(ni,{children:[(0,hn.jsxs)(ni.Header,{className:"d-flex justify-content-between align-items-center",children:[(0,hn.jsx)("h3",{children:"Manage Packs"}),(0,hn.jsxs)(li,{variant:"primary",onClick:()=>{g(),s(!0)},children:[(0,hn.jsx)(Rc,{className:"me-2"})," Add New Pack"]})]}),(0,hn.jsxs)(ni.Body,{children:[u&&(0,hn.jsx)(Ni,{variant:"danger",children:u}),h&&(0,hn.jsx)(Ni,{variant:"success",children:h}),p?(0,hn.jsx)("div",{className:"text-center py-4",children:"Loading packs..."}):(0,hn.jsx)("div",{className:"table-responsive",children:(0,hn.jsxs)(Si,{striped:!0,hover:!0,className:"admin-packs-table",children:[(0,hn.jsx)("thead",{children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:"ID"}),(0,hn.jsx)("th",{children:"Name"}),(0,hn.jsx)("th",{children:"Description"}),(0,hn.jsx)("th",{children:"Solo Points (SP)"}),(0,hn.jsx)("th",{children:"Team Points (TP)"}),(0,hn.jsx)("th",{children:"Total Points"}),(0,hn.jsx)("th",{children:"Price"}),(0,hn.jsx)("th",{children:"Status"}),(0,hn.jsx)("th",{children:"Actions"})]})}),(0,hn.jsx)("tbody",{children:0===e.length?(0,hn.jsx)("tr",{children:(0,hn.jsx)("td",{colSpan:"9",className:"text-center",children:"No packs found. Add your first pack!"})}):e.map((e=>(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:e.id}),(0,hn.jsx)("td",{children:e.name}),(0,hn.jsx)("td",{children:e.description?(0,hn.jsx)("ul",{className:"m-0 ps-3",children:e.description.split("\n").map(((e,t)=>e.trim()?(0,hn.jsx)("li",{children:e.trim()},t):null))}):"-"}),(0,hn.jsxs)("td",{children:[(0,hn.jsx)("strong",{children:e.solo_points||0})," SP"]}),(0,hn.jsxs)("td",{children:[(0,hn.jsx)("strong",{children:e.team_points||0})," TP"]}),(0,hn.jsxs)("td",{children:[(0,hn.jsx)("strong",{children:e.points})," total"]}),(0,hn.jsx)("td",{children:e.price?"".concat(e.price," DH"):"Free"}),(0,hn.jsx)("td",{children:(0,hn.jsx)(Ei,{bg:e.is_active?"success":"danger",children:e.is_active?"Active":"Inactive"})}),(0,hn.jsxs)("td",{children:[(0,hn.jsx)(li,{variant:"outline-primary",size:"sm",className:"me-2",onClick:()=>(e=>{o(e),d({name:e.name,description:e.description||"",points:e.points,solo_points:e.solo_points||"",team_points:e.team_points||"",price:e.price||"",is_active:1===e.is_active}),l(!0)})(e),children:(0,hn.jsx)(Tc,{})}),(0,hn.jsx)(li,{variant:"outline-danger",size:"sm",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this pack?"))try{await mn.delete("/api/packs/".concat(e)),f("Pack deleted successfully!"),v()}catch(n){var t,a;console.error("Error deleting pack:",n),m((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Failed to delete pack. Please try again.")}})(e.id),children:(0,hn.jsx)(Lc,{})})]})]},e.id)))})]})})]})]})})}),(0,hn.jsxs)(_o,{show:a,onHide:j,children:[(0,hn.jsx)(_o.Header,{closeButton:!0,children:(0,hn.jsx)(_o.Title,{children:"Add New Pack"})}),(0,hn.jsxs)(_o.Body,{children:[u&&(0,hn.jsx)(Ni,{variant:"danger",children:u}),(0,hn.jsxs)(vc,{onSubmit:async e=>{e.preventDefault();try{if(!c.name)return void m("Name is required");if((isNaN(c.solo_points)||parseInt(c.solo_points)<0)&&(isNaN(c.team_points)||parseInt(c.team_points)<0))return void m("At least one of Solo Points or Team Points must be a positive number");if(c.price&&(isNaN(c.price)||parseFloat(c.price)<0))return void m("Price must be a positive number");const e=parseInt(c.solo_points)||0,t=parseInt(c.team_points)||0,a=e+t,n={name:c.name,description:c.description,points:a,solo_points:e,team_points:t,price:c.price?parseFloat(c.price):null,is_active:c.is_active};await mn.post("/api/packs",n),g(),f("Pack added successfully!"),j(),v()}catch(n){var t,a;console.error("Error adding pack:",n),m((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Failed to add pack. Please try again.")}},children:[(0,hn.jsxs)(vc.Group,{className:"mb-3",children:[(0,hn.jsx)(vc.Label,{children:"Pack Name*"}),(0,hn.jsx)(vc.Control,{type:"text",name:"name",value:c.name,onChange:b,placeholder:"Enter pack name",required:!0})]}),(0,hn.jsxs)(vc.Group,{className:"mb-3",children:[(0,hn.jsx)(vc.Label,{children:"Description (Each line will appear as a bullet point)"}),(0,hn.jsx)(vc.Control,{as:"textarea",name:"description",value:c.description,onChange:b,placeholder:"Enter each feature on a new line, e.g.:\r\n10 points de coaching\r\nR\xe9servez quand vous voulez\r\nAcc\xe8s \xe0 tous les coachs",rows:5}),(0,hn.jsx)(vc.Text,{className:"text-muted",children:"Each line you type will appear as a separate bullet point with a check mark icon."})]}),(0,hn.jsxs)(vc.Group,{className:"mb-3",children:[(0,hn.jsx)(vc.Label,{children:"Points*"}),(0,hn.jsx)(vc.Control,{type:"number",name:"points",value:c.points,onChange:b,placeholder:"Enter points value",min:"1",required:!0})]}),(0,hn.jsxs)(vc.Group,{className:"mb-3",children:[(0,hn.jsx)(vc.Label,{children:"Solo Points (Optional)"}),(0,hn.jsx)(vc.Control,{type:"number",name:"solo_points",value:c.solo_points,onChange:b,placeholder:"Enter solo points value",min:"0"})]}),(0,hn.jsxs)(vc.Group,{className:"mb-3",children:[(0,hn.jsx)(vc.Label,{children:"Team Points (Optional)"}),(0,hn.jsx)(vc.Control,{type:"number",name:"team_points",value:c.team_points,onChange:b,placeholder:"Enter team points value",min:"0"})]}),(0,hn.jsxs)(vc.Group,{className:"mb-3",children:[(0,hn.jsx)(vc.Label,{children:"Price (Optional)"}),(0,hn.jsx)(vc.Control,{type:"number",step:"0.01",name:"price",value:c.price,onChange:b,placeholder:"Enter price (leave empty if free)"})]}),(0,hn.jsx)(vc.Group,{className:"mb-3",children:(0,hn.jsx)(vc.Check,{type:"checkbox",name:"is_active",checked:c.is_active,onChange:b,label:"Active pack (available for purchase)"})}),(0,hn.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,hn.jsx)(li,{variant:"secondary",className:"me-2",onClick:j,children:"Cancel"}),(0,hn.jsx)(li,{variant:"primary",type:"submit",children:"Add Pack"})]})]})]})]}),(0,hn.jsxs)(_o,{show:r,onHide:y,children:[(0,hn.jsx)(_o.Header,{closeButton:!0,children:(0,hn.jsx)(_o.Title,{children:"Edit Pack"})}),(0,hn.jsxs)(_o.Body,{children:[u&&(0,hn.jsx)(Ni,{variant:"danger",children:u}),(0,hn.jsxs)(vc,{onSubmit:async e=>{e.preventDefault();try{if(!c.name)return void m("Name is required");if((isNaN(c.solo_points)||parseInt(c.solo_points)<0)&&(isNaN(c.team_points)||parseInt(c.team_points)<0))return void m("At least one of Solo Points or Team Points must be a positive number");if(c.price&&(isNaN(c.price)||parseFloat(c.price)<0))return void m("Price must be a positive number");const e=parseInt(c.solo_points)||0,t=parseInt(c.team_points)||0,a=e+t,n={name:c.name,description:c.description,points:a,solo_points:e,team_points:t,price:c.price?parseFloat(c.price):null,is_active:c.is_active};await mn.put("/api/packs/".concat(i.id),n),g(),f("Pack updated successfully!"),y(),v()}catch(n){var t,a;console.error("Error updating pack:",n),m((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Failed to update pack. Please try again.")}},children:[(0,hn.jsxs)(vc.Group,{className:"mb-3",children:[(0,hn.jsx)(vc.Label,{children:"Pack Name*"}),(0,hn.jsx)(vc.Control,{type:"text",name:"name",value:c.name,onChange:b,placeholder:"Enter pack name",required:!0})]}),(0,hn.jsxs)(vc.Group,{className:"mb-3",children:[(0,hn.jsx)(vc.Label,{children:"Description (Each line will appear as a bullet point)"}),(0,hn.jsx)(vc.Control,{as:"textarea",name:"description",value:c.description,onChange:b,placeholder:"Enter each feature on a new line, e.g.:\r\n10 points de coaching\r\nR\xe9servez quand vous voulez\r\nAcc\xe8s \xe0 tous les coachs",rows:5}),(0,hn.jsx)(vc.Text,{className:"text-muted",children:"Each line you type will appear as a separate bullet point with a check mark icon."})]}),(0,hn.jsxs)(vc.Group,{className:"mb-3",children:[(0,hn.jsx)(vc.Label,{children:"Points*"}),(0,hn.jsx)(vc.Control,{type:"number",name:"points",value:c.points,onChange:b,placeholder:"Enter points value",min:"1",required:!0})]}),(0,hn.jsxs)(vc.Group,{className:"mb-3",children:[(0,hn.jsx)(vc.Label,{children:"Solo Points (Optional)"}),(0,hn.jsx)(vc.Control,{type:"number",name:"solo_points",value:c.solo_points,onChange:b,placeholder:"Enter solo points value",min:"0"})]}),(0,hn.jsxs)(vc.Group,{className:"mb-3",children:[(0,hn.jsx)(vc.Label,{children:"Team Points (Optional)"}),(0,hn.jsx)(vc.Control,{type:"number",name:"team_points",value:c.team_points,onChange:b,placeholder:"Enter team points value",min:"0"})]}),(0,hn.jsxs)(vc.Group,{className:"mb-3",children:[(0,hn.jsx)(vc.Label,{children:"Price (Optional)"}),(0,hn.jsx)(vc.Control,{type:"number",step:"0.01",name:"price",value:c.price,onChange:b,placeholder:"Enter price (leave empty if free)"})]}),(0,hn.jsx)(vc.Group,{className:"mb-3",children:(0,hn.jsx)(vc.Check,{type:"checkbox",name:"is_active",checked:c.is_active,onChange:b,label:"Active pack (available for purchase)"})}),(0,hn.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,hn.jsx)(li,{variant:"secondary",className:"me-2",onClick:y,children:"Cancel"}),(0,hn.jsx)(li,{variant:"primary",type:"submit",children:"Update Pack"})]})]})]})]})]})},Mc=n.createContext(null);Mc.displayName="InputGroupContext";const zc=Mc,Uc=["className","bsPrefix","as"],Bc=n.forwardRef(((e,t)=>{let{className:a,bsPrefix:n,as:s="span"}=e,r=Re(e,Uc);return n=Jn(n,"input-group-text"),(0,hn.jsx)(s,Ie({ref:t,className:Hn()(a,n)},r))}));Bc.displayName="InputGroupText";const Wc=Bc,qc=["bsPrefix","size","hasValidation","className","as"],Hc=n.forwardRef(((e,t)=>{let{bsPrefix:a,size:s,hasValidation:r,className:l,as:i="div"}=e,o=Re(e,qc);a=Jn(a,"input-group");const c=(0,n.useMemo)((()=>({})),[]);return(0,hn.jsx)(zc.Provider,{value:c,children:(0,hn.jsx)(i,Ie(Ie({ref:t},o),{},{className:Hn()(l,a,s&&"".concat(a,"-").concat(s),r&&"has-validation")}))})}));Hc.displayName="InputGroup";const Vc=Object.assign(Hc,{Text:Wc,Radio:e=>(0,hn.jsx)(Wc,{children:(0,hn.jsx)(Lo,Ie({type:"radio"},e))}),Checkbox:e=>(0,hn.jsx)(Wc,{children:(0,hn.jsx)(Lo,Ie({type:"checkbox"},e))})}),Gc=()=>{const[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)([]),[r,l]=(0,n.useState)([]),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(""),[h,f]=(0,n.useState)(""),[p,x]=(0,n.useState)(""),[v,b]=(0,n.useState)(""),[g,j]=(0,n.useState)(""),[y,N]=(0,n.useState)(!0),w=async()=>{try{const e=await mn.get("/api/users");t(e.data.filter((e=>"user"===e.role)))}catch(e){console.error("Error fetching users:",e),b("Failed to load users.")}},k=async()=>{try{const e=await mn.get("/api/packs");s(e.data)}catch(e){console.error("Error fetching packs:",e),b("Failed to load packs.")}},S=async()=>{try{const e=await mn.get("/api/packs/admin/user-packs");l(e.data)}catch(e){console.error("Error fetching user packs:",e),b("Failed to load user pack assignments.")}};(0,n.useEffect)((()=>{(async()=>{N(!0),await Promise.all([w(),k(),S()]),N(!1)})()}),[]);const C=()=>{o(!1),d(null),m(""),f(""),b("")},_=e.filter((e=>{var t;return(null===(t=e.full_name)||void 0===t?void 0:t.toLowerCase().includes(p.toLowerCase()))||e.username.toLowerCase().includes(p.toLowerCase())||e.email.toLowerCase().includes(p.toLowerCase())||e.matricule.toLowerCase().includes(p.toLowerCase())}));return(0,hn.jsxs)(ts,{className:"mt-4",children:[(0,hn.jsx)(Dr,{children:(0,hn.jsx)(Lr,{children:(0,hn.jsxs)(ni,{children:[(0,hn.jsx)(ni.Header,{children:(0,hn.jsxs)("h3",{children:[(0,hn.jsx)(Dc,{className:"me-2"}),"Assign Packs to Users"]})}),(0,hn.jsxs)(ni.Body,{children:[v&&(0,hn.jsx)(Ni,{variant:"danger",children:v}),g&&(0,hn.jsx)(Ni,{variant:"success",children:g}),(0,hn.jsx)(Dr,{className:"mb-3",children:(0,hn.jsx)(Lr,{md:6,children:(0,hn.jsxs)(Vc,{children:[(0,hn.jsx)(Vc.Text,{children:(0,hn.jsx)(Oc,{})}),(0,hn.jsx)(vc.Control,{type:"text",placeholder:"Search users by name, email, or matricule...",value:p,onChange:e=>x(e.target.value)})]})})}),y?(0,hn.jsx)("div",{className:"text-center py-4",children:"Loading users..."}):(0,hn.jsx)("div",{className:"table-responsive assign-packs-container",children:(0,hn.jsxs)(Si,{striped:!0,hover:!0,className:"users-table",children:[(0,hn.jsx)("thead",{children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:"Matricule"}),(0,hn.jsx)("th",{children:"Name"}),(0,hn.jsx)("th",{children:"Email"}),(0,hn.jsx)("th",{children:"Current Points"}),(0,hn.jsx)("th",{children:"Actions"})]})}),(0,hn.jsx)("tbody",{children:0===_.length?(0,hn.jsx)("tr",{children:(0,hn.jsx)("td",{colSpan:"5",className:"text-center",children:p?"No users found matching your search.":"No users found."})}):_.map((e=>(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:e.matricule}),(0,hn.jsx)("td",{children:e.full_name||e.username}),(0,hn.jsx)("td",{children:e.email}),(0,hn.jsx)("td",{children:(0,hn.jsxs)(Ei,{bg:"primary",children:[e.points," points"]})}),(0,hn.jsx)("td",{children:(0,hn.jsxs)(li,{variant:"success",size:"sm",onClick:()=>(e=>{d(e),m(""),f(""),b(""),o(!0)})(e),children:[(0,hn.jsx)(Ac,{className:"me-1"})," Assign Pack"]})})]},e.id)))})]})})]})]})})}),(0,hn.jsx)(Dr,{className:"mt-4",children:(0,hn.jsx)(Lr,{children:(0,hn.jsxs)(ni,{children:[(0,hn.jsx)(ni.Header,{children:(0,hn.jsx)("h4",{children:"Recent Pack Assignments"})}),(0,hn.jsx)(ni.Body,{children:(0,hn.jsx)("div",{className:"table-responsive",children:(0,hn.jsxs)(Si,{striped:!0,hover:!0,size:"sm",className:"admin-assignments-table",children:[(0,hn.jsx)("thead",{children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:"Date"}),(0,hn.jsx)("th",{children:"User"}),(0,hn.jsx)("th",{children:"Pack"}),(0,hn.jsx)("th",{children:"Points"}),(0,hn.jsx)("th",{children:"Status"})]})}),(0,hn.jsx)("tbody",{children:r.slice(0,10).map((e=>(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:new Date(e.purchased_at).toLocaleDateString()}),(0,hn.jsx)("td",{children:e.full_name||e.username}),(0,hn.jsx)("td",{children:e.pack_name}),(0,hn.jsxs)("td",{children:[e.points," points"]}),(0,hn.jsx)("td",{children:(0,hn.jsx)(Ei,{bg:"completed"===e.payment_status?"success":"warning",children:e.payment_status})})]},e.id)))})]})})})]})})}),(0,hn.jsxs)(_o,{show:i,onHide:C,children:[(0,hn.jsx)(_o.Header,{closeButton:!0,children:(0,hn.jsx)(_o.Title,{children:"Assign Pack to User"})}),(0,hn.jsx)(_o.Body,{children:c&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)(Ni,{variant:"info",children:[(0,hn.jsx)("strong",{children:"User:"})," ",c.full_name||c.username,(0,hn.jsx)("br",{}),(0,hn.jsx)("strong",{children:"Current Points:"})," ",c.points]}),v&&(0,hn.jsx)(Ni,{variant:"danger",children:v}),(0,hn.jsxs)(vc,{onSubmit:async e=>{if(e.preventDefault(),u)try{await mn.post("/api/packs/admin/assign/".concat(c.id,"/").concat(u),{notes:h});j("Successfully assigned pack to ".concat(c.full_name||c.username)),C(),w(),S()}catch(n){var t,a;console.error("Error assigning pack:",n),b((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||"Failed to assign pack. Please try again.")}else b("Please select a pack to assign")},children:[(0,hn.jsxs)(vc.Group,{className:"mb-3",children:[(0,hn.jsx)(vc.Label,{children:"Select Pack*"}),(0,hn.jsxs)(vc.Select,{value:u,onChange:e=>m(e.target.value),required:!0,children:[(0,hn.jsx)("option",{value:"",children:"Choose a pack..."}),a.map((e=>(0,hn.jsxs)("option",{value:e.id,children:[e.name," - ",e.points," points",e.price?" (".concat(e.price," DH)"):" (Free)"]},e.id)))]})]}),(0,hn.jsxs)(vc.Group,{className:"mb-3",children:[(0,hn.jsx)(vc.Label,{children:"Notes (Optional)"}),(0,hn.jsx)(vc.Control,{as:"textarea",rows:3,value:h,onChange:e=>f(e.target.value),placeholder:"Enter any notes about this assignment..."})]}),(0,hn.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,hn.jsx)(li,{variant:"secondary",className:"me-2",onClick:C,children:"Cancel"}),(0,hn.jsx)(li,{variant:"success",type:"submit",children:"Assign Pack"})]})]})]})})]})]})},$c=()=>{const[e,t]=(0,n.useState)("manage");return(0,hn.jsx)(ts,{fluid:!0,className:"mt-4",children:(0,hn.jsxs)(Er.Container,{activeKey:e,onSelect:t,children:[(0,hn.jsx)(Dr,{children:(0,hn.jsx)(Lr,{children:(0,hn.jsxs)(kl,{variant:"tabs",className:"mb-4",children:[(0,hn.jsx)(kl.Item,{children:(0,hn.jsxs)(kl.Link,{eventKey:"manage",children:[(0,hn.jsx)(Pc,{className:"me-2"}),"Manage Packs"]})}),(0,hn.jsx)(kl.Item,{children:(0,hn.jsxs)(kl.Link,{eventKey:"assign",children:[(0,hn.jsx)(Ac,{className:"me-2"}),"Assign Packs to Users"]})})]})})}),(0,hn.jsx)(Dr,{children:(0,hn.jsx)(Lr,{children:(0,hn.jsxs)(Er.Content,{children:[(0,hn.jsx)(Er.Pane,{eventKey:"manage",children:(0,hn.jsx)(Ic,{})}),(0,hn.jsx)(Er.Pane,{eventKey:"assign",children:(0,hn.jsx)(Gc,{})})]})})})]})})},Kc=()=>{const[e,t]=(0,n.useState)(!0),[a,s]=(0,n.useState)([]),[r,l]=(0,n.useState)([]),[i,o]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(null),[h,f]=(0,n.useState)([]),[p,x]=(0,n.useState)(!1),[v,b]=(0,n.useState)({title:"",description:"",coach_id:"",date:"",time:"",duration:60,max_participants:10,is_active:!0});(0,n.useEffect)((()=>{g(),j()}),[]);const g=async()=>{t(!0);try{const e=await cn.get("/api/group-courses");s(e.data)}catch(e){console.error("Error fetching group courses:",e),kn("Failed to load group courses. Please try again.",{type:"error",title:"Loading Error",duration:5e3})}finally{t(!1)}},j=async()=>{try{const e=await cn.get("/api/coaches");l(e.data)}catch(e){console.error("Error fetching coaches:",e)}},y=e=>{const{name:t,value:a,type:n,checked:s}=e.target;b(Ie(Ie({},v),{},{[t]:"checkbox"===n?s:a}))},N=()=>{b({title:"",description:"",coach_id:"",date:"",time:"",duration:60,max_participants:10,is_active:!0})},w=(e,t)=>{if(!e||!t)return!1;const a=new Date,n=new Date(e),[s,r]=t.split(":").map(Number);return n.setHours(s,r,0,0),a>n},k=e=>e.current_participants>=e.max_participants;return e?(0,hn.jsxs)("div",{className:"text-center my-5",children:[(0,hn.jsx)("div",{className:"spinner-border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,hn.jsx)("p",{className:"mt-2",children:"Loading group courses..."})]}):(0,hn.jsxs)("div",{className:"container",children:[(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,hn.jsx)("h2",{children:"Group Courses"}),(0,hn.jsxs)("button",{className:"btn btn-primary",onClick:()=>{N(),o(!0)},children:[(0,hn.jsx)("i",{className:"fas fa-plus me-2"}),"Add New Group Course"]})]}),0===a.length?(0,hn.jsx)("div",{className:"alert alert-info",children:"No group courses available. Add your first group course by clicking the button above."}):(0,hn.jsx)("div",{className:"table-responsive",children:(0,hn.jsxs)("table",{className:"table table-striped table-bordered",children:[(0,hn.jsx)("thead",{className:"table-dark",children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:"Title"}),(0,hn.jsx)("th",{children:"Coach"}),(0,hn.jsx)("th",{children:"Date"}),(0,hn.jsx)("th",{children:"Time"}),(0,hn.jsx)("th",{children:"Duration"}),(0,hn.jsx)("th",{children:"Participants"}),(0,hn.jsx)("th",{children:"Status"}),(0,hn.jsx)("th",{children:"Actions"})]})}),(0,hn.jsx)("tbody",{children:a.map((e=>{return(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:e.title}),(0,hn.jsx)("td",{children:e.coach_name}),(0,hn.jsx)("td",{children:(n=e.date,n?new Date(n).toLocaleDateString():"N/A")}),(0,hn.jsx)("td",{children:(t=e.time,t?t.substring(0,5):"N/A")}),(0,hn.jsxs)("td",{children:[e.duration," min"]}),(0,hn.jsxs)("td",{children:[e.current_participants," / ",e.max_participants,(0,hn.jsx)("button",{className:"btn btn-sm btn-link ms-2",onClick:()=>(async e=>{try{const t=await cn.get("/api/group-courses/".concat(e,"/bookings"));f(t.data),x(!0)}catch(t){console.error("Error fetching bookings:",t),kn("Failed to load bookings. Please try again.",{type:"error",title:"Loading Error",duration:5e3})}})(e.id),title:"View participants",children:(0,hn.jsx)("i",{className:"fas fa-users"})})]}),(0,hn.jsxs)("td",{children:[(0,hn.jsx)("span",{className:"badge ".concat(e.is_active?"bg-success":"bg-secondary"),children:e.is_active?"Active":"Inactive"}),e.is_active&&(0,hn.jsxs)(hn.Fragment,{children:[k(e)&&(0,hn.jsx)("span",{className:"badge bg-warning ms-1",children:"Full"}),w(e.date,e.time)&&(0,hn.jsx)("span",{className:"badge bg-secondary ms-1",children:"Ended"}),!w(e.date,e.time)&&!k(e)&&(0,hn.jsx)("span",{className:"badge bg-info ms-1",children:"Open"})]})]}),(0,hn.jsx)("td",{children:(0,hn.jsxs)("div",{className:"btn-group btn-group-sm",children:[(0,hn.jsx)("button",{className:"btn btn-warning",onClick:()=>(e=>{m(e),b({title:e.title,description:e.description,coach_id:e.coach_id,date:e.date,time:e.time,duration:e.duration,max_participants:e.max_participants,is_active:1===e.is_active}),d(!0)})(e),title:"Edit",children:(0,hn.jsx)("i",{className:"fas fa-edit"})}),(0,hn.jsx)("button",{className:"btn btn-danger",onClick:()=>(async e=>{if(await Rn("Are you sure you want to delete this group course? All bookings will be cancelled.",{title:"Delete Group Course",confirmText:"Delete",cancelText:"Cancel",type:"danger"}))try{await cn.delete("/api/group-courses/".concat(e)),s(a.filter((t=>t.id!==e))),kn("Group course deleted successfully!",{type:"success",title:"Success",duration:5e3})}catch(r){var t,n;console.error("Error deleting group course:",r),kn("Failed to delete group course: ".concat((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||r.message),{type:"error",title:"Error",duration:7e3})}})(e.id),title:"Delete",children:(0,hn.jsx)("i",{className:"fas fa-trash"})})]})})]},e.id);var t,n}))})]})}),i&&(0,hn.jsx)("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,hn.jsx)("div",{className:"modal-dialog modal-lg",children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",children:[(0,hn.jsx)("h5",{className:"modal-title",children:"Add New Group Course"}),(0,hn.jsx)("button",{type:"button",className:"btn-close",onClick:()=>o(!1)})]}),(0,hn.jsx)("div",{className:"modal-body",children:(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await cn.post("/api/group-courses",v);s([...a,e.data]),N(),o(!1),kn("Group course added successfully!",{type:"success",title:"Success",duration:5e3})}catch(r){var t,n;console.error("Error adding group course:",r),kn("Failed to add group course: ".concat((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||r.message),{type:"error",title:"Error",duration:7e3})}},children:[(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-8 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title *"}),(0,hn.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:v.title,onChange:y,required:!0})]}),(0,hn.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"coach_id",className:"form-label",children:"Coach *"}),(0,hn.jsxs)("select",{className:"form-select",id:"coach_id",name:"coach_id",value:v.coach_id,onChange:y,required:!0,children:[(0,hn.jsx)("option",{value:"",children:"Select Coach"}),r.map((e=>(0,hn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),(0,hn.jsx)("textarea",{className:"form-control",id:"description",name:"description",value:v.description,onChange:y,rows:"3"})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"date",className:"form-label",children:"Date *"}),(0,hn.jsx)("input",{type:"date",className:"form-control",id:"date",name:"date",value:v.date,onChange:y,required:!0})]}),(0,hn.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"time",className:"form-label",children:"Time *"}),(0,hn.jsx)("input",{type:"time",className:"form-control",id:"time",name:"time",value:v.time,onChange:y,required:!0})]}),(0,hn.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"duration",className:"form-label",children:"Duration (minutes) *"}),(0,hn.jsx)("input",{type:"number",className:"form-control",id:"duration",name:"duration",value:v.duration,onChange:y,min:"15",required:!0})]})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"max_participants",className:"form-label",children:"Max Participants *"}),(0,hn.jsx)("input",{type:"number",className:"form-control",id:"max_participants",name:"max_participants",value:v.max_participants,onChange:y,min:"1",required:!0})]}),(0,hn.jsx)("div",{className:"col-md-6 mb-3 d-flex align-items-center",children:(0,hn.jsxs)("div",{className:"form-check mt-4",children:[(0,hn.jsx)("input",{className:"form-check-input",type:"checkbox",id:"is_active",name:"is_active",checked:v.is_active,onChange:y}),(0,hn.jsx)("label",{className:"form-check-label",htmlFor:"is_active",children:"Active (visible to clients)"})]})})]}),(0,hn.jsxs)("div",{className:"modal-footer",children:[(0,hn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(!1),children:"Cancel"}),(0,hn.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,hn.jsx)("i",{className:"fas fa-plus me-2"}),"Add Group Course"]})]})]})})]})})}),c&&u&&(0,hn.jsx)("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,hn.jsx)("div",{className:"modal-dialog modal-lg",children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",children:[(0,hn.jsx)("h5",{className:"modal-title",children:"Edit Group Course"}),(0,hn.jsx)("button",{type:"button",className:"btn-close",onClick:()=>d(!1)})]}),(0,hn.jsx)("div",{className:"modal-body",children:(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await cn.put("/api/group-courses/".concat(u.id),v);s(a.map((t=>t.id===u.id?e.data:t))),d(!1),kn("Group course updated successfully!",{type:"success",title:"Success",duration:5e3})}catch(r){var t,n;console.error("Error updating group course:",r),kn("Failed to update group course: ".concat((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||r.message),{type:"error",title:"Error",duration:7e3})}},children:[(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-8 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"edit-title",className:"form-label",children:"Title *"}),(0,hn.jsx)("input",{type:"text",className:"form-control",id:"edit-title",name:"title",value:v.title,onChange:y,required:!0})]}),(0,hn.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"edit-coach_id",className:"form-label",children:"Coach *"}),(0,hn.jsxs)("select",{className:"form-select",id:"edit-coach_id",name:"coach_id",value:v.coach_id,onChange:y,required:!0,children:[(0,hn.jsx)("option",{value:"",children:"Select Coach"}),r.map((e=>(0,hn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{htmlFor:"edit-description",className:"form-label",children:"Description"}),(0,hn.jsx)("textarea",{className:"form-control",id:"edit-description",name:"description",value:v.description||"",onChange:y,rows:"3"})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"edit-date",className:"form-label",children:"Date *"}),(0,hn.jsx)("input",{type:"date",className:"form-control",id:"edit-date",name:"date",value:v.date,onChange:y,required:!0})]}),(0,hn.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"edit-time",className:"form-label",children:"Time *"}),(0,hn.jsx)("input",{type:"time",className:"form-control",id:"edit-time",name:"time",value:v.time,onChange:y,required:!0})]}),(0,hn.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"edit-duration",className:"form-label",children:"Duration (minutes) *"}),(0,hn.jsx)("input",{type:"number",className:"form-control",id:"edit-duration",name:"duration",value:v.duration,onChange:y,min:"15",required:!0})]})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"edit-max_participants",className:"form-label",children:"Max Participants *"}),(0,hn.jsx)("input",{type:"number",className:"form-control",id:"edit-max_participants",name:"max_participants",value:v.max_participants,onChange:y,min:"1",required:!0})]}),(0,hn.jsx)("div",{className:"col-md-6 mb-3 d-flex align-items-center",children:(0,hn.jsxs)("div",{className:"form-check mt-4",children:[(0,hn.jsx)("input",{className:"form-check-input",type:"checkbox",id:"edit-is_active",name:"is_active",checked:v.is_active,onChange:y}),(0,hn.jsx)("label",{className:"form-check-label",htmlFor:"edit-is_active",children:"Active (visible to clients)"})]})})]}),(0,hn.jsxs)("div",{className:"modal-footer",children:[(0,hn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>d(!1),children:"Cancel"}),(0,hn.jsxs)("button",{type:"submit",className:"btn btn-warning",children:[(0,hn.jsx)("i",{className:"fas fa-save me-2"}),"Save Changes"]})]})]})})]})})}),p&&(0,hn.jsx)("div",{className:"modal d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,hn.jsx)("div",{className:"modal-dialog modal-lg",children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",children:[(0,hn.jsx)("h5",{className:"modal-title",children:"Course Participants"}),(0,hn.jsx)("button",{type:"button",className:"btn-close",onClick:()=>x(!1)})]}),(0,hn.jsx)("div",{className:"modal-body",children:0===h.length?(0,hn.jsx)("div",{className:"alert alert-info",children:"No bookings found for this course."}):(0,hn.jsx)("div",{className:"table-responsive",children:(0,hn.jsxs)("table",{className:"table table-striped",children:[(0,hn.jsx)("thead",{children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:"Name"}),(0,hn.jsx)("th",{children:"Email"}),(0,hn.jsx)("th",{children:"Phone"}),(0,hn.jsx)("th",{children:"Booking Date"}),(0,hn.jsx)("th",{children:"Status"})]})}),(0,hn.jsx)("tbody",{children:h.map((e=>(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:e.full_name}),(0,hn.jsx)("td",{children:e.email}),(0,hn.jsx)("td",{children:e.phone||"N/A"}),(0,hn.jsx)("td",{children:new Date(e.created_at).toLocaleString()}),(0,hn.jsx)("td",{children:(0,hn.jsx)("span",{className:"badge ".concat("confirmed"===e.status?"bg-success":"bg-secondary"),children:e.status})})]},e.id)))})]})})}),(0,hn.jsx)("div",{className:"modal-footer",children:(0,hn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>x(!1),children:"Close"})})]})})})]})},Yc=["bsPrefix","variant","animation","size","as","className"],Jc=n.forwardRef(((e,t)=>{let{bsPrefix:a,variant:n,animation:s="border",size:r,as:l="div",className:i}=e,o=Re(e,Yc);a=Jn(a,"spinner");const c="".concat(a,"-").concat(s);return(0,hn.jsx)(l,Ie(Ie({ref:t},o),{},{className:Hn()(i,c,r&&"".concat(c,"-").concat(r),n&&"text-".concat(n))}))}));Jc.displayName="Spinner";const Qc=Jc;let Xc={};function Zc(){return Xc}Math.pow(10,8);const ed=6048e5,td=Symbol.for("constructDateFrom");function ad(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&td in e?e[td](t):e instanceof Date?new e.constructor(t):new Date(t)}function nd(e,t){return ad(t||e,e)}function sd(e,t){var a,n,s,r,l,i;const o=Zc(),c=null!==(a=null!==(n=null!==(s=null!==(r=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==r?r:null===t||void 0===t||null===(l=t.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==s?s:o.weekStartsOn)&&void 0!==n?n:null===(i=o.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==a?a:0,d=nd(e,null===t||void 0===t?void 0:t.in),u=d.getDay(),m=(u<c?7:0)+u-c;return d.setDate(d.getDate()-m),d.setHours(0,0,0,0),d}function rd(e,t){const a=nd(e,null===t||void 0===t?void 0:t.in);return a.setDate(1),a.setHours(0,0,0,0),a}function ld(e,t){var a,n,s,r,l,i;const o=Zc(),c=null!==(a=null!==(n=null!==(s=null!==(r=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==r?r:null===t||void 0===t||null===(l=t.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==s?s:o.weekStartsOn)&&void 0!==n?n:null===(i=o.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==a?a:0,d=nd(e,null===t||void 0===t?void 0:t.in),u=d.getDay(),m=6+(u<c?-7:0)-(u-c);return d.setDate(d.getDate()+m),d.setHours(23,59,59,999),d}function id(e,t){const a=nd(e,null===t||void 0===t?void 0:t.in),n=a.getMonth();return a.setFullYear(a.getFullYear(),n+1,0),a.setHours(23,59,59,999),a}function od(e,t,a){const n=nd(e,null===a||void 0===a?void 0:a.in);return isNaN(t)?ad((null===a||void 0===a?void 0:a.in)||e,NaN):t?(n.setDate(n.getDate()+t),n):n}const cd={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function dd(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const ud={date:dd({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:dd({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:dd({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},md={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function hd(e){return(t,a)=>{let n;if("formatting"===(null!==a&&void 0!==a&&a.context?String(a.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,s=null!==a&&void 0!==a&&a.width?String(a.width):t;n=e.formattingValues[s]||e.formattingValues[t]}else{const t=e.defaultWidth,s=null!==a&&void 0!==a&&a.width?String(a.width):e.defaultWidth;n=e.values[s]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function fd(e){return function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=a.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],r=t.match(s);if(!r)return null;const l=r[0],i=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(i)?function(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a;return}(i,(e=>e.test(l))):function(e,t){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a;return}(i,(e=>e.test(l)));let c;c=e.valueCallback?e.valueCallback(o):o,c=a.valueCallback?a.valueCallback(c):c;return{value:c,rest:t.slice(l.length)}}}function pd(e){return function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],r=t.match(e.parsePattern);if(!r)return null;let l=e.valueCallback?e.valueCallback(r[0]):r[0];l=a.valueCallback?a.valueCallback(l):l;return{value:l,rest:t.slice(s.length)}}}const xd={code:"en-US",formatDistance:(e,t,a)=>{let n;const s=cd[e];return n="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),null!==a&&void 0!==a&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n},formatLong:ud,formatRelative:(e,t,a,n)=>md[e],localize:{ordinalNumber:(e,t)=>{const a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},era:hd({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:hd({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:hd({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:hd({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:hd({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:pd({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:fd({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:fd({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:fd({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:fd({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:fd({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function vd(e){const t=nd(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+e-+a}function bd(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];const s=ad.bind(null,e||a.find((e=>"object"===typeof e)));return a.map(s)}function gd(e,t){const a=nd(e,null===t||void 0===t?void 0:t.in);return a.setHours(0,0,0,0),a}function jd(e,t,a){const[n,s]=bd(null===a||void 0===a?void 0:a.in,e,t),r=gd(n),l=gd(s),i=+r-vd(r),o=+l-vd(l);return Math.round((i-o)/864e5)}function yd(e,t){const a=nd(e,null===t||void 0===t?void 0:t.in);return a.setFullYear(a.getFullYear(),0,1),a.setHours(0,0,0,0),a}function Nd(e,t){const a=nd(e,null===t||void 0===t?void 0:t.in);return jd(a,yd(a))+1}function wd(e,t){return sd(e,Ie(Ie({},t),{},{weekStartsOn:1}))}function kd(e,t){const a=nd(e,null===t||void 0===t?void 0:t.in),n=a.getFullYear(),s=ad(a,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const r=wd(s),l=ad(a,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const i=wd(l);return a.getTime()>=r.getTime()?n+1:a.getTime()>=i.getTime()?n:n-1}function Sd(e,t){const a=kd(e,t),n=ad((null===t||void 0===t?void 0:t.in)||e,0);return n.setFullYear(a,0,4),n.setHours(0,0,0,0),wd(n)}function Cd(e,t){const a=nd(e,null===t||void 0===t?void 0:t.in),n=+wd(a)-+Sd(a);return Math.round(n/ed)+1}function _d(e,t){var a,n,s,r,l,i;const o=nd(e,null===t||void 0===t?void 0:t.in),c=o.getFullYear(),d=Zc(),u=null!==(a=null!==(n=null!==(s=null!==(r=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==r?r:null===t||void 0===t||null===(l=t.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==s?s:d.firstWeekContainsDate)&&void 0!==n?n:null===(i=d.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==a?a:1,m=ad((null===t||void 0===t?void 0:t.in)||e,0);m.setFullYear(c+1,0,u),m.setHours(0,0,0,0);const h=sd(m,t),f=ad((null===t||void 0===t?void 0:t.in)||e,0);f.setFullYear(c,0,u),f.setHours(0,0,0,0);const p=sd(f,t);return+o>=+h?c+1:+o>=+p?c:c-1}function Ed(e,t){var a,n,s,r,l,i;const o=Zc(),c=null!==(a=null!==(n=null!==(s=null!==(r=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==r?r:null===t||void 0===t||null===(l=t.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==s?s:o.firstWeekContainsDate)&&void 0!==n?n:null===(i=o.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==a?a:1,d=_d(e,t),u=ad((null===t||void 0===t?void 0:t.in)||e,0);u.setFullYear(d,0,c),u.setHours(0,0,0,0);return sd(u,t)}function Pd(e,t){const a=nd(e,null===t||void 0===t?void 0:t.in),n=+sd(a,t)-+Ed(a,t);return Math.round(n/ed)+1}function Td(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Dd={y(e,t){const a=e.getFullYear(),n=a>0?a:1-a;return Td("yy"===t?n%100:n,t.length)},M(e,t){const a=e.getMonth();return"M"===t?String(a+1):Td(a+1,2)},d:(e,t)=>Td(e.getDate(),t.length),a(e,t){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];default:return"am"===a?"a.m.":"p.m."}},h:(e,t)=>Td(e.getHours()%12||12,t.length),H:(e,t)=>Td(e.getHours(),t.length),m:(e,t)=>Td(e.getMinutes(),t.length),s:(e,t)=>Td(e.getSeconds(),t.length),S(e,t){const a=t.length,n=e.getMilliseconds();return Td(Math.trunc(n*Math.pow(10,a-3)),t.length)}},Rd="midnight",Od="noon",Fd="morning",Ld="afternoon",Ad="evening",Id="night",Md={G:function(e,t,a){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});default:return a.era(n,{width:"wide"})}},y:function(e,t,a){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return a.ordinalNumber(n,{unit:"year"})}return Dd.y(e,t)},Y:function(e,t,a,n){const s=_d(e,n),r=s>0?s:1-s;if("YY"===t){return Td(r%100,2)}return"Yo"===t?a.ordinalNumber(r,{unit:"year"}):Td(r,t.length)},R:function(e,t){return Td(kd(e),t.length)},u:function(e,t){return Td(e.getFullYear(),t.length)},Q:function(e,t,a){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Td(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,a){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Td(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,a){const n=e.getMonth();switch(t){case"M":case"MM":return Dd.M(e,t);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,a){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Td(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,a,n){const s=Pd(e,n);return"wo"===t?a.ordinalNumber(s,{unit:"week"}):Td(s,t.length)},I:function(e,t,a){const n=Cd(e);return"Io"===t?a.ordinalNumber(n,{unit:"week"}):Td(n,t.length)},d:function(e,t,a){return"do"===t?a.ordinalNumber(e.getDate(),{unit:"date"}):Dd.d(e,t)},D:function(e,t,a){const n=Nd(e);return"Do"===t?a.ordinalNumber(n,{unit:"dayOfYear"}):Td(n,t.length)},E:function(e,t,a){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,a,n){const s=e.getDay(),r=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(r);case"ee":return Td(r,2);case"eo":return a.ordinalNumber(r,{unit:"day"});case"eee":return a.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(s,{width:"short",context:"formatting"});default:return a.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,a,n){const s=e.getDay(),r=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(r);case"cc":return Td(r,t.length);case"co":return a.ordinalNumber(r,{unit:"day"});case"ccc":return a.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(s,{width:"narrow",context:"standalone"});case"cccccc":return a.day(s,{width:"short",context:"standalone"});default:return a.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,a){const n=e.getDay(),s=0===n?7:n;switch(t){case"i":return String(s);case"ii":return Td(s,t.length);case"io":return a.ordinalNumber(s,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,a){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(n,{width:"narrow",context:"formatting"});default:return a.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,a){const n=e.getHours();let s;switch(s=12===n?Od:0===n?Rd:n/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(s,{width:"narrow",context:"formatting"});default:return a.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,a){const n=e.getHours();let s;switch(s=n>=17?Ad:n>=12?Ld:n>=4?Fd:Id,t){case"B":case"BB":case"BBB":return a.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(s,{width:"narrow",context:"formatting"});default:return a.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,a){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),a.ordinalNumber(t,{unit:"hour"})}return Dd.h(e,t)},H:function(e,t,a){return"Ho"===t?a.ordinalNumber(e.getHours(),{unit:"hour"}):Dd.H(e,t)},K:function(e,t,a){const n=e.getHours()%12;return"Ko"===t?a.ordinalNumber(n,{unit:"hour"}):Td(n,t.length)},k:function(e,t,a){let n=e.getHours();return 0===n&&(n=24),"ko"===t?a.ordinalNumber(n,{unit:"hour"}):Td(n,t.length)},m:function(e,t,a){return"mo"===t?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):Dd.m(e,t)},s:function(e,t,a){return"so"===t?a.ordinalNumber(e.getSeconds(),{unit:"second"}):Dd.s(e,t)},S:function(e,t){return Dd.S(e,t)},X:function(e,t,a){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return Ud(n);case"XXXX":case"XX":return Bd(n);default:return Bd(n,":")}},x:function(e,t,a){const n=e.getTimezoneOffset();switch(t){case"x":return Ud(n);case"xxxx":case"xx":return Bd(n);default:return Bd(n,":")}},O:function(e,t,a){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+zd(n,":");default:return"GMT"+Bd(n,":")}},z:function(e,t,a){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+zd(n,":");default:return"GMT"+Bd(n,":")}},t:function(e,t,a){return Td(Math.trunc(+e/1e3),t.length)},T:function(e,t,a){return Td(+e,t.length)}};function zd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const a=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),r=n%60;return 0===r?a+String(s):a+String(s)+t+Td(r,2)}function Ud(e,t){if(e%60===0){return(e>0?"-":"+")+Td(Math.abs(e)/60,2)}return Bd(e,t)}function Bd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const a=e>0?"-":"+",n=Math.abs(e);return a+Td(Math.trunc(n/60),2)+t+Td(n%60,2)}const Wd=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},qd=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Hd={p:qd,P:(e,t)=>{const a=e.match(/(P+)(p+)?/)||[],n=a[1],s=a[2];if(!s)return Wd(e,t);let r;switch(n){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",Wd(n,t)).replace("{{time}}",qd(s,t))}},Vd=/^D+$/,Gd=/^Y+$/,$d=["D","DD","YY","YYYY"];function Kd(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function Yd(e){return!(!Kd(e)&&"number"!==typeof e||isNaN(+nd(e)))}const Jd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qd=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xd=/^'([^]*?)'?$/,Zd=/''/g,eu=/[a-zA-Z]/;function tu(e,t,a){var n,s,r,l,i,o,c,d,u,m,h,f,p,x;const v=Zc(),b=null!==(n=null!==(s=null===a||void 0===a?void 0:a.locale)&&void 0!==s?s:v.locale)&&void 0!==n?n:xd,g=null!==(r=null!==(l=null!==(i=null!==(o=null===a||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:null===a||void 0===a||null===(c=a.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==i?i:v.firstWeekContainsDate)&&void 0!==l?l:null===(d=v.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==r?r:1,j=null!==(u=null!==(m=null!==(h=null!==(f=null===a||void 0===a?void 0:a.weekStartsOn)&&void 0!==f?f:null===a||void 0===a||null===(p=a.locale)||void 0===p||null===(p=p.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==h?h:v.weekStartsOn)&&void 0!==m?m:null===(x=v.locale)||void 0===x||null===(x=x.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==u?u:0,y=nd(e,null===a||void 0===a?void 0:a.in);if(!Yd(y))throw new RangeError("Invalid time value");let N=t.match(Qd).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Hd[t])(e,b.formatLong)}return e})).join("").match(Jd).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:au(e)};if(Md[t])return{isToken:!0,value:e};if(t.match(eu))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));b.localize.preprocessor&&(N=b.localize.preprocessor(y,N));const w={firstWeekContainsDate:g,weekStartsOn:j,locale:b};return N.map((n=>{if(!n.isToken)return n.value;const s=n.value;(null!==a&&void 0!==a&&a.useAdditionalWeekYearTokens||!function(e){return Gd.test(e)}(s))&&(null!==a&&void 0!==a&&a.useAdditionalDayOfYearTokens||!function(e){return Vd.test(e)}(s))||function(e,t,a){const n=function(e,t,a){const n="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(n," to the input `").concat(a,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,a);if(console.warn(n),$d.includes(e))throw new RangeError(n)}(s,t,String(e));return(0,Md[s[0]])(y,s,b.localize,w)})).join("")}function au(e){const t=e.match(Xd);return t?t[1].replace(Zd,"'"):e}function nu(e,t,a){const[n,s]=bd(null===a||void 0===a?void 0:a.in,e,t);return+gd(n)===+gd(s)}function su(e,t,a){const n=nd(e,null===a||void 0===a?void 0:a.in);if(isNaN(t))return ad((null===a||void 0===a?void 0:a.in)||e,NaN);if(!t)return n;const s=n.getDate(),r=ad((null===a||void 0===a?void 0:a.in)||e,n.getTime());r.setMonth(n.getMonth()+t+1,0);return s>=r.getDate()?r:(n.setFullYear(r.getFullYear(),r.getMonth(),s),n)}function ru(e,t,a){return su(e,-t,a)}function lu(e,t){return+nd(e)<+nd(t)}function iu(e){return ad(e,Date.now())}function ou(e,t){return nu(ad((null===t||void 0===t?void 0:t.in)||e,e),iu((null===t||void 0===t?void 0:t.in)||e))}const cu={lessThanXSeconds:{one:"moins d\u2019une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d\u2019une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d\u2019un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu\u2019un an",other:"presque {{count}} ans"}},du={date:dd({formats:{full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},defaultWidth:"full"}),time:dd({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:dd({formats:{full:"{{date}} '\xe0' {{time}}",long:"{{date}} '\xe0' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},uu={lastWeek:"eeee 'dernier \xe0' p",yesterday:"'hier \xe0' p",today:"'aujourd\u2019hui \xe0' p",tomorrow:"'demain \xe0' p'",nextWeek:"eeee 'prochain \xe0' p",other:"P"},mu=["MMM","MMMM"],hu={preprocessor:(e,t)=>{if(1===e.getDate())return t;return t.some((e=>e.isToken&&mu.includes(e.value)))?t.map((e=>e.isToken&&"do"===e.value?{isToken:!0,value:"d"}:e)):t},ordinalNumber:(e,t)=>{const a=Number(e),n=null===t||void 0===t?void 0:t.unit;if(0===a)return"0";let s;return s=1===a?n&&["year","week","hour","minute","second"].includes(n)?"\xe8re":"er":"\xe8me",a+s},era:hd({values:{narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant J\xe9sus-Christ","apr\xe8s J\xe9sus-Christ"]},defaultWidth:"wide"}),quarter:hd({values:{narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2\xe8me trim.","3\xe8me trim.","4\xe8me trim."],wide:["1er trimestre","2\xe8me trimestre","3\xe8me trimestre","4\xe8me trimestre"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:hd({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","f\xe9vr.","mars","avr.","mai","juin","juil.","ao\xfbt","sept.","oct.","nov.","d\xe9c."],wide:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"]},defaultWidth:"wide"}),day:hd({values:{narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},defaultWidth:"wide"}),dayPeriod:hd({values:{narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"apr\xe8s-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l\u2019apr\xe8s-midi",evening:"du soir",night:"du matin"}},defaultWidth:"wide"})},fu={code:"fr",formatDistance:(e,t,a)=>{let n;const s=cu[e];return n="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",String(t)),null!==a&&void 0!==a&&a.addSuffix?a.comparison&&a.comparison>0?"dans "+n:"il y a "+n:n},formatLong:du,formatRelative:(e,t,a,n)=>uu[e],localize:hu,match:{ordinalNumber:pd({matchPattern:/^(\d+)(i\xe8me|\xe8re|\xe8me|er|e)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e)}),era:fd({matchPatterns:{narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant J\xe9sus-Christ|apr\xe8s J\xe9sus-Christ)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^av/i,/^ap/i]},defaultParseWidth:"any"}),quarter:fd({matchPatterns:{narrow:/^T?[1234]/i,abbreviated:/^[1234](er|\xe8me|e)? trim\.?/i,wide:/^[1234](er|\xe8me|e)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:fd({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(janv|f\xe9vr|mars|avr|mai|juin|juill|juil|ao\xfbt|sept|oct|nov|d\xe9c)\.?/i,wide:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:fd({matchPatterns:{narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:fd({matchPatterns:{narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'apr\xe8s[-\s]midi|du soir|de la nuit)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},pu=fu,xu=()=>{const[e,t]=(0,n.useState)(new Date),[a,s]=(0,n.useState)(new Date),[r,l]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(!0),[h,f]=(0,n.useState)(!1),[p,x]=(0,n.useState)(null),[v,b]=(0,n.useState)(!1),g=[];for(let n=6;n<=23;n++)g.push("".concat(n.toString().padStart(2,"0"),":00")),n<23&&g.push("".concat(n.toString().padStart(2,"0"),":30"));const j=(()=>{const e=sd(rd(a),{weekStartsOn:1}),t=ld(id(a),{weekStartsOn:1}),n=[];let s=e;for(;s<=t;)n.push(s),s=od(s,1);return n})();(0,n.useEffect)((()=>{y()}),[]),(0,n.useEffect)((()=>{r.length>0&&N()}),[e]),(0,n.useEffect)((()=>{if(r.length>0&&e&&a){if(tu(e,"yyyy-MM")!==tu(a,"yyyy-MM")){const e=rd(a);t(e)}}}),[a,r.length]),(0,n.useEffect)((()=>{document.documentElement.style.setProperty("--coaches-count",r.length.toString())}),[r]),(0,n.useEffect)((()=>{const e=document.querySelector(".compact-day.selected");e&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}),[e]),(0,n.useEffect)((()=>{const t=t=>{if(t.target.closest(".compact-calendar")){const a=j.findIndex((t=>nu(t,e)));let n=a;switch(t.key){case"ArrowLeft":t.preventDefault(),n=Math.max(0,a-1);break;case"ArrowRight":t.preventDefault(),n=Math.min(j.length-1,a+1);break;case"ArrowUp":t.preventDefault(),n=Math.max(0,a-7);break;case"ArrowDown":t.preventDefault(),n=Math.min(j.length-1,a+7);break;default:return}const s=j[n];s&&w(s)}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[e,j]);const y=async()=>{m(!0);try{const e=await mn.get("/api/coaches");e.data&&e.data.length>0?(console.log("Coaches data received:",e.data),e.data.forEach((e=>{console.log("Coach ".concat(e.name,": profile_image = ").concat(e.profile_image,", photo = ").concat(e.photo))})),l(e.data),console.log("Successfully fetched ".concat(e.data.length," coaches")),await N(!1)):(console.warn("No coaches data received or empty array"),l([]))}catch(e){console.error("Error fetching initial data:",e),l([])}finally{m(!1)}},N=async function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&f(!0);try{console.log("Fetching planning data...");const t=tu(e,"yyyy-MM-dd");console.log("Fetching availability for date: ".concat(t));try{const e=await mn.get("/api/admin/planning/availability?start_date=".concat(t,"&end_date=").concat(t));console.log("Raw availability data:",e.data);const a=Array.isArray(e.data)?e.data.map((e=>{const a="string"===typeof e.coach_id?parseInt(e.coach_id,10):e.coach_id;return Ie(Ie({},e),{},{id:e.id,coach_id:a,date:e.date?e.date:t,start_time:e.start_time?e.start_time:null,end_time:e.end_time?e.end_time:null,is_available:void 0!==e.is_available?"string"===typeof e.is_available?parseInt(e.is_available,10):e.is_available:1,coach_name:e.coach_name,profile_image:e.profile_image})})):[];o(a),console.log("Processed ".concat(a.length," availability slots for date ").concat(t,":"),a)}catch(a){console.error("Error fetching availability:",a),a.response&&(console.error("Availability response data:",a.response.data),console.error("Availability response status:",a.response.status)),o([])}console.log("Fetching reservations for date: ".concat(t));try{const e=await mn.get("/api/admin/planning/reservations?start_date=".concat(t,"&end_date=").concat(t));console.log("Raw reservations data:",e.data);const a=Array.isArray(e.data)?e.data.map((e=>{const a="string"===typeof e.coach_id?parseInt(e.coach_id,10):e.coach_id;return Ie(Ie({},e),{},{id:e.id,coach_id:a,date:e.date?e.date:t,time:e.time?e.time:null,client_name:e.client_name||"Client",client_email:e.client_email,client_phone:e.client_phone,status:e.status||"confirmed",coach_name:e.coach_name,profile_image:e.profile_image})})):[];d(a),console.log("Processed ".concat(a.length," reservations for date ").concat(t,":"),a)}catch(n){console.error("Error fetching reservations:",n),n.response&&(console.error("Reservations response data:",n.response.data),console.error("Reservations response status:",n.response.status)),d([])}}catch(s){console.error("Error in fetchPlanningData:",s),s.response&&(console.error("Response data:",s.response.data),console.error("Response status:",s.response.status))}finally{t&&f(!1)}},w=a=>{nu(a,e)||t(a)},k=e=>e.reserved&&e.reservation?(0,hn.jsxs)("div",{className:"slot-content",children:[(0,hn.jsx)("div",{className:"client-name",children:e.reservation.client_name||"Client"}),(0,hn.jsx)("div",{className:"slot-status",children:"R\xe9serv\xe9"})]}):e.available&&e.slot?(0,hn.jsxs)("div",{className:"slot-content available-content",children:[(0,hn.jsx)("div",{className:"slot-status",children:"Disponible"}),e.slot.start_time&&e.slot.end_time&&(0,hn.jsxs)("div",{className:"slot-time",children:[e.slot.start_time.substring(0,5),"-",e.slot.end_time.substring(0,5)]})]}):e.configured?(0,hn.jsx)("div",{className:"slot-content unavailable-content",children:(0,hn.jsx)("div",{className:"slot-status",children:"Indisponible"})}):(0,hn.jsx)("div",{className:"slot-content blank-content",children:(0,hn.jsx)("div",{className:"slot-status",children:"Non configur\xe9"})});return(0,n.useEffect)((()=>{const e=document.querySelector(".compact-day.selected");e&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}),[e]),u?(0,hn.jsxs)("div",{className:"text-center p-4",children:[(0,hn.jsx)(Qc,{animation:"border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Chargement..."})}),(0,hn.jsx)("p",{className:"mt-2",children:"Chargement du planning..."})]}):(0,hn.jsxs)("div",{className:"coach-planning-view",children:[(0,hn.jsxs)(ni,{children:[(0,hn.jsxs)(ni.Header,{children:[(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-day me-2"}),lu(e,new Date)&&!ou(e)?"Historique du ".concat(tu(e,"dd MMMM yyyy",{locale:fu})):"Planning du ".concat(tu(e,"dd MMMM yyyy",{locale:fu}))]}),(0,hn.jsxs)("div",{className:"d-flex align-items-center",children:[h&&(0,hn.jsx)("div",{className:"me-3",children:(0,hn.jsx)(Qc,{animation:"border",size:"sm"})}),lu(e,new Date)&&!ou(e)&&(0,hn.jsxs)(Ei,{bg:"info",className:"me-2",children:[(0,hn.jsx)("i",{className:"fas fa-history me-1"}),"Historique"]}),(0,hn.jsx)(li,{variant:"outline-primary",size:"sm",onClick:()=>{const e=new Date;s(e),t(e)},className:"me-2",children:"Aujourd'hui"})]})]}),(0,hn.jsxs)("div",{className:"mt-3",children:[(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,hn.jsxs)(li,{variant:"outline-secondary",size:"sm",onClick:()=>{const n=ru(a,1);s(n),(e<rd(n)||e>id(n))&&t(rd(n))},className:"month-navigation-btn",children:[(0,hn.jsx)("i",{className:"fas fa-chevron-left me-1"}),tu(ru(a,1),"MMM",{locale:fu})]}),(0,hn.jsx)("h6",{className:"mb-0 text-center flex-grow-1",children:tu(a,"MMMM yyyy",{locale:fu})}),(0,hn.jsxs)(li,{variant:"outline-secondary",size:"sm",onClick:()=>{const n=su(a,1);s(n),(e<rd(n)||e>id(n))&&t(rd(n))},className:"month-navigation-btn",children:[tu(su(a,1),"MMM",{locale:fu}),(0,hn.jsx)("i",{className:"fas fa-chevron-right ms-1"})]})]}),(0,hn.jsx)("div",{className:"compact-calendar",tabIndex:"0",children:(0,hn.jsx)("div",{className:"calendar-scroll-container",children:(0,hn.jsx)("div",{className:"calendar-scroll-wrapper",children:j.map(((t,n)=>{const s=nu(t,e),r=nu(t,new Date),l=(e=>lu(e,new Date)&&!ou(e))(t),i=(e=>tu(e,"yyyy-MM")===tu(a,"yyyy-MM"))(t);return(0,hn.jsxs)("div",{className:"compact-day ".concat(s?"selected":""," ").concat(r?"today":""," ").concat(l?"past":""," ").concat(i?"":"other-month"," ").concat(h&&s?"loading":""),onClick:()=>w(t),style:{cursor:"pointer"},tabIndex:0,children:[(0,hn.jsx)("div",{className:"compact-day-name",children:tu(t,"EEE",{locale:fu}).substring(0,3)}),(0,hn.jsx)("div",{className:"compact-day-number",children:tu(t,"d")}),r&&(0,hn.jsx)("div",{className:"compact-today-indicator",children:"\u2022"})]},n)}))})})})]})]}),(0,hn.jsxs)(ni.Body,{className:"p-0",children:[(0,hn.jsxs)("div",{className:"daily-planning-container",children:[(0,hn.jsxs)("div",{className:"daily-planning-header",children:[(0,hn.jsx)("div",{className:"time-column-header",children:"Horaires"}),r.map((e=>(console.log("Rendering coach ".concat(e.name," with image:"),e.profile_image||e.photo),(0,hn.jsxs)("div",{className:"coach-header",children:[(0,hn.jsxs)("div",{className:"coach-avatar",children:[e.profile_image||e.photo?(0,hn.jsx)("img",{src:e.profile_image||e.photo,alt:e.name,className:"coach-image",onError:t=>{console.log("Failed to load image for ".concat(e.name,":"),t.target.src),t.target.style.display="none",t.target.nextSibling.style.display="flex"},onLoad:()=>{console.log("Successfully loaded image for ".concat(e.name))}}):null,(0,hn.jsx)("div",{className:"coach-initials",style:{display:e.profile_image||e.photo?"none":"flex"},children:e.name.split(" ").map((e=>e[0])).join("").toUpperCase()})]}),(0,hn.jsxs)("div",{className:"coach-details",children:[(0,hn.jsx)("div",{className:"coach-name",children:e.name}),(0,hn.jsx)("div",{className:"coach-specialty",children:e.specialty||"Coach"})]})]},e.id))))]}),(0,hn.jsx)("div",{className:"daily-planning-grid",children:g.map(((t,a)=>(0,hn.jsxs)("div",{className:"time-row",children:[(0,hn.jsx)("div",{className:"time-label",children:t}),r.length>0?r.map((a=>{const n=((t,a)=>{const n=tu(e,"yyyy-MM-dd"),s=a;1===t.id&&"09:00"===s&&(console.log("DEBUG: Looking for slot:",t.id,n,s),console.log("Available slots for this coach:",i.filter((e=>e.coach_id===t.id))),console.log("Reservations for this coach:",c.filter((e=>e.coach_id===t.id))));const r=i.find((e=>{const a=e.date?"string"===typeof e.date?e.date.split("T")[0]:tu(new Date(e.date),"yyyy-MM-dd"):null,r=e.start_time?"string"===typeof e.start_time?e.start_time.substring(0,5):e.start_time:null,l=e.coach_id===t.id&&a===n&&r===s;return 1===t.id&&"09:00"===s&&l&&console.log("Found matching availability slot:",e),l})),l=c.find((e=>{const a=e.date?"string"===typeof e.date?e.date.split("T")[0]:tu(new Date(e.date),"yyyy-MM-dd"):null,r=e.time?"string"===typeof e.time?e.time.substring(0,5):e.time:null,l=e.coach_id===t.id&&a===n&&r===s;return 1===t.id&&"09:00"===s&&l&&console.log("Found matching reservation:",e),l}));return l?{available:!1,reserved:!0,configured:!0,slot:r,reservation:l}:!r||1!==r.is_available&&"1"!==r.is_available&&0!==r.is_booked&&"0"!==r.is_booked?{available:!1,reserved:!1,configured:!1,slot:null,reservation:null}:{available:!0,reserved:!1,configured:!0,slot:r,reservation:null}})(a,t),s=(e=>e.reserved?"reserved":e.available?"available":e.configured?"unavailable":"blank")(n);return(0,hn.jsx)("div",{className:"time-slot ".concat(s),onClick:()=>((t,a,n)=>{console.log("Slot clicked:",{coach:t,time:a,slotInfo:n}),x(Ie({coach:t,date:e,time:a},n)),b(!0)})(a,t,n),style:{cursor:"pointer"},title:"".concat(a.name," - ").concat(t),children:k(n)},a.id)})):(0,hn.jsx)("div",{className:"no-coaches-message",children:"Aucun coach disponible - Veuillez v\xe9rifier la connexion \xe0 la base de donn\xe9es"})]},a)))})]}),(0,hn.jsxs)("div",{className:"planning-legend",children:[(0,hn.jsxs)("div",{className:"legend-item",children:[(0,hn.jsx)("div",{className:"legend-color available"}),(0,hn.jsx)("span",{children:"Disponible"})]}),(0,hn.jsxs)("div",{className:"legend-item",children:[(0,hn.jsx)("div",{className:"legend-color reserved"}),(0,hn.jsx)("span",{children:"R\xe9serv\xe9"})]}),(0,hn.jsxs)("div",{className:"legend-item",children:[(0,hn.jsx)("div",{className:"legend-color blank"}),(0,hn.jsx)("span",{children:"Non configur\xe9"})]}),(0,hn.jsxs)("div",{className:"legend-item",children:[(0,hn.jsx)("div",{className:"legend-color unavailable"}),(0,hn.jsx)("span",{children:"Indisponible"})]}),lu(e,new Date)&&!ou(e)&&(0,hn.jsxs)("div",{className:"legend-item historical",children:[(0,hn.jsx)("i",{className:"fas fa-info-circle me-2"}),(0,hn.jsx)("span",{children:"Vous consultez les donn\xe9es historiques"})]})]})]})]}),(0,hn.jsxs)(_o,{show:v,onHide:()=>b(!1),children:[(0,hn.jsx)(_o.Header,{closeButton:!0,children:(0,hn.jsx)(_o.Title,{children:null!==p&&void 0!==p&&p.reserved?"R\xe9servation":null!==p&&void 0!==p&&p.available?"Cr\xe9neau Disponible":"Cr\xe9neau Non Configur\xe9"})}),(0,hn.jsx)(_o.Body,{children:p&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Coach:"})," ",p.coach.name]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Date:"})," ",tu(p.date,"dd MMMM yyyy",{locale:fu})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Heure:"})," ",p.time]}),p.reserved&&p.reservation&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Client:"})," ",p.reservation.client_name||"Non sp\xe9cifi\xe9"]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Email:"})," ",p.reservation.client_email||"Non sp\xe9cifi\xe9"]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"T\xe9l\xe9phone:"})," ",p.reservation.client_phone||"Non sp\xe9cifi\xe9"]}),(0,hn.jsx)("div",{className:"mb-3",children:(0,hn.jsx)(Ei,{bg:"confirmed"===p.reservation.status?"success":"warning",children:"confirmed"===p.reservation.status?"Confirm\xe9e":"En attente"})})]}),p.available&&!p.reserved&&(0,hn.jsxs)("div",{className:"alert alert-success",children:[(0,hn.jsx)("i",{className:"fas fa-check-circle me-2"}),"Ce cr\xe9neau est disponible pour r\xe9servation."]}),!p.configured&&(0,hn.jsxs)("div",{className:"alert alert-info",children:[(0,hn.jsx)("i",{className:"fas fa-info-circle me-2"}),"Aucun cr\xe9neau n'est configur\xe9 pour ce coach \xe0 cette heure."]})]})}),(0,hn.jsx)(_o.Footer,{children:(0,hn.jsx)(li,{variant:"secondary",onClick:()=>b(!1),children:"Fermer"})})]})]})},vu=e=>{let{installment:t,show:a,onHide:s,onUpdate:r,paymentPlan:l}=e;const[i,o]=(0,n.useState)({amount:(null===t||void 0===t?void 0:t.amount)||"",due_date:(null===t||void 0===t?void 0:t.due_date)||"",payment_method:(null===t||void 0===t?void 0:t.payment_method)||"cash",rib:(null===t||void 0===t?void 0:t.rib)||"",bank_reference:(null===t||void 0===t?void 0:t.bank_reference)||"",receipt_number:(null===t||void 0===t?void 0:t.receipt_number)||"",notes:(null===t||void 0===t?void 0:t.notes)||"",status:(null===t||void 0===t?void 0:t.status)||"pending",payment_date:(null===t||void 0===t?void 0:t.payment_date)||""}),[c,d]=(0,n.useState)(!1),u=e=>{const{name:t,value:a}=e.target;o((e=>Ie(Ie({},e),{},{[t]:a}))),"payment_method"===t&&"cash"===a&&o((e=>Ie(Ie({},e),{},{rib:"",bank_reference:""})))},m=e=>{o((t=>Ie(Ie({},t),{},{status:e,payment_date:"paid"===e?t.payment_date||(new Date).toISOString().split("T")[0]:""})))};return a&&t?(0,hn.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,hn.jsx)("div",{className:"modal-dialog modal-lg",children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",children:[(0,hn.jsxs)("h5",{className:"modal-title",children:["Edit Installment #",t.installment_number]}),(0,hn.jsx)("button",{type:"button",className:"btn-close",onClick:s})]}),(0,hn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!i.amount||i.amount<=0?(kn("Please enter a valid amount","error"),0):i.due_date?"virement"!==i.payment_method||i.rib?"paid"!==i.status||i.payment_date||(kn("Payment date is required for paid installments","error"),0):(kn("RIB is required for bank transfer payments","error"),0):(kn("Please select a due date","error"),0))try{d(!0),await mn.put("/api/admin/payments/installments/".concat(t.id),i),"paid"===i.status&&"paid"!==t.status&&await mn.put("/api/admin/payments/installments/".concat(t.id,"/paid"),{payment_date:i.payment_date,payment_method:i.payment_method,rib:i.rib,bank_reference:i.bank_reference,receipt_number:i.receipt_number,notes:i.notes}),kn("Installment updated successfully","success"),r(),s()}catch(a){console.error("Error updating installment:",a),kn("Error updating installment","error")}finally{d(!1)}},children:[(0,hn.jsxs)("div",{className:"modal-body",children:[(0,hn.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,hn.jsxs)("h6",{className:"alert-heading",children:[(0,hn.jsx)("i",{className:"fas fa-info-circle me-2"}),"Installment Configuration"]}),(0,hn.jsx)("p",{className:"mb-0",children:"Set payment method (Cash or Virement) and payment status (Paid/Unpaid) for this installment. Each installment can have different settings."})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsxs)("label",{className:"form-label",children:[(0,hn.jsx)("i",{className:"fas fa-money-bill me-2 text-success"}),"Amount (DH)"]}),(0,hn.jsx)("input",{type:"number",className:"form-control",name:"amount",value:i.amount,onChange:u,step:"0.01",min:"0",required:!0})]}),(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsxs)("label",{className:"form-label",children:[(0,hn.jsx)("i",{className:"fas fa-calendar me-2 text-primary"}),"Due Date"]}),(0,hn.jsx)("input",{type:"date",className:"form-control",name:"due_date",value:i.due_date,onChange:u,required:!0})]}),(0,hn.jsxs)("div",{className:"col-12 mb-4",children:[(0,hn.jsxs)("label",{className:"form-label",children:[(0,hn.jsx)("i",{className:"fas fa-credit-card me-2 text-info"}),"Payment Method for this Installment"]}),(0,hn.jsx)("div",{className:"card border-primary",children:(0,hn.jsx)("div",{className:"card-body p-3",children:(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"form-check form-check-inline",children:[(0,hn.jsx)("input",{className:"form-check-input",type:"radio",name:"payment_method",id:"method-cash",value:"cash",checked:"cash"===i.payment_method,onChange:u}),(0,hn.jsxs)("label",{className:"form-check-label",htmlFor:"method-cash",children:[(0,hn.jsx)("span",{className:"badge bg-success me-2",children:"\ud83d\udcb5"}),(0,hn.jsx)("strong",{children:"Cash Payment"}),(0,hn.jsx)("small",{className:"d-block text-muted",children:"Payment in cash with receipt"})]})]})}),(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"form-check form-check-inline",children:[(0,hn.jsx)("input",{className:"form-check-input",type:"radio",name:"payment_method",id:"method-virement",value:"virement",checked:"virement"===i.payment_method,onChange:u}),(0,hn.jsxs)("label",{className:"form-check-label",htmlFor:"method-virement",children:[(0,hn.jsx)("span",{className:"badge bg-info me-2",children:"\ud83c\udfe6"}),(0,hn.jsx)("strong",{children:"Bank Transfer (Virement)"}),(0,hn.jsx)("small",{className:"d-block text-muted",children:"Payment via bank transfer"})]})]})})]})})})]}),(0,hn.jsxs)("div",{className:"col-12 mb-4",children:[(0,hn.jsxs)("label",{className:"form-label",children:[(0,hn.jsx)("i",{className:"fas fa-check-circle me-2 text-success"}),"Payment Status for this Installment"]}),(0,hn.jsx)("div",{className:"card border-warning",children:(0,hn.jsx)("div",{className:"card-body p-3",children:(0,hn.jsxs)("div",{className:"btn-group w-100",role:"group",children:[(0,hn.jsx)("input",{type:"radio",className:"btn-check",name:"status",id:"status-pending",checked:"pending"===i.status,onChange:()=>m("pending")}),(0,hn.jsxs)("label",{className:"btn btn-outline-warning",htmlFor:"status-pending",children:[(0,hn.jsx)("i",{className:"fas fa-clock me-2"}),(0,hn.jsx)("strong",{children:"Pending"}),(0,hn.jsx)("small",{className:"d-block",children:"Not yet paid"})]}),(0,hn.jsx)("input",{type:"radio",className:"btn-check",name:"status",id:"status-paid",checked:"paid"===i.status,onChange:()=>m("paid")}),(0,hn.jsxs)("label",{className:"btn btn-outline-success",htmlFor:"status-paid",children:[(0,hn.jsx)("i",{className:"fas fa-check me-2"}),(0,hn.jsx)("strong",{children:"Effectu\xe9 (Paid)"}),(0,hn.jsx)("small",{className:"d-block",children:"Payment completed"})]}),(0,hn.jsx)("input",{type:"radio",className:"btn-check",name:"status",id:"status-cancelled",checked:"cancelled"===i.status,onChange:()=>m("cancelled")}),(0,hn.jsxs)("label",{className:"btn btn-outline-danger",htmlFor:"status-cancelled",children:[(0,hn.jsx)("i",{className:"fas fa-times me-2"}),(0,hn.jsx)("strong",{children:"Cancelled"}),(0,hn.jsx)("small",{className:"d-block",children:"Payment cancelled"})]})]})})})]}),"paid"===i.status&&(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Payment Date"}),(0,hn.jsx)("input",{type:"date",className:"form-control",name:"payment_date",value:i.payment_date,onChange:u,required:"paid"===i.status})]}),"virement"===i.payment_method&&(0,hn.jsxs)("div",{className:"col-12 mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"RIB (Bank Account Number)"}),(0,hn.jsx)("input",{type:"text",className:"form-control",name:"rib",value:i.rib,onChange:u,placeholder:"Enter RIB number",required:"virement"===i.payment_method})]}),"paid"===i.status&&"virement"===i.payment_method&&(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Bank Reference"}),(0,hn.jsx)("input",{type:"text",className:"form-control",name:"bank_reference",value:i.bank_reference,onChange:u,placeholder:"Transaction reference"})]}),"paid"===i.status&&"cash"===i.payment_method&&(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Receipt Number"}),(0,hn.jsx)("input",{type:"text",className:"form-control",name:"receipt_number",value:i.receipt_number,onChange:u,placeholder:"Receipt number"})]}),(0,hn.jsxs)("div",{className:"col-12 mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Notes"}),(0,hn.jsx)("textarea",{className:"form-control",name:"notes",value:i.notes,onChange:u,rows:"3",placeholder:"Additional notes about this installment..."})]})]}),(0,hn.jsxs)("div",{className:"alert alert-info",children:[(0,hn.jsx)("strong",{children:"Payment Plan Summary:"}),(0,hn.jsx)("br",{}),"Total Amount: ",null===l||void 0===l?void 0:l.total_amount," DH | Installments: ",null===l||void 0===l?void 0:l.number_of_installments," | Client: ",null===l||void 0===l?void 0:l.client_name]})]}),(0,hn.jsxs)("div",{className:"modal-footer",children:[(0,hn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:s,children:"Cancel"}),"paid"===t.status&&(0,hn.jsx)("button",{type:"button",className:"btn btn-warning",onClick:async()=>{if(await Rn("Mark as Unpaid","Are you sure you want to mark this installment as unpaid? This will remove the payment record."))try{d(!0),await mn.put("/api/admin/payments/installments/".concat(t.id,"/unpaid")),kn("Installment marked as unpaid","success"),r(),s()}catch(e){console.error("Error marking as unpaid:",e),kn("Error marking installment as unpaid","error")}finally{d(!1)}},disabled:c,children:"Mark as Unpaid"}),(0,hn.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:c,children:c?"Updating...":"Update Installment"})]})]})]})})}):null},bu=e=>{let{installments:t,paymentPlan:a,onRefresh:s}=e;const[r,l]=(0,n.useState)(null),i=e=>e?new Date(e).toLocaleDateString("fr-FR"):"-";return(0,hn.jsxs)("div",{className:"installments-list",children:[(0,hn.jsxs)("div",{className:"alert alert-success mb-3",children:[(0,hn.jsxs)("h6",{className:"alert-heading",children:[(0,hn.jsx)("i",{className:"fas fa-list-alt me-2"}),"Installment Management"]}),(0,hn.jsx)("p",{className:"mb-0",children:'Each installment can be individually configured for payment method (Cash/Virement) and status (Paid/Unpaid). Click "Edit" to modify any installment.'})]}),(0,hn.jsx)("div",{className:"table-responsive",children:(0,hn.jsxs)("table",{className:"table table-striped table-hover",children:[(0,hn.jsx)("thead",{className:"table-dark",children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{width:"8%",children:"#"}),(0,hn.jsx)("th",{width:"15%",children:"Amount"}),(0,hn.jsx)("th",{width:"12%",children:"Due Date"}),(0,hn.jsx)("th",{width:"15%",children:"Payment Method"}),(0,hn.jsx)("th",{width:"15%",children:"Payment Status"}),(0,hn.jsx)("th",{width:"12%",children:"Payment Date"}),(0,hn.jsx)("th",{width:"15%",children:"Details"}),(0,hn.jsx)("th",{width:"8%",children:"Actions"})]})}),(0,hn.jsx)("tbody",{children:t.map((e=>{return(0,hn.jsxs)("tr",{className:"paid"===e.status?"table-success":"",children:[(0,hn.jsx)("td",{children:(0,hn.jsx)("span",{className:"badge bg-primary fs-6",children:e.installment_number})}),(0,hn.jsx)("td",{children:(0,hn.jsx)("strong",{className:"text-success",children:(t=e.amount,new Intl.NumberFormat("fr-MA",{style:"currency",currency:"MAD"}).format(t))})}),(0,hn.jsx)("td",{children:(0,hn.jsx)("small",{className:"text-muted",children:i(e.due_date)})}),(0,hn.jsx)("td",{children:(0,hn.jsx)("div",{className:"d-flex align-items-center",children:"cash"===e.payment_method?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"badge bg-success me-2",children:"\ud83d\udcb5"}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("strong",{children:"Cash"}),(0,hn.jsx)("small",{className:"d-block text-muted",children:"Payment in cash"})]})]}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"badge bg-info me-2",children:"\ud83c\udfe6"}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("strong",{children:"Virement"}),(0,hn.jsx)("small",{className:"d-block text-muted",children:"Bank transfer"})]})]})})}),(0,hn.jsx)("td",{children:(0,hn.jsx)("div",{className:"d-flex align-items-center",children:"paid"===e.status?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"badge bg-success me-2",children:"\u2705"}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("strong",{className:"text-success",children:"Effectu\xe9"}),(0,hn.jsx)("small",{className:"d-block text-muted",children:"Payment completed"})]})]}):"pending"===e.status?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"badge bg-warning me-2",children:"\u23f3"}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("strong",{className:"text-warning",children:"Pending"}),(0,hn.jsx)("small",{className:"d-block text-muted",children:"Awaiting payment"})]})]}):"overdue"===e.status?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"badge bg-danger me-2",children:"\u26a0\ufe0f"}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("strong",{className:"text-danger",children:"Overdue"}),(0,hn.jsx)("small",{className:"d-block text-muted",children:"Payment late"})]})]}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"badge bg-secondary me-2",children:"\u274c"}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("strong",{className:"text-secondary",children:"Cancelled"}),(0,hn.jsx)("small",{className:"d-block text-muted",children:"Payment cancelled"})]})]})})}),(0,hn.jsx)("td",{children:e.payment_date?(0,hn.jsxs)("span",{className:"text-success",children:[(0,hn.jsx)("i",{className:"fas fa-check-circle me-1"}),i(e.payment_date)]}):(0,hn.jsxs)("span",{className:"text-muted",children:[(0,hn.jsx)("i",{className:"fas fa-minus-circle me-1"}),"Not paid yet"]})}),(0,hn.jsxs)("td",{children:["virement"===e.payment_method&&e.rib&&(0,hn.jsxs)("div",{children:[(0,hn.jsxs)("small",{className:"text-primary",children:[(0,hn.jsx)("i",{className:"fas fa-university me-1"}),"RIB: ",e.rib.substring(0,8),"..."]}),e.bank_reference&&(0,hn.jsxs)("small",{className:"d-block text-muted",children:["Ref: ",e.bank_reference]})]}),"cash"===e.payment_method&&e.receipt_number&&(0,hn.jsxs)("small",{className:"text-success",children:[(0,hn.jsx)("i",{className:"fas fa-receipt me-1"}),"Receipt: ",e.receipt_number]})]}),(0,hn.jsx)("td",{children:(0,hn.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>l(e),title:"Edit this installment",children:(0,hn.jsx)("i",{className:"fas fa-edit"})})})]},e.id);var t}))})]})}),(0,hn.jsx)(vu,{installment:r,show:!!r,onHide:()=>l(null),onUpdate:s,paymentPlan:a})]})},gu=e=>{let{installment:t,onUpdate:a,currentRib:n}=e;return(0,hn.jsx)(hn.Fragment,{children:(0,hn.jsx)("div",{className:"quick-payment-actions",children:(0,hn.jsxs)("div",{className:"btn-group-vertical",role:"group",children:[(0,hn.jsx)("button",{className:"btn btn-sm ".concat("paid"===t.status?"btn-success":"btn-outline-success"),onClick:async()=>{try{if("paid"===t.status){if(!await Rn("Marquer comme non pay\xe9","\xcates-vous s\xfbr de vouloir marquer cet acompte comme non pay\xe9 ?"))return;await mn.put("/api/admin/payments/installments/".concat(t.id,"/unpaid")),kn("Paiement marqu\xe9 comme non pay\xe9","success")}else{let e={payment_date:(new Date).toISOString().split("T")[0],payment_method:t.payment_method,rib:n||t.rib||null,bank_reference:t.bank_reference||null,receipt_number:t.receipt_number||null,notes:"Enregistrement de paiement rapide"};if("virement"===t.payment_method&&!e.rib)return void kn("Veuillez saisir et enregistrer les informations RIB pour le paiement par virement d'abord","error");await mn.put("/api/admin/payments/installments/".concat(t.id,"/paid"),e),kn("Paiement marqu\xe9 comme pay\xe9","success")}a()}catch(e){console.error("Error toggling payment status:",e),kn("Erreur lors de la mise \xe0 jour du statut de paiement","error")}},title:"paid"===t.status?"Marquer comme non pay\xe9":"Marquer comme pay\xe9",children:"paid"===t.status?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("i",{className:"fas fa-check-circle me-1"}),"Pay\xe9"]}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("i",{className:"far fa-circle me-1"}),"Marquer Pay\xe9"]})}),(0,hn.jsx)("button",{className:"btn btn-sm ".concat("cash"===t.payment_method?"btn-success":"btn-info"),onClick:async()=>{try{const e="cash"===t.payment_method?"virement":"cash";await mn.put("/api/admin/payments/installments/".concat(t.id),{payment_method:e}),kn("M\xe9thode de paiement chang\xe9e vers ".concat(e),"success"),a()}catch(e){console.error("Error updating payment method:",e),kn("Erreur lors de la mise \xe0 jour de la m\xe9thode de paiement","error")}},title:"Changer vers ".concat("cash"===t.payment_method?"virement":"esp\xe8ces"),disabled:"paid"===t.status,children:"cash"===t.payment_method?(0,hn.jsx)(hn.Fragment,{children:"\ud83d\udcb5 Esp\xe8ces"}):(0,hn.jsx)(hn.Fragment,{children:"\ud83c\udfe6 Virement"})})]})})})},ju=e=>{let{installment:t,paymentPlan:a,onUpdate:s}=e;const[r,l]=(0,n.useState)(t.rib||""),[i,o]=(0,n.useState)(t.bank_reference||""),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[h,f]=(0,n.useState)(!1),[p,x]=(0,n.useState)(!1),[v,b]=(0,n.useState)(t.due_date?t.due_date.split("T")[0]:"");(0,n.useEffect)((()=>{l(t.rib||""),o(t.bank_reference||""),b(t.due_date?t.due_date.split("T")[0]:""),m(!1),f(!t.rib&&"virement"===t.payment_method)}),[t.rib,t.bank_reference,t.due_date,t.payment_method]);const g=e=>e?new Date(e).toLocaleDateString("fr-FR"):"Non d\xe9finie";return(0,hn.jsx)("div",{className:"installment-card-container",children:(0,hn.jsxs)("div",{className:"card installment-status-card",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap",children:[(0,hn.jsxs)("h6",{className:"mb-0 installment-title",children:[(0,hn.jsxs)("span",{className:"badge bg-primary me-2",children:["#",t.installment_number]}),"\xc9ch\xe9ance ",t.installment_number," - ",(j=t.amount,new Intl.NumberFormat("fr-MA",{style:"currency",currency:"MAD"}).format(j))]}),(0,hn.jsx)(gu,{installment:t,onUpdate:s,currentRib:r})]})}),(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsxs)("div",{className:"installment-info-grid",children:[(0,hn.jsxs)("div",{className:"info-card payment-method",children:[(0,hn.jsxs)("div",{className:"info-header",children:[(0,hn.jsx)("i",{className:"fas fa-credit-card"}),(0,hn.jsx)("span",{children:"M\xe9thode de Paiement"})]}),(0,hn.jsx)("div",{className:"info-content",children:(0,hn.jsx)("span",{className:"method-badge ".concat("cash"===t.payment_method?"cash":"transfer"),children:"cash"===t.payment_method?"\ud83d\udcb5 Paiement Esp\xe8ces":"\ud83c\udfe6 Virement Bancaire"})})]}),(0,hn.jsxs)("div",{className:"info-card status",children:[(0,hn.jsxs)("div",{className:"info-header",children:[(0,hn.jsx)("i",{className:"fas fa-chart-line"}),(0,hn.jsx)("span",{children:"Statut"})]}),(0,hn.jsx)("div",{className:"info-content",children:(0,hn.jsx)("span",{className:"status-badge ".concat(t.status),children:"paid"===t.status?"\u2705 Pay\xe9":"overdue"===t.status?"\u26a0\ufe0f En Retard":"\u23f3 En Attente"})})]}),(0,hn.jsxs)("div",{className:"info-card due-date",children:[(0,hn.jsxs)("div",{className:"info-header",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-alt"}),(0,hn.jsx)("span",{children:"Date d'\xc9ch\xe9ance"})]}),(0,hn.jsx)("div",{className:"info-content",children:p?(0,hn.jsxs)("div",{className:"date-edit-section",children:[(0,hn.jsx)("input",{type:"date",className:"form-control form-control-sm",value:v,onChange:e=>b(e.target.value)}),(0,hn.jsxs)("div",{className:"edit-buttons mt-2",children:[(0,hn.jsx)("button",{className:"btn btn-sm btn-primary me-1",onClick:async()=>{if(v)try{await mn.put("/api/admin/payments/installments/".concat(t.id),{due_date:v}),kn("\u2705 Date d'\xe9ch\xe9ance mise \xe0 jour avec succ\xe8s !","success"),x(!1),s()}catch(e){console.error("Error updating due date:",e),kn("\u274c Erreur lors de la mise \xe0 jour de la date d'\xe9ch\xe9ance","error")}else kn("Veuillez s\xe9lectionner une date d'\xe9ch\xe9ance","error")},children:(0,hn.jsx)("i",{className:"fas fa-save"})}),(0,hn.jsx)("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>{b(t.due_date?t.due_date.split("T")[0]:""),x(!1)},children:(0,hn.jsx)("i",{className:"fas fa-times"})})]})]}):(0,hn.jsxs)("div",{className:"date-display",onClick:()=>{x(!0)},children:[(0,hn.jsx)("span",{className:"date-value",children:g(t.due_date)}),(0,hn.jsx)("i",{className:"fas fa-edit edit-icon ms-2"})]})})]}),(0,hn.jsxs)("div",{className:"info-card payment-date",children:[(0,hn.jsxs)("div",{className:"info-header",children:[(0,hn.jsx)("i",{className:"fas fa-money-check-alt"}),(0,hn.jsx)("span",{children:"Date de Paiement"})]}),(0,hn.jsx)("div",{className:"info-content",children:(0,hn.jsx)("span",{className:"date-value ".concat(t.payment_date?"paid":"not-paid"),children:g(t.payment_date)})})]})]}),"virement"===t.payment_method&&(0,hn.jsx)("div",{className:"bank-info-section",children:!h&&t.rib?(0,hn.jsxs)("div",{className:"rib-display-section",children:[(0,hn.jsxs)("div",{className:"section-header",children:[(0,hn.jsxs)("h6",{className:"section-title",children:[(0,hn.jsx)("i",{className:"fas fa-university me-2"}),"\ud83c\udfe6 Informations Bancaires Enregistr\xe9es"]}),(0,hn.jsxs)("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>{f(!0)},children:[(0,hn.jsx)("i",{className:"fas fa-edit me-1"}),"Modifier RIB"]})]}),(0,hn.jsxs)("div",{className:"rib-display-grid",children:[(0,hn.jsxs)("div",{className:"rib-info-card rib-number",children:[(0,hn.jsx)("div",{className:"rib-label",children:"\u2705 Num\xe9ro RIB"}),(0,hn.jsx)("div",{className:"rib-value",children:t.rib})]}),t.bank_reference&&(0,hn.jsxs)("div",{className:"rib-info-card bank-ref",children:[(0,hn.jsx)("div",{className:"rib-label",children:"\ud83d\udcdd R\xe9f\xe9rence"}),(0,hn.jsx)("div",{className:"rib-value",children:t.bank_reference})]})]})]}):(0,hn.jsxs)("div",{className:"rib-input-section ".concat(u?"has-changes":""),children:[(0,hn.jsxs)("div",{className:"section-header",children:[(0,hn.jsxs)("h6",{className:"section-title",children:[(0,hn.jsx)("i",{className:"fas fa-university me-2"}),"\ud83c\udfe6 Informations Bancaires Requises"]}),t.rib&&(0,hn.jsxs)("button",{type:"button",className:"btn btn-outline-secondary btn-sm",onClick:()=>{l(t.rib||""),o(t.bank_reference||""),m(!1),f(!1)},children:[(0,hn.jsx)("i",{className:"fas fa-times me-1"}),"Annuler"]})]}),(0,hn.jsxs)("div",{className:"rib-input-form",children:[(0,hn.jsxs)("div",{className:"form-row",children:[(0,hn.jsxs)("div",{className:"form-group rib-input",children:[(0,hn.jsxs)("label",{className:"form-label",children:[(0,hn.jsx)("i",{className:"fas fa-credit-card me-2"}),"Num\xe9ro RIB ",(0,hn.jsx)("span",{className:"text-danger",children:"*"})]}),(0,hn.jsx)("input",{type:"text",className:"form-control ".concat(u?"border-warning":""),placeholder:"Saisir le num\xe9ro de compte bancaire complet",value:r,onChange:e=>{return a=e.target.value,l(a),void m(a!==(t.rib||"")||i!==(t.bank_reference||""));var a}})]}),(0,hn.jsxs)("div",{className:"form-group bank-ref-input",children:[(0,hn.jsxs)("label",{className:"form-label",children:[(0,hn.jsx)("i",{className:"fas fa-hashtag me-2"}),"R\xe9f\xe9rence Bancaire (Optionnel)"]}),(0,hn.jsx)("input",{type:"text",className:"form-control ".concat(u?"border-warning":""),placeholder:"R\xe9f\xe9rence optionnelle",value:i,onChange:e=>{return a=e.target.value,o(a),void m(r!==(t.rib||"")||a!==(t.bank_reference||""));var a}})]})]}),(0,hn.jsxs)("div",{className:"form-actions",children:[(0,hn.jsxs)("div",{className:"alert-section",children:[!r.trim()&&(0,hn.jsxs)("div",{className:"alert alert-warning",children:[(0,hn.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("strong",{children:"RIB Requis !"}),(0,hn.jsx)("br",{}),(0,hn.jsx)("small",{children:"Veuillez saisir le num\xe9ro de compte bancaire pour ce paiement par virement."})]})]}),u&&r.trim()&&(0,hn.jsxs)("div",{className:"alert alert-info",children:[(0,hn.jsx)("i",{className:"fas fa-edit me-2"}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("strong",{children:"Pr\xeat \xe0 Enregistrer !"}),(0,hn.jsx)("br",{}),(0,hn.jsx)("small",{children:"Vous avez fait des modifications. Cliquez sur le bouton sauvegarder pour les appliquer."})]})]})]}),(0,hn.jsx)("div",{className:"save-section",children:(0,hn.jsx)("button",{type:"button",className:"btn save-btn ".concat(u?"btn-primary":"btn-outline-secondary"),onClick:async()=>{if(r.trim())try{d(!0),await mn.put("/api/admin/payments/installments/".concat(t.id),{rib:r.trim(),bank_reference:i.trim()}),kn("\u2705 Informations RIB enregistr\xe9es avec succ\xe8s !","success"),m(!1),f(!1),s()}catch(e){console.error("Error updating RIB:",e),kn("\u274c Erreur lors de l'enregistrement des informations RIB","error")}finally{d(!1)}else kn("Veuillez saisir un num\xe9ro RIB","error")},disabled:c||!r.trim()||!u,title:u?"Sauvegarder les modifications":"Aucune modification \xe0 sauvegarder",children:c?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("i",{className:"fas fa-spinner fa-spin me-2"}),"Enregistrement..."]}):u?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("i",{className:"fas fa-save me-2"}),"Enregistrer Info Bancaires"]}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("i",{className:"fas fa-check me-2"}),"Tout Enregistr\xe9"]})})})]})]})]})}),"cash"===t.payment_method&&t.receipt_number&&(0,hn.jsx)("div",{className:"receipt-section",children:(0,hn.jsxs)("div",{className:"receipt-info",children:[(0,hn.jsx)("i",{className:"fas fa-receipt me-2"}),(0,hn.jsx)("span",{className:"receipt-label",children:"Re\xe7u :"}),(0,hn.jsx)("code",{className:"receipt-number",children:t.receipt_number})]})})]})]})});var j},yu=()=>{var e;const[t,a]=(0,n.useState)("overview"),[s,r]=(0,n.useState)([]),[l,i]=(0,n.useState)([]),[o,c]=(0,n.useState)({}),[d,u]=(0,n.useState)([]),[m,h]=(0,n.useState)(null),[f,p]=(0,n.useState)([]),[x,v]=(0,n.useState)([]),[b,g]=(0,n.useState)({}),[j,y]=(0,n.useState)(!1),[N,w]=(0,n.useState)(!1),[k,S]=(0,n.useState)(null),[C,_]=(0,n.useState)({user_pack_id:"",total_amount:"",number_of_installments:1,payment_type:"cash",first_due_date:"",notes:""}),[E,P]=(0,n.useState)({payment_date:(new Date).toISOString().split("T")[0],payment_method:"cash",rib:"",bank_reference:"",receipt_number:"",notes:""}),[T,D]=(0,n.useState)(!1),[R,O]=(0,n.useState)(null),[F,L]=(0,n.useState)({total_amount:"",number_of_installments:1,payment_type:"cash",notes:"",installments:[]}),[A,I]=(0,n.useState)({}),[M,z]=(0,n.useState)(null),[U,B]=(0,n.useState)(""),[W,q]=(0,n.useState)(new Set),H=async()=>{try{g((e=>Ie(Ie({},e),{},{payments:!0})));const e=await mn.get("/api/admin/payments");r(e.data)}catch(e){kn("Erreur lors de la r\xe9cup\xe9ration des paiements","error")}finally{g((e=>Ie(Ie({},e),{},{payments:!1})))}},V=async()=>{try{g((e=>Ie(Ie({},e),{},{overdue:!0})));const e=await mn.get("/api/admin/payments/overdue");i(e.data)}catch(e){kn("Erreur lors de la r\xe9cup\xe9ration des paiements en retard","error")}finally{g((e=>Ie(Ie({},e),{},{overdue:!1})))}},G=async()=>{try{const e=await mn.get("/api/admin/payments/statistics");c(e.data)}catch(e){kn("Erreur lors de la r\xe9cup\xe9ration des statistiques de paiement","error")}},$=async()=>{try{const e=await mn.get("/api/admin/user-packs/without-payment-plans");u(e.data)}catch(e){kn("Erreur lors de la r\xe9cup\xe9ration des packs utilisateur","error")}},K=async e=>{try{g((e=>Ie(Ie({},e),{},{installments:!0})));const t=await mn.get("/api/admin/payments/".concat(e,"/installments"));I((a=>Ie(Ie({},a),{},{[e]:t.data}))),q((t=>new Set([...t,e]))),p(t.data)}catch(t){kn("Erreur lors de la r\xe9cup\xe9ration des \xe9ch\xe9ances","error")}finally{g((e=>Ie(Ie({},e),{},{installments:!1})))}};(0,n.useEffect)((()=>{H(),V(),G(),$()}),[]);const Y=e=>{h(e),K(e.payment_plan_id),(async e=>{try{const t=await mn.get("/api/admin/payments/history/".concat(e));v(t.data)}catch(t){kn("Erreur lors de la r\xe9cup\xe9ration de l'historique des paiements","error")}})(e.user_pack_id)},J=e=>{O(e),L({total_amount:e.total_amount,number_of_installments:e.number_of_installments,payment_type:e.payment_type,notes:e.plan_notes||"",installments:[]}),K(e.payment_plan_id).then((()=>{D(!0)}))},Q=e=>new Intl.NumberFormat("fr-MA",{style:"currency",currency:"MAD"}).format(e),X=e=>new Date(e).toLocaleDateString("fr-FR"),Z=s.filter((e=>e.client_name.toLowerCase().includes(U.toLowerCase())||e.client_email.toLowerCase().includes(U.toLowerCase())||e.pack_name.toLowerCase().includes(U.toLowerCase())));return(0,hn.jsxs)("div",{className:"admin-payments",children:[(0,hn.jsxs)("div",{className:"row mb-4",children:[(0,hn.jsx)("div",{className:"col-md-3",children:(0,hn.jsx)("div",{className:"card text-center",children:(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsx)("h5",{className:"card-title text-primary",children:"Total Collect\xe9"}),(0,hn.jsx)("h3",{className:"text-success",children:Q(o.total_collected||0)})]})})}),(0,hn.jsx)("div",{className:"col-md-3",children:(0,hn.jsx)("div",{className:"card text-center",children:(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsx)("h5",{className:"card-title text-primary",children:"Montant en Attente"}),(0,hn.jsx)("h3",{className:"text-warning",children:Q(o.total_pending||0)})]})})}),(0,hn.jsx)("div",{className:"col-md-3",children:(0,hn.jsx)("div",{className:"card text-center",children:(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsx)("h5",{className:"card-title text-primary",children:"\xc9l\xe9ments en Retard"}),(0,hn.jsx)("h3",{className:"text-danger",children:o.overdue_installments||0})]})})}),(0,hn.jsx)("div",{className:"col-md-3",children:(0,hn.jsx)("div",{className:"card text-center",children:(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsx)("h5",{className:"card-title text-primary",children:"Plans Totaux"}),(0,hn.jsx)("h3",{className:"text-info",children:o.total_payment_plans||0})]})})})]}),(0,hn.jsxs)("ul",{className:"nav nav-tabs mb-4",children:[(0,hn.jsx)("li",{className:"nav-item",children:(0,hn.jsxs)("button",{className:"nav-link ".concat("overview"===t?"active":""),onClick:()=>a("overview"),children:[(0,hn.jsx)("i",{className:"fas fa-chart-line me-2"}),"Aper\xe7u"]})}),(0,hn.jsx)("li",{className:"nav-item",children:(0,hn.jsxs)("button",{className:"nav-link ".concat("installments"===t?"active":""),onClick:()=>a("installments"),children:[(0,hn.jsx)("i",{className:"fas fa-credit-card me-2"}),"Gestionnaire d'\xc9ch\xe9ances"]})}),(0,hn.jsx)("li",{className:"nav-item",children:(0,hn.jsxs)("button",{className:"nav-link ".concat("overdue"===t?"active":""),onClick:()=>a("overdue"),children:[(0,hn.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),"En Retard (",l.length,")"]})}),(0,hn.jsx)("li",{className:"nav-item",children:(0,hn.jsxs)("button",{className:"nav-link ".concat("create"===t?"active":""),onClick:()=>a("create"),children:[(0,hn.jsx)("i",{className:"fas fa-plus me-2"}),"Cr\xe9er Plan"]})})]}),"overview"===t&&(0,hn.jsxs)("div",{className:"tab-content",children:[(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,hn.jsx)("h4",{children:"Plans de Paiement"}),(0,hn.jsxs)("div",{children:[(0,hn.jsxs)("button",{className:"btn btn-warning me-2",onClick:async()=>{try{const e=await mn.post("/api/admin/payments/update-overdue");kn(e.data.message,"success"),H(),V()}catch(e){kn("Erreur lors de la mise \xe0 jour des paiements en retard","error")}},children:[(0,hn.jsx)("i",{className:"fas fa-sync-alt me-2"}),"Mettre \xe0 Jour Retards"]}),(0,hn.jsxs)("button",{className:"btn btn-primary",onClick:H,children:[(0,hn.jsx)("i",{className:"fas fa-refresh me-2"}),"Refresh"]})]})]}),b.payments?(0,hn.jsx)("div",{className:"text-center py-4",children:(0,hn.jsx)("div",{className:"spinner-border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Chargement..."})})}):(0,hn.jsx)("div",{className:"table-responsive",children:(0,hn.jsxs)("table",{className:"table table-striped",children:[(0,hn.jsx)("thead",{children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:"Client"}),(0,hn.jsx)("th",{children:"Pack"}),(0,hn.jsx)("th",{children:"Montant Total"}),(0,hn.jsx)("th",{children:"\xc9ch\xe9ances"}),(0,hn.jsx)("th",{children:"Pay\xe9"}),(0,hn.jsx)("th",{children:"En Attente"}),(0,hn.jsx)("th",{children:"Prochaine \xc9ch\xe9ance"}),(0,hn.jsx)("th",{children:"Statut"}),(0,hn.jsx)("th",{children:"Actions"})]})}),(0,hn.jsx)("tbody",{children:s.map((e=>(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:(0,hn.jsxs)("div",{children:[(0,hn.jsx)("strong",{children:e.client_name}),(0,hn.jsx)("br",{}),(0,hn.jsx)("small",{className:"text-muted",children:e.client_email})]})}),(0,hn.jsx)("td",{children:e.pack_name}),(0,hn.jsx)("td",{children:Q(e.total_amount)}),(0,hn.jsx)("td",{children:e.number_of_installments}),(0,hn.jsx)("td",{className:"text-success",children:Q(e.amount_paid)}),(0,hn.jsx)("td",{className:"text-warning",children:Q(e.amount_pending)}),(0,hn.jsx)("td",{children:e.next_due_date?X(e.next_due_date):"Termin\xe9"}),(0,hn.jsx)("td",{children:(0,hn.jsx)("span",{className:e.amount_pending>0?"badge bg-warning":"badge bg-success",children:e.amount_pending>0?"En Attente":"Pay\xe9"})}),(0,hn.jsxs)("td",{children:[(0,hn.jsxs)("button",{className:"btn btn-sm btn-outline-primary me-1",onClick:()=>Y(e),children:[(0,hn.jsx)("i",{className:"fas fa-eye me-1"}),"Voir"]}),(0,hn.jsx)("button",{className:"btn btn-sm btn-outline-warning",onClick:()=>J(e),title:"Modifier le plan de paiement",children:(0,hn.jsx)("i",{className:"fas fa-edit"})})]})]},e.payment_plan_id)))})]})})]}),"overdue"===t&&(0,hn.jsxs)("div",{className:"tab-content",children:[(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,hn.jsx)("h4",{className:"text-danger",children:"Paiements en Retard"}),(0,hn.jsxs)("button",{className:"btn btn-primary",onClick:V,children:[(0,hn.jsx)("i",{className:"fas fa-refresh me-2"}),"Actualiser"]})]}),b.overdue?(0,hn.jsx)("div",{className:"text-center py-4",children:(0,hn.jsx)("div",{className:"spinner-border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Chargement..."})})}):(0,hn.jsx)("div",{className:"table-responsive",children:(0,hn.jsxs)("table",{className:"table table-striped",children:[(0,hn.jsx)("thead",{children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:"Client"}),(0,hn.jsx)("th",{children:"Pack"}),(0,hn.jsx)("th",{children:"\xc9ch\xe9ance"}),(0,hn.jsx)("th",{children:"Montant"}),(0,hn.jsx)("th",{children:"Date d'\xc9ch\xe9ance"}),(0,hn.jsx)("th",{children:"Jours de Retard"}),(0,hn.jsx)("th",{children:"M\xe9thode de Paiement"}),(0,hn.jsx)("th",{children:"Actions"})]})}),(0,hn.jsx)("tbody",{children:l.map((e=>(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:(0,hn.jsxs)("div",{children:[(0,hn.jsx)("strong",{children:e.client_name}),(0,hn.jsx)("br",{}),(0,hn.jsx)("small",{className:"text-muted",children:e.client_phone})]})}),(0,hn.jsx)("td",{children:e.pack_name}),(0,hn.jsxs)("td",{children:["#",e.installment_number]}),(0,hn.jsx)("td",{children:Q(e.amount)}),(0,hn.jsx)("td",{children:X(e.due_date)}),(0,hn.jsx)("td",{children:(0,hn.jsxs)("span",{className:"badge bg-danger",children:[e.days_overdue," jours"]})}),(0,hn.jsx)("td",{children:(0,hn.jsx)("span",{className:"badge ".concat("cash"===e.payment_method?"bg-success":"bg-info"),children:e.payment_method})}),(0,hn.jsx)("td",{children:(0,hn.jsxs)("button",{className:"btn btn-sm btn-success me-1",onClick:()=>{return t={id:e.installment_id,payment_method:e.payment_method,rib:e.rib},S(t),P({payment_date:(new Date).toISOString().split("T")[0],payment_method:t.payment_method,rib:t.rib||"",bank_reference:"",receipt_number:"",notes:""}),void w(!0);var t},children:[(0,hn.jsx)("i",{className:"fas fa-check me-1"}),"Marquer Pay\xe9"]})})]},e.installment_id)))})]})})]}),"create"===t&&(0,hn.jsx)("div",{className:"tab-content",children:(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-md-8",children:(0,hn.jsxs)("div",{className:"card",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsx)("h5",{children:"Cr\xe9er un Nouveau Plan de Paiement"})}),(0,hn.jsx)("div",{className:"card-body",children:(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await mn.post("/api/admin/payments",C),kn("Plan de paiement cr\xe9\xe9 avec succ\xe8s","success"),y(!1),_({user_pack_id:"",total_amount:"",number_of_installments:1,payment_type:"cash",first_due_date:"",notes:""}),H(),$()}catch(t){kn("Erreur lors de la cr\xe9ation du plan de paiement","error")}},children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Pack Utilisateur *"}),(0,hn.jsxs)("select",{className:"form-select",value:C.user_pack_id,onChange:e=>_(Ie(Ie({},C),{},{user_pack_id:e.target.value})),required:!0,children:[(0,hn.jsx)("option",{value:"",children:"S\xe9lectionner un pack utilisateur"}),d.map((e=>(0,hn.jsxs)("option",{value:e.user_pack_id,children:[e.client_name," - ",e.pack_name," (",Q(e.pack_price),")"]},e.user_pack_id)))]})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Total Amount *"}),(0,hn.jsx)("input",{type:"number",step:"0.01",className:"form-control",value:C.total_amount,onChange:e=>_(Ie(Ie({},C),{},{total_amount:e.target.value})),required:!0})]})}),(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Number of Installments *"}),(0,hn.jsxs)("select",{className:"form-select",value:C.number_of_installments,onChange:e=>_(Ie(Ie({},C),{},{number_of_installments:parseInt(e.target.value)})),required:!0,children:[(0,hn.jsx)("option",{value:1,children:"1 Payment"}),(0,hn.jsx)("option",{value:2,children:"2 Installments"}),(0,hn.jsx)("option",{value:3,children:"3 Installments"})]})]})})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Payment Type *"}),(0,hn.jsxs)("select",{className:"form-select",value:C.payment_type,onChange:e=>_(Ie(Ie({},C),{},{payment_type:e.target.value})),required:!0,children:[(0,hn.jsx)("option",{value:"cash",children:"Cash Only"}),(0,hn.jsx)("option",{value:"virement",children:"Bank Transfer Only"}),(0,hn.jsx)("option",{value:"mixed",children:"Mixed (Cash + Bank Transfer)"})]})]})}),(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"First Due Date *"}),(0,hn.jsx)("input",{type:"date",className:"form-control",value:C.first_due_date,onChange:e=>_(Ie(Ie({},C),{},{first_due_date:e.target.value})),required:!0})]})})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Notes"}),(0,hn.jsx)("textarea",{className:"form-control",rows:3,value:C.notes,onChange:e=>_(Ie(Ie({},C),{},{notes:e.target.value})),placeholder:"Additional notes about the payment plan..."})]}),(0,hn.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,hn.jsx)("i",{className:"fas fa-plus me-2"}),"Create Payment Plan"]})]})})]})}),(0,hn.jsx)("div",{className:"col-md-4",children:(0,hn.jsxs)("div",{className:"card",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsx)("h6",{children:"User Packs Without Payment Plans"})}),(0,hn.jsx)("div",{className:"card-body",children:0===d.length?(0,hn.jsx)("p",{className:"text-muted",children:"No user packs found without payment plans."}):(0,hn.jsx)("div",{className:"list-group",children:d.map((e=>(0,hn.jsx)("div",{className:"list-group-item",children:(0,hn.jsx)("div",{className:"d-flex justify-content-between",children:(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h6",{className:"mb-1",children:e.client_name}),(0,hn.jsx)("p",{className:"mb-1",children:e.pack_name}),(0,hn.jsx)("small",{className:"text-muted",children:Q(e.pack_price)})]})})},e.user_pack_id)))})})]})})]})}),m&&(0,hn.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:(0,hn.jsx)("div",{className:"modal-dialog modal-xl",children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",children:[(0,hn.jsxs)("h5",{className:"modal-title",children:["Payment Plan Details - ",m.client_name]}),(0,hn.jsx)("button",{type:"button",className:"btn-close",onClick:()=>h(null)})]}),(0,hn.jsx)("div",{className:"modal-body",children:(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-md-4",children:(0,hn.jsx)("div",{className:"card",children:(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,hn.jsx)("h6",{className:"mb-0",children:"Plan Summary"}),(0,hn.jsxs)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>J(m),title:"Edit payment plan",children:[(0,hn.jsx)("i",{className:"fas fa-edit"})," Edit Plan"]})]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Pack:"})," ",m.pack_name]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Total:"})," ",Q(m.total_amount)]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Installments:"})," ",m.number_of_installments]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Type:"})," ",m.payment_type]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Paid:"})," ",(0,hn.jsx)("span",{className:"text-success",children:Q(m.amount_paid)})]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"En Attente:"})," ",(0,hn.jsx)("span",{className:"text-warning",children:Q(m.amount_pending)})]})]})})}),(0,hn.jsxs)("div",{className:"col-md-8",children:[(0,hn.jsx)("h6",{children:"Installments - Enhanced Editing"}),b.installments?(0,hn.jsx)("div",{className:"text-center py-3",children:(0,hn.jsx)("div",{className:"spinner-border",role:"status"})}):(0,hn.jsx)(bu,{installments:f,paymentPlan:m,onRefresh:()=>{K(m.payment_plan_id),H(),V(),G()}})]})]})})]})})}),N&&k&&(0,hn.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:(0,hn.jsx)("div",{className:"modal-dialog",children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",children:[(0,hn.jsx)("h5",{className:"modal-title",children:"Record Payment"}),(0,hn.jsx)("button",{type:"button",className:"btn-close",onClick:()=>w(!1)})]}),(0,hn.jsx)("div",{className:"modal-body",children:(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await mn.put("/api/admin/payments/installments/".concat(k.id,"/paid"),E),kn("Paiement enregistr\xe9 avec succ\xe8s","success"),w(!1),S(null),P({payment_date:(new Date).toISOString().split("T")[0],payment_method:"cash",rib:"",bank_reference:"",receipt_number:"",notes:""}),H(),V(),m&&K(m.payment_plan_id)}catch(t){kn("Erreur lors de l'enregistrement du paiement","error")}},children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Payment Date *"}),(0,hn.jsx)("input",{type:"date",className:"form-control",value:E.payment_date,onChange:e=>P(Ie(Ie({},E),{},{payment_date:e.target.value})),required:!0})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Payment Method *"}),(0,hn.jsxs)("select",{className:"form-select",value:E.payment_method,onChange:e=>P(Ie(Ie({},E),{},{payment_method:e.target.value})),required:!0,children:[(0,hn.jsx)("option",{value:"cash",children:"Cash"}),(0,hn.jsx)("option",{value:"virement",children:"Bank Transfer"})]})]}),"virement"===E.payment_method&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"RIB"}),(0,hn.jsx)("input",{type:"text",className:"form-control",value:E.rib,onChange:e=>P(Ie(Ie({},E),{},{rib:e.target.value})),placeholder:"Bank account number"})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Bank Reference"}),(0,hn.jsx)("input",{type:"text",className:"form-control",value:E.bank_reference,onChange:e=>P(Ie(Ie({},E),{},{bank_reference:e.target.value})),placeholder:"Transaction reference"})]})]}),"cash"===E.payment_method&&(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Receipt Number"}),(0,hn.jsx)("input",{type:"text",className:"form-control",value:E.receipt_number,onChange:e=>P(Ie(Ie({},E),{},{receipt_number:e.target.value})),placeholder:"Receipt number"})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Notes"}),(0,hn.jsx)("textarea",{className:"form-control",rows:3,value:E.notes,onChange:e=>P(Ie(Ie({},E),{},{notes:e.target.value})),placeholder:"Additional notes..."})]}),(0,hn.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,hn.jsx)("button",{type:"button",className:"btn btn-secondary me-2",onClick:()=>w(!1),children:"Cancel"}),(0,hn.jsxs)("button",{type:"submit",className:"btn btn-success",children:[(0,hn.jsx)("i",{className:"fas fa-check me-2"}),"Record Payment"]})]})]})})]})})}),T&&R&&(0,hn.jsx)("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:(0,hn.jsx)("div",{className:"modal-dialog modal-lg",children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",children:[(0,hn.jsxs)("h5",{className:"modal-title",children:["Edit Payment Plan - ",R.client_name]}),(0,hn.jsx)("button",{type:"button",className:"btn-close",onClick:()=>D(!1)})]}),(0,hn.jsx)("div",{className:"modal-body",children:(0,hn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{try{if(await mn.put("/api/admin/payments/plans/".concat(R.payment_plan_id),{total_amount:F.total_amount,payment_type:F.payment_type,notes:F.notes}),F.installments.length>0)for(const e of F.installments)await mn.put("/api/admin/payments/installments/".concat(e.id),{amount:e.amount});kn("Plan de paiement mis \xe0 jour avec succ\xe8s","success"),D(!1),H(),K(R.payment_plan_id)}catch(e){console.error("Error updating payment plan:",e),kn("Erreur lors de la mise \xe0 jour du plan de paiement","error")}})()},children:[(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Total Amount (DH)"}),(0,hn.jsx)("input",{type:"number",className:"form-control",value:F.total_amount,onChange:e=>L(Ie(Ie({},F),{},{total_amount:e.target.value})),step:"0.01",min:"0",required:!0})]}),(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Payment Type"}),(0,hn.jsxs)("select",{className:"form-select",value:F.payment_type,onChange:e=>L(Ie(Ie({},F),{},{payment_type:e.target.value})),children:[(0,hn.jsx)("option",{value:"cash",children:"Cash Only"}),(0,hn.jsx)("option",{value:"virement",children:"Bank Transfer Only"}),(0,hn.jsx)("option",{value:"mixed",children:"Mixed (Cash + Transfer)"})]})]}),(0,hn.jsxs)("div",{className:"col-12 mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Notes"}),(0,hn.jsx)("textarea",{className:"form-control",value:F.notes,onChange:e=>L(Ie(Ie({},F),{},{notes:e.target.value})),rows:"3",placeholder:"Additional notes about this payment plan..."})]})]}),(0,hn.jsxs)("div",{className:"card mt-3",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,hn.jsx)("h6",{className:"mb-0",children:"Installment Amount Distribution"}),(0,hn.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>{const e=parseFloat(F.total_amount),t=parseInt(F.number_of_installments);if(e&&t){const a=Math.floor(e/t*100)/100,n=e-a*t,s=f.map(((e,t)=>Ie(Ie({},e),{},{amount:0===t?a+n:a})));L((e=>Ie(Ie({},e),{},{installments:s})))}},children:"Auto Distribute"})]})}),(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsx)("p",{className:"text-muted mb-3",children:"Example: For a 3000 DH pack, you can set first installment to 2000 DH and second to 1000 DH."}),f.length>0?(0,hn.jsx)("div",{className:"table-responsive",children:(0,hn.jsxs)("table",{className:"table table-sm",children:[(0,hn.jsx)("thead",{children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:"Installment #"}),(0,hn.jsx)("th",{children:"Current Amount"}),(0,hn.jsx)("th",{children:"New Amount (DH)"}),(0,hn.jsx)("th",{children:"Status"})]})}),(0,hn.jsx)("tbody",{children:f.map(((e,t)=>{var a;return(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:e.installment_number}),(0,hn.jsx)("td",{children:Q(e.amount)}),(0,hn.jsx)("td",{children:(0,hn.jsx)("input",{type:"number",className:"form-control form-control-sm",value:(null===(a=F.installments.find((t=>t.id===e.id)))||void 0===a?void 0:a.amount)||e.amount,onChange:t=>{return a=e.id,n=t.target.value,void L((e=>Ie(Ie({},e),{},{installments:e.installments.map((e=>e.id===a?Ie(Ie({},e),{},{amount:parseFloat(n)}):e))})));var a,n},step:"0.01",min:"0",disabled:"paid"===e.status})}),(0,hn.jsx)("td",{children:(0,hn.jsx)("span",{className:"badge ".concat("paid"===e.status?"bg-success":"bg-warning"),children:"paid"===e.status?"Paid (Locked)":"Editable"})})]},e.id)}))}),(0,hn.jsx)("tfoot",{children:(0,hn.jsxs)("tr",{className:"table-info",children:[(0,hn.jsx)("th",{children:"Total"}),(0,hn.jsx)("th",{children:Q(f.reduce(((e,t)=>e+parseFloat(t.amount)),0))}),(0,hn.jsx)("th",{children:Q(F.installments.length>0?F.installments.reduce(((e,t)=>e+parseFloat(t.amount||0)),0):f.reduce(((e,t)=>e+parseFloat(t.amount)),0))}),(0,hn.jsx)("th",{})]})})]})}):(0,hn.jsx)("p",{className:"text-muted",children:"Loading installments..."})]})]}),(0,hn.jsxs)("div",{className:"d-flex justify-content-end mt-3",children:[(0,hn.jsx)("button",{type:"button",className:"btn btn-secondary me-2",onClick:()=>D(!1),children:"Cancel"}),(0,hn.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,hn.jsx)("i",{className:"fas fa-save me-2"}),"Save Payment Plan"]})]})]})})]})})}),"installments"===t&&(0,hn.jsxs)("div",{className:"card",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-credit-card me-2"}),M?"Gestion des \xc9ch\xe9ances - ".concat(M.client_name):"Gestionnaire d'\xc9ch\xe9ances"]}),(0,hn.jsx)("p",{className:"mb-0 text-muted",children:M?"G\xe9rer les m\xe9thodes de paiement (Esp\xe8ces/Virement) et statuts pour chaque \xe9ch\xe9ance individuellement.":"S\xe9lectionnez un client pour g\xe9rer ses \xe9ch\xe9ances de paiement."})]}),(0,hn.jsxs)("div",{children:[M&&(0,hn.jsxs)("button",{className:"btn btn-outline-secondary btn-sm me-2",onClick:()=>{z(null),B("")},children:[(0,hn.jsx)("i",{className:"fas fa-arrow-left me-1"}),"Retour \xe0 la Liste"]}),(0,hn.jsxs)("button",{className:"btn btn-outline-primary btn-sm me-2",onClick:async()=>{const e=Array.from(W).map((e=>K(e)));await Promise.all(e)},disabled:b.installments,children:[(0,hn.jsx)("i",{className:"fas fa-sync-alt me-1"}),"Actualiser"]})]})]})}),(0,hn.jsx)("div",{className:"card-body",children:M?(0,hn.jsx)("div",{children:b.installments?(0,hn.jsxs)("div",{className:"text-center py-5",children:[(0,hn.jsx)("div",{className:"spinner-border",role:"status"}),(0,hn.jsx)("p",{className:"mt-2 text-muted",children:"Chargement des \xe9ch\xe9ances..."})]}):(0,hn.jsxs)("div",{children:[(0,hn.jsx)("div",{className:"card bg-light mb-4",children:(0,hn.jsx)("div",{className:"card-body",children:(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-8",children:[(0,hn.jsx)("h6",{className:"text-primary",children:M.client_name}),(0,hn.jsxs)("p",{className:"mb-1",children:[(0,hn.jsx)("strong",{children:"Pack:"})," ",M.pack_name]}),(0,hn.jsxs)("p",{className:"mb-0",children:[(0,hn.jsx)("strong",{children:"Email:"})," ",M.client_email]})]}),(0,hn.jsxs)("div",{className:"col-md-4 text-end",children:[(0,hn.jsx)("div",{className:"mb-1",children:(0,hn.jsxs)("span",{className:"badge bg-primary",children:[M.number_of_installments," \xe9ch\xe9ances"]})}),(0,hn.jsxs)("div",{children:[(0,hn.jsxs)("span",{className:"text-success",children:["Pay\xe9: ",Q(M.amount_paid)]}),(0,hn.jsx)("br",{}),(0,hn.jsxs)("span",{className:"text-warning",children:["En Attente: ",Q(M.amount_pending)]})]})]})]})})}),(0,hn.jsx)("div",{className:"installments-container",style:{maxHeight:"60vh",overflowY:"auto"},children:(null===(e=A[M.payment_plan_id])||void 0===e?void 0:e.length)>0?(0,hn.jsx)("div",{className:"row g-2",children:A[M.payment_plan_id].map((e=>(0,hn.jsx)("div",{className:"col-12 col-lg-6",children:(0,hn.jsx)(ju,{installment:e,paymentPlan:M,onUpdate:()=>K(M.payment_plan_id)})},e.id)))}):(0,hn.jsxs)("div",{className:"text-center py-5",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-times fa-3x text-muted mb-3"}),(0,hn.jsx)("h5",{className:"text-muted",children:"Aucune \xe9ch\xe9ance trouv\xe9e"}),(0,hn.jsx)("p",{className:"text-muted",children:"Ce plan de paiement n'a pas encore d'\xe9ch\xe9ances configur\xe9es."})]})})]})}):(0,hn.jsxs)("div",{children:[(0,hn.jsx)("div",{className:"row mb-4",children:(0,hn.jsxs)("div",{className:"col-md-6",children:[(0,hn.jsxs)("div",{className:"input-group",children:[(0,hn.jsx)("span",{className:"input-group-text",children:(0,hn.jsx)("i",{className:"fas fa-search"})}),(0,hn.jsx)("input",{type:"text",className:"form-control",placeholder:"Rechercher par nom, email ou pack...",value:U,onChange:e=>B(e.target.value)}),U&&(0,hn.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>B(""),children:(0,hn.jsx)("i",{className:"fas fa-times"})})]}),(0,hn.jsxs)("small",{className:"text-muted",children:[Z.length," client(s) trouv\xe9(s)"]})]})}),b.payments?(0,hn.jsxs)("div",{className:"text-center py-5",children:[(0,hn.jsx)("div",{className:"spinner-border",role:"status"}),(0,hn.jsx)("p",{className:"mt-2 text-muted",children:"Chargement des clients..."})]}):0===Z.length?(0,hn.jsxs)("div",{className:"text-center py-5",children:[(0,hn.jsx)("i",{className:"fas fa-users fa-3x text-muted mb-3"}),(0,hn.jsx)("h5",{className:"text-muted",children:U?"Aucun client trouv\xe9":"Aucun plan de paiement trouv\xe9"}),(0,hn.jsx)("p",{className:"text-muted",children:U?"Essayez de modifier votre recherche.":"Cr\xe9ez un plan de paiement pour commencer."})]}):(0,hn.jsx)("div",{className:"row",children:Z.map((e=>(0,hn.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,hn.jsxs)("div",{className:"card h-100 client-card",onClick:()=>(e=>{z(e),A[e.payment_plan_id]||K(e.payment_plan_id)})(e),style:{cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s"},onMouseEnter:e=>{e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.15)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow=""},children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h6",{className:"mb-1 text-primary",children:e.client_name}),(0,hn.jsx)("small",{className:"text-muted",children:e.client_email})]}),(0,hn.jsx)("span",{className:"badge ".concat(e.amount_pending>0?"bg-warning":"bg-success"),children:e.amount_pending>0?"En Cours":"Termin\xe9"})]})}),(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsx)("h6",{className:"mb-2",children:e.pack_name}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,hn.jsx)("span",{children:"Total:"}),(0,hn.jsx)("strong",{children:Q(e.total_amount)})]}),(0,hn.jsxs)("div",{className:"d-flex justify-content-between text-success",children:[(0,hn.jsx)("span",{children:"Pay\xe9:"}),(0,hn.jsx)("span",{children:Q(e.amount_paid)})]}),(0,hn.jsxs)("div",{className:"d-flex justify-content-between text-warning",children:[(0,hn.jsx)("span",{children:"En Attente:"}),(0,hn.jsx)("span",{children:Q(e.amount_pending)})]})]}),(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,hn.jsxs)("small",{className:"text-muted",children:[e.number_of_installments," \xe9ch\xe9ances"]}),e.next_due_date&&(0,hn.jsxs)("small",{className:"text-muted",children:["Prochaine: ",X(e.next_due_date)]})]})]}),(0,hn.jsx)("div",{className:"card-footer",children:(0,hn.jsxs)("div",{className:"text-center",children:[(0,hn.jsx)("i",{className:"fas fa-tasks text-primary"}),(0,hn.jsx)("span",{className:"ms-2 text-primary",children:"Cliquer pour g\xe9rer les \xe9ch\xe9ances"})]})})]})},e.payment_plan_id)))})]})})]})]})},Nu=()=>{const{adminUser:e,isAdmin:t}=(0,n.useContext)(pn),a=te(),s=e=>{const{name:t,value:a,type:n,checked:s}=e.target;if("goalCheckbox"===t)V((e=>{const t=e.goals||[];if(s)t.includes(a)||t.push(a);else{const e=t.indexOf(a);e>-1&&t.splice(e,1)}return Ie(Ie({},e),{},{goals:t})}));else{let e=a;"number"===n&&""!==a&&(e=Number(a)),V((a=>Ie(Ie({},a),{},{[t]:e})))}},[r,l]=(0,n.useState)("reservations"),[i,o]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)([]),[h,f]=(0,n.useState)([]),[p,x]=(0,n.useState)(null),[v,b]=(0,n.useState)({coachId:"",date:"",dateFilter:"all",status:"all"}),[g,j]=(0,n.useState)([]),[y,N]=(0,n.useState)([]),[w,k]=(0,n.useState)({status:"all",dateFilter:"all",date:""}),[S,C]=(0,n.useState)({name:"",bio:"",specialty:"",photo:"",email:"",matricule:"",password:""}),_=["correction de la posture","prise de masse","perte de poids","preparation physique","strongman","Renforcement musculaire","Tonification"],[E,P]=(0,n.useState)({username:"",email:"",password:"",solo_points:0,team_points:0,full_name:"",phone:"",age:"",gender:"",goals:[]}),[T,D]=(0,n.useState)({clientId:"",points:0,pointType:"solo",action:"add"}),[R,O]=(0,n.useState)({date:"",start_time:"",end_time:""}),[F,L]=(0,n.useState)(!1),[A,I]=(0,n.useState)({coach_id:"",start_date:"",end_date:"",start_time:"",end_time:"",days_of_week:[],repeat_for_weeks:4}),[M,z]=(0,n.useState)(!1),[U,B]=(0,n.useState)({client_id:"",coach_id:"",start_date:"",end_date:"",time_slot:"",days_of_week:[],repeat_for_weeks:4}),[W,q]=(0,n.useState)(null),[H,V]=(0,n.useState)(null),[G,$]=(0,n.useState)(!1),[K,Y]=(0,n.useState)(null),[J,Q]=(0,n.useState)([]),[X,Z]=(0,n.useState)([]),[ee,ae]=(0,n.useState)({coachId:"",bilan:""}),[ne,se]=(0,n.useState)(!1),[re,le]=(0,n.useState)({reservations:!0,coaches:!0,clients:!0,availability:!1});(0,n.useEffect)((()=>{const e=e=>{"Escape"===e.key&&H&&V(null)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[H]),(0,n.useEffect)((()=>{if(!e||!t)return console.log("Not authenticated as admin, redirecting to login",{adminUser:e,isAdmin:t}),void a("/admin/login");const n=localStorage.getItem("adminToken");n?(mn.defaults.headers.common.Authorization="Bearer ".concat(n),console.log("Authorization header set for admin page")):console.log("No token found for admin page"),ie(),oe(),ce()}),[e,t,a]);const ie=async()=>{le((e=>Ie(Ie({},e),{},{reservations:!0})));try{console.log("Fetching reservations from /api/admin/reservations...");const e=await mn.get("/api/admin/reservations");console.log("Reservations response:",e.data);const t=[...e.data].sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at)));d(t),o(t)}catch(e){console.error("Error fetching reservations:",e),kn("Failed to load reservations. Please try again.",{type:"error",title:"Loading Error",duration:5e3})}finally{le((e=>Ie(Ie({},e),{},{reservations:!1})))}},oe=async()=>{le((e=>Ie(Ie({},e),{},{coaches:!0})));try{const e=await mn.get("/api/coaches");m(e.data)}catch(e){console.error("Error fetching coaches:",e),kn("Failed to load coaches. Please try again.",{type:"error",title:"Loading Error",duration:5e3})}finally{le((e=>Ie(Ie({},e),{},{coaches:!1})))}},ce=async()=>{le((e=>Ie(Ie({},e),{},{clients:!0})));try{console.log("Fetching clients from /api/admin/clients...");const e=await mn.get("/api/admin/clients");console.log("Clients response:",e.data),f(e.data)}catch(e){console.error("Error fetching clients:",e),kn("Failed to load clients. Please try again.",{type:"error",title:"Loading Error",duration:5e3})}finally{le((e=>Ie(Ie({},e),{},{clients:!1})))}},de=async e=>{le((e=>Ie(Ie({},e),{},{availability:!0})));try{const t=await mn.get("/api/coaches/".concat(e,"/all-availability"));N(t.data),j(t.data)}catch(t){console.error("Error fetching coach availability:",t),kn("Failed to load coach availability. Please try again.",{type:"error",title:"Loading Error",duration:5e3})}finally{le((e=>Ie(Ie({},e),{},{availability:!1})))}},ue=e=>{x(e),k({status:"all",dateFilter:"all",date:""}),de(e.id)},me=e=>{const{name:t,value:a}=e.target;C((e=>Ie(Ie({},e),{},{[t]:a})))},he=e=>{const{name:t,value:a}=e.target;O((e=>Ie(Ie({},e),{},{[t]:a})))},fe=e=>{const{name:t,value:a,type:n,checked:s}=e.target;if("days_of_week"===t){const e=parseInt(a);I((t=>Ie(Ie({},t),{},{days_of_week:s?[...t.days_of_week,e]:t.days_of_week.filter((t=>t!==e))})))}else I((e=>Ie(Ie({},e),{},{[t]:a})))},pe=e=>{const{name:t,value:a,type:n,checked:s}=e.target;if("days_of_week"===t){const e=parseInt(a);B((t=>Ie(Ie({},t),{},{days_of_week:s?[...t.days_of_week,e]:t.days_of_week.filter((t=>t!==e))})))}else B((e=>Ie(Ie({},e),{},{[t]:a})))},xe=e=>{const{name:t,value:a,type:n,checked:s}=e.target;if("goalCheckbox"===t)P((e=>{const t=[...e.goals];if(s)t.includes(a)||t.push(a);else{const e=t.indexOf(a);e>-1&&t.splice(e,1)}return Ie(Ie({},e),{},{goals:t})}));else{let e=a;"solo_points"!==t&&"team_points"!==t&&"age"!==t||""===a||(e=Number(a)),P((a=>Ie(Ie({},a),{},{[t]:e})))}},ve=e=>{const{name:t,value:a}=e.target;D((e=>Ie(Ie({},e),{},{[t]:a})))},be=()=>{$(!1),Y(null),Z([]),ae({coachId:"",bilan:""})},ge=e=>{const{name:t,value:a}=e.target;q((e=>Ie(Ie({},e),{},{[t]:a})))},je=e=>{try{if(!e)return"Invalid date";console.log("Formatting date:",e);const t=new Date(e);return isNaN(t.getTime())?"Invalid date":t.toLocaleDateString("en-US")}catch(t){return console.error("Error formatting date:",t,"Date string:",e),"Error"}},ye=e=>{try{if(!e)return"Invalid time";if(console.log("Formatting time:",e),/^\d{2}:\d{2}:\d{2}$/.test(e)){const[t,a]=e.split(":");return new Date(2e3,0,1,t,a).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}const t=new Date("2000-01-01T".concat(e));return isNaN(t.getTime())?"Invalid time":t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch(t){return console.error("Error formatting time:",t,"Time string:",e),"Error"}},Ne=e=>{const t=(new Date).toISOString().split("T")[0];let a;return a=e.includes("T")?e.split("T")[0]:e,a===t},we=e=>{const t=new Date;t.setDate(t.getDate()+1);const a=t.toISOString().split("T")[0];let n;return n=e.includes("T")?e.split("T")[0]:e,n===a},ke=e=>{const t=new Date,a=t.toISOString().split("T")[0],n=new Date(t);n.setDate(t.getDate()+7);const s=n.toISOString().split("T")[0];let r;return r=e.includes("T")?e.split("T")[0]:e,r>=a&&r<s},Se=(e,t)=>{if(!e||!t)return!1;const a=new Date,[n,s]=t.split(":").map(Number),r=new Date(e);return r.setHours(n,s,0,0),r<a},Ce=()=>{if(!c.length)return;console.log("Filtering reservations with filters:",v),console.log("Total reservations before filtering:",c.length);let e=[...c];if(v.coachId){const t=Number(v.coachId);e=e.filter((e=>e.coach_id===t)),console.log("After coach filter:",e.length)}switch(console.log("Applying date filter:",v.dateFilter),v.dateFilter){case"today":e=e.filter((e=>{const t=Ne(e.date);return console.log("Date ".concat(e.date," is today:"),t),t}));break;case"tomorrow":e=e.filter((e=>{const t=we(e.date);return console.log("Date ".concat(e.date," is tomorrow:"),t),t}));break;case"week":e=e.filter((e=>{const t=ke(e.date);return console.log("Date ".concat(e.date," is this week:"),t),t}));break;case"custom":v.date&&(console.log("Custom date filter value:",v.date),e=e.filter((e=>{let t;if(e.date.includes("T")){const t=e.date.split("T")[0],a=new Date(e.date),n=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),r=String(a.getDate()).padStart(2,"0"),l="".concat(n,"-").concat(s,"-").concat(r),i=t===v.date,o=l===v.date;return console.log("Date ".concat(e.date,": simple split = ").concat(t,", local = ").concat(l,", filter = ").concat(v.date)),console.log("Simple match: ".concat(i,", Local match: ").concat(o)),i||o}{t=e.date;const a=t===v.date;return console.log("Date ".concat(e.date," matches custom date ").concat(v.date,":"),a),a}})),console.log("After custom date filter:",e.length));break;default:console.log("No date filter applied")}switch(console.log("Applying status filter:",v.status),v.status){case"confirmed":e=e.filter((e=>{const t="confirmed"===e.status&&!Se(e.date,e.time);return console.log("Reservation ".concat(e.id," is confirmed and not past:"),t),t}));break;case"cancelled":e=e.filter((e=>{const t="cancelled"===e.status;return console.log("Reservation ".concat(e.id," is cancelled:"),t),t}));break;case"past":e=e.filter((e=>{const t=Se(e.date,e.time);return console.log("Reservation ".concat(e.id," is past:"),t),t}));break;default:console.log("No status filter applied")}console.log("Final filtered count:",e.length),o(e)},_e=e=>{const{name:t,value:a}=e.target;b((e=>{const n=Ie(Ie({},e),{},{[t]:a});return"dateFilter"===t&&"custom"!==a&&(n.date=""),n}))};(0,n.useEffect)((()=>{Ce()}),[v,c]);const Ee=e=>{const{name:t,value:a}=e.target;k((e=>Ie(Ie({},e),{},{[t]:a},"dateFilter"===t&&"custom"!==a?{date:""}:{})))};(0,n.useEffect)((()=>{Ce()}),[v,c]),(0,n.useEffect)((()=>{(()=>{if(!y.length)return;let e=[...y];if("all"!==w.status&&("available"===w.status?e=e.filter((e=>!e.is_booked)):"booked"===w.status&&(e=e.filter((e=>e.is_booked)))),"all"!==w.dateFilter)if("today"===w.dateFilter)e=e.filter((e=>Ne(e.date)));else if("tomorrow"===w.dateFilter)e=e.filter((e=>we(e.date)));else if("week"===w.dateFilter)e=e.filter((e=>ke(e.date)));else if("custom"===w.dateFilter&&w.date){const t=new Date(w.date).toDateString();e=e.filter((e=>new Date(e.date).toDateString()===t))}j(e)})()}),[w,y]);const[Pe,Te]=(0,n.useState)([]),[De,Re]=(0,n.useState)(!1);return re.reservations&&"reservations"===r?(0,hn.jsx)("div",{className:"container mt-5",children:(0,hn.jsxs)("div",{className:"spinner-container",children:[(0,hn.jsx)("div",{className:"spinner-border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,hn.jsx)("p",{className:"mt-3",children:"Loading reservations..."})]})}):re.coaches&&"coaches"===r?(0,hn.jsx)("div",{className:"container mt-5",children:(0,hn.jsxs)("div",{className:"spinner-container",children:[(0,hn.jsx)("div",{className:"spinner-border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,hn.jsx)("p",{className:"mt-3",children:"Loading coaches..."})]})}):re.clients&&"clients"===r?(0,hn.jsx)("div",{className:"container mt-5",children:(0,hn.jsxs)("div",{className:"spinner-container",children:[(0,hn.jsx)("div",{className:"spinner-border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,hn.jsx)("p",{className:"mt-3",children:"Loading clients..."})]})}):(0,hn.jsxs)("div",{className:"container mt-5 slide-up",children:["      ",(0,hn.jsxs)("div",{className:"page-header",children:[(0,hn.jsx)("h1",{style:{color:"var(--secondary-color)"},children:"Admin Dashboard"}),(0,hn.jsx)("div",{className:"section-separator"}),(0,hn.jsxs)("p",{className:"lead",style:{color:"var(--text-color)"},children:["Welcome, ",(0,hn.jsx)("strong",{style:{color:"var(--highlight-color)"},children:null===e||void 0===e?void 0:e.username})," (Matricule: ",null===e||void 0===e?void 0:e.matricule,") | Manage all reservations, coaches, and schedules"]})]}),(0,hn.jsxs)("div",{className:"row mb-4",children:[(0,hn.jsx)("div",{className:"col-md-3 mb-3",children:(0,hn.jsx)("div",{className:"card h-100 admin-stats-card",children:(0,hn.jsxs)("div",{className:"card-body text-center",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-check fa-3x mb-3 admin-icon"}),(0,hn.jsx)("h3",{className:"admin-value",children:i.length}),(0,hn.jsx)("p",{className:"admin-title",children:"Total Reservations"})]})})}),(0,hn.jsx)("div",{className:"col-md-3 mb-3",children:(0,hn.jsx)("div",{className:"card h-100 admin-stats-card",children:(0,hn.jsxs)("div",{className:"card-body text-center",children:[(0,hn.jsx)("i",{className:"fas fa-users fa-3x mb-3 admin-icon"}),(0,hn.jsx)("h3",{className:"admin-value",children:new Set(i.map((e=>e.full_name))).size}),(0,hn.jsx)("p",{className:"admin-title",children:"Unique Visitors"})]})})}),(0,hn.jsx)("div",{className:"col-md-3 mb-3",children:(0,hn.jsx)("div",{className:"card h-100 admin-stats-card",children:(0,hn.jsxs)("div",{className:"card-body text-center",children:[(0,hn.jsx)("i",{className:"fas fa-user-tie fa-3x mb-3 admin-icon"}),(0,hn.jsx)("h3",{className:"admin-value",children:u.length}),(0,hn.jsx)("p",{className:"admin-title",children:"Active Coaches"})]})})}),(0,hn.jsx)("div",{className:"col-md-3 mb-3",children:(0,hn.jsx)("div",{className:"card h-100 admin-stats-card",children:(0,hn.jsxs)("div",{className:"card-body text-center",children:[(0,hn.jsx)("i",{className:"fas fa-user-friends fa-3x mb-3 admin-icon"}),(0,hn.jsx)("h3",{className:"admin-value",children:h.length}),(0,hn.jsx)("p",{className:"admin-title",children:"Registered Clients"})]})})})]}),(0,hn.jsxs)("ul",{className:"nav nav-tabs mb-4",children:[(0,hn.jsx)("li",{className:"nav-item",children:(0,hn.jsxs)("button",{className:"nav-link ".concat("reservations"===r?"active":""),onClick:()=>l("reservations"),children:[(0,hn.jsx)("i",{className:"fas fa-calendar-check me-2"}),"Reservations"]})}),(0,hn.jsx)("li",{className:"nav-item",children:(0,hn.jsxs)("button",{className:"nav-link ".concat("planning"===r?"active":""),onClick:()=>l("planning"),children:[(0,hn.jsx)("i",{className:"fas fa-calendar-week me-2"}),"Planning"]})}),(0,hn.jsx)("li",{className:"nav-item",children:(0,hn.jsxs)("button",{className:"nav-link ".concat("coaches"===r?"active":""),onClick:()=>l("coaches"),children:[(0,hn.jsx)("i",{className:"fas fa-user-tie me-2"}),"Coaches"]})}),(0,hn.jsx)("li",{className:"nav-item",children:(0,hn.jsxs)("button",{className:"nav-link ".concat("availability"===r?"active":""),onClick:()=>l("availability"),children:[(0,hn.jsx)("i",{className:"fas fa-clock me-2"}),"Time Slots"]})}),(0,hn.jsx)("li",{className:"nav-item",children:(0,hn.jsxs)("button",{className:"nav-link ".concat("clients"===r?"active":""),onClick:()=>l("clients"),children:[(0,hn.jsx)("i",{className:"fas fa-user-friends me-2"}),"Clients"]})}),(0,hn.jsx)("li",{className:"nav-item",children:(0,hn.jsxs)("button",{className:"nav-link ".concat("group-courses"===r?"active":""),onClick:()=>l("group-courses"),children:[(0,hn.jsx)("i",{className:"fas fa-users me-2"}),"Group Courses"]})}),(0,hn.jsx)("li",{className:"nav-item",children:(0,hn.jsxs)("button",{className:"nav-link ".concat("packs"===r?"active":""),onClick:()=>l("packs"),children:[(0,hn.jsx)("i",{className:"fas fa-gift me-2"}),"Packs"]})}),(0,hn.jsx)("li",{className:"nav-item",children:(0,hn.jsxs)("button",{className:"nav-link ".concat("payments"===r?"active":""),onClick:()=>l("payments"),children:[(0,hn.jsx)("i",{className:"fas fa-credit-card me-2"}),"Payments"]})})]}),"      ","reservations"===r&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,hn.jsx)("h2",{className:"mb-0",children:"Reservations"}),(0,hn.jsxs)("div",{className:"d-flex gap-2",children:[(0,hn.jsxs)("button",{className:"btn btn-outline-primary",onClick:()=>z(!0),children:[(0,hn.jsx)("i",{className:"fas fa-calendar-plus me-2"}),"Bulk Create Reservations"]}),(0,hn.jsxs)("button",{className:"btn admin-btn-primary",onClick:ie,children:[(0,hn.jsx)("i",{className:"fas fa-sync-alt me-2"}),"Refresh"]})]})]}),(0,hn.jsxs)("div",{className:"card mb-4",children:[(0,hn.jsx)("div",{className:"card-header admin-card-header",children:(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-filter me-2"})," Filtres"]})}),(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsxs)("div",{className:"row g-3",children:[(0,hn.jsxs)("div",{className:"col-md-4",children:[(0,hn.jsx)("label",{className:"form-label",children:"Coach"}),(0,hn.jsxs)("select",{className:"form-select",name:"coachId",value:v.coachId,onChange:_e,children:["                    ",(0,hn.jsx)("option",{value:"",children:"Tous les coachs"}),u.map((e=>(0,hn.jsxs)("option",{value:e.id,children:[e.name," (ID: ",e.id,")"]},e.id)))]})]}),(0,hn.jsxs)("div",{className:"col-md-4",children:[(0,hn.jsx)("label",{className:"form-label",children:"P\xe9riode"}),(0,hn.jsxs)("select",{className:"form-select",name:"dateFilter",value:v.dateFilter,onChange:_e,children:[(0,hn.jsx)("option",{value:"all",children:"Toutes les dates"}),(0,hn.jsx)("option",{value:"today",children:"Aujourd'hui"}),(0,hn.jsx)("option",{value:"tomorrow",children:"Demain"}),(0,hn.jsx)("option",{value:"week",children:"Cette semaine"}),(0,hn.jsx)("option",{value:"custom",children:"Date personnalis\xe9e"})]})]}),(0,hn.jsxs)("div",{className:"col-md-4",children:[(0,hn.jsx)("label",{className:"form-label",children:"Statut"}),(0,hn.jsxs)("select",{className:"form-select",name:"status",value:v.status,onChange:_e,children:[(0,hn.jsx)("option",{value:"all",children:"Tous les statuts"}),(0,hn.jsx)("option",{value:"confirmed",children:"Confirm\xe9"}),(0,hn.jsx)("option",{value:"cancelled",children:"Annul\xe9"}),(0,hn.jsx)("option",{value:"past",children:"Pass\xe9"})]})]}),"custom"===v.dateFilter&&(0,hn.jsxs)("div",{className:"col-md-4",children:[(0,hn.jsx)("label",{className:"form-label",children:"Date sp\xe9cifique"}),(0,hn.jsx)("input",{type:"date",className:"form-control",name:"date",value:v.date,onChange:_e})]})]}),(0,hn.jsx)("div",{className:"row mt-3",children:(0,hn.jsx)("div",{className:"col-12",children:(0,hn.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>{b({coachId:"",date:"",dateFilter:"all",status:"all"})},children:[(0,hn.jsx)("i",{className:"fas fa-undo me-2"}),"R\xe9initialiser les filtres"]})})})]})]}),(0,hn.jsxs)("div",{className:"card",children:[(0,hn.jsx)("div",{className:"card-header admin-card-header",children:(0,hn.jsx)("h5",{className:"mb-0",children:c.length===i.length?"Toutes les r\xe9servations (".concat(i.length,")"):"R\xe9servations filtr\xe9es (".concat(i.length,"/").concat(c.length,")")})}),(0,hn.jsx)("div",{className:"card-body",children:0===i.length?(0,hn.jsxs)("div",{className:"text-center py-4",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-times fa-3x mb-3",style:{color:"var(--highlight-color)"}}),(0,hn.jsx)("p",{style:{color:"var(--text-color)"},children:"No reservations found."})]}):(0,hn.jsx)("div",{className:"table-responsive",style:{overflowX:"auto",width:"100%"},children:(0,hn.jsxs)("table",{className:"table admin-table",style:{minWidth:"1000px"},children:[(0,hn.jsx)("thead",{children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:(0,hn.jsx)("input",{type:"checkbox",checked:Pe.length===i.length&&i.length>0,onChange:()=>{Pe.length===i.length?Te([]):Te(i.map((e=>e.id)))},"aria-label":"Tout s\xe9lectionner"})}),(0,hn.jsx)("th",{children:"ID"}),(0,hn.jsx)("th",{children:"Client"}),(0,hn.jsx)("th",{children:"Coach"}),(0,hn.jsx)("th",{children:"Date & Heure de s\xe9ance"}),(0,hn.jsx)("th",{children:"Contact"}),(0,hn.jsx)("th",{children:"Objectifs"}),(0,hn.jsx)("th",{children:"Statut"}),(0,hn.jsx)("th",{children:"R\xe9servation cr\xe9\xe9e le"}),(0,hn.jsx)("th",{children:"Actions"})]})}),(0,hn.jsx)("tbody",{children:i.map((e=>(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:(0,hn.jsx)("input",{type:"checkbox",checked:Pe.includes(e.id),onChange:()=>{return t=e.id,void Te((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},"aria-label":"S\xe9lectionner la r\xe9servation ".concat(e.id)})}),(0,hn.jsx)("td",{children:e.id}),(0,hn.jsxs)("td",{children:[(0,hn.jsx)("strong",{children:e.full_name}),(0,hn.jsx)("br",{}),(0,hn.jsxs)("small",{className:"text-muted",children:[e.age," years, ",e.gender]})]}),(0,hn.jsxs)("td",{children:[(0,hn.jsx)("strong",{children:e.coach_name}),(0,hn.jsx)("br",{}),(0,hn.jsx)("small",{className:"text-muted",children:e.specialty})]}),(0,hn.jsxs)("td",{children:[je(e.date),(0,hn.jsx)("br",{}),ye(e.time)]}),(0,hn.jsx)("td",{children:(0,hn.jsxs)("small",{children:[(0,hn.jsx)("i",{className:"fas fa-envelope me-1"})," ",e.email,(0,hn.jsx)("br",{}),(0,hn.jsx)("i",{className:"fas fa-phone me-1"})," ",e.phone]})}),(0,hn.jsx)("td",{children:(0,hn.jsx)("small",{children:e.goal||"No goals specified"})}),(0,hn.jsxs)("td",{children:["cancelled"===e.status?(0,hn.jsx)("span",{className:"badge bg-danger",children:"Annul\xe9e"}):Se(e.date,e.time)?(0,hn.jsx)("span",{className:"badge bg-secondary",children:"Pass\xe9e"}):(0,hn.jsx)("span",{className:"badge bg-success",children:"Confirm\xe9e"}),e.cancelled_at&&(0,hn.jsx)("small",{className:"d-block text-muted mt-1",children:new Date(e.cancelled_at).toLocaleString("fr-FR",{dateStyle:"short",timeStyle:"short"})})]}),(0,hn.jsx)("td",{children:(0,hn.jsxs)("small",{className:"text-muted",children:[new Date(e.created_at).toLocaleString("fr-FR",{dateStyle:"medium",timeStyle:"short"}),(0,hn.jsx)("br",{}),(0,hn.jsx)("span",{className:e.created_at?"badge bg-info text-dark":"",children:Ne(e.created_at)?"Aujourd'hui":""})]})}),(0,hn.jsx)("td",{children:(0,hn.jsxs)("div",{className:"btn-group btn-group-sm",children:[(0,hn.jsx)("button",{className:"btn btn-outline-warning",onClick:()=>(async e=>{const t=i.find((t=>t.id===e));if(t&&Se(t.date,t.time))return void kn("Impossible d'annuler une r\xe9servation pass\xe9e. La s\xe9ance a d\xe9j\xe0 eu lieu.",{type:"warning",title:"Annulation impossible",duration:4e3});if(await Rn("\xcates-vous s\xfbr de vouloir annuler cette r\xe9servation? Le cr\xe9neau sera lib\xe9r\xe9 et pourra \xeatre r\xe9serv\xe9 par d'autres clients.",{title:"Confirmer l'annulation",confirmText:"Annuler la r\xe9servation",cancelText:"Ne pas annuler",confirmButtonClass:"btn-warning"}))try{await mn.post("/api/cancel/".concat(e),{refundPoints:!0}),kn("R\xe9servation annul\xe9e avec succ\xe8s. Le cr\xe9neau est maintenant disponible pour r\xe9servation.",{type:"success",title:"Annulation r\xe9ussie",duration:5e3}),ie()}catch(a){console.error("Error cancelling reservation:",a),kn("\xc9chec de l'annulation de la r\xe9servation. Veuillez r\xe9essayer.",{type:"error",title:"Erreur",duration:5e3})}})(e.id),title:Se(e.date,e.time)?"Impossible d'annuler une r\xe9servation pass\xe9e":"Annuler la r\xe9servation et lib\xe9rer le cr\xe9neau",disabled:"cancelled"===e.status||Se(e.date,e.time),children:(0,hn.jsx)("i",{className:"fas fa-times-circle"})}),(0,hn.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>(async e=>{if(await Rn("\xcates-vous s\xfbr de vouloir supprimer cette r\xe9servation? Cette action est irr\xe9versible.",{title:"Confirmer la suppression",confirmText:"Supprimer",cancelText:"Annuler",confirmButtonClass:"btn-danger"}))try{await mn.delete("/api/admin/reservations/".concat(e)),kn("R\xe9servation supprim\xe9e avec succ\xe8s",{type:"success",title:"Suppression r\xe9ussie",duration:5e3}),ie()}catch(t){console.error("Error deleting reservation:",t),kn("\xc9chec de la suppression de la r\xe9servation. Veuillez r\xe9essayer.",{type:"error",title:"Erreur",duration:5e3})}})(e.id),title:"Supprimer d\xe9finitivement la r\xe9servation",children:(0,hn.jsx)("i",{className:"fas fa-trash-alt"})})]})})]},e.id)))})]})})})]}),"reservations"===r&&Pe.length>0&&(0,hn.jsxs)("div",{className:"mb-3 p-2 d-flex gap-2 align-items-center border rounded bg-light",style:{borderColor:"#e0e0e0"},children:[(0,hn.jsxs)("span",{className:"fw-bold",children:[Pe.length," s\xe9lectionn\xe9(s)"]}),(0,hn.jsxs)("button",{className:"btn btn-sm btn-danger",onClick:async()=>{if(0===Pe.length)return;if(!await Rn("\xcates-vous s\xfbr de vouloir supprimer ".concat(Pe.length," r\xe9servations s\xe9lectionn\xe9es ? Cette action est irr\xe9versible."),{title:"Confirmer la suppression multiple",confirmText:"Supprimer",cancelText:"Annuler",confirmButtonClass:"btn-danger"}))return;Re(!0);let e=0;for(const a of Pe)try{await mn.delete("/api/admin/reservations/".concat(a)),e++}catch(t){}Re(!1),Te([]),ie(),kn("".concat(e," r\xe9servation(s) supprim\xe9e(s) avec succ\xe8s"),{type:"success",title:"Suppression multiple",duration:5e3})},disabled:De,children:[(0,hn.jsx)("i",{className:"fas fa-trash-alt me-1"}),"Supprimer s\xe9lection"]}),(0,hn.jsxs)("button",{className:"btn btn-sm btn-warning",onClick:async()=>{if(0===Pe.length)return;if(!await Rn("\xcates-vous s\xfbr de vouloir annuler ".concat(Pe.length," r\xe9servations s\xe9lectionn\xe9es ? Les cr\xe9neaux seront lib\xe9r\xe9s."),{title:"Confirmer l'annulation multiple",confirmText:"Annuler",cancelText:"Ne pas annuler",confirmButtonClass:"btn-warning"}))return;Re(!0);let e=0;for(const a of Pe)try{await mn.post("/api/cancel/".concat(a),{refundPoints:!0}),e++}catch(t){}Re(!1),Te([]),ie(),kn("".concat(e," r\xe9servation(s) annul\xe9e(s) avec succ\xe8s"),{type:"success",title:"Annulation multiple",duration:5e3})},disabled:De,children:[(0,hn.jsx)("i",{className:"fas fa-times-circle me-1"}),"Annuler s\xe9lection"]}),De&&(0,hn.jsx)("span",{className:"ms-2",children:"Traitement en cours..."})]})]}),"planning"===r&&(0,hn.jsx)(xu,{}),"coaches"===r&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,hn.jsx)("h2",{className:"mb-0",children:"Coaches"}),"            ",(0,hn.jsxs)("button",{className:"btn admin-btn-primary",onClick:oe,children:[(0,hn.jsx)("i",{className:"fas fa-sync-alt me-2"}),"Refresh"]})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-lg-8",children:["              ",(0,hn.jsxs)("div",{className:"card mb-4",children:[(0,hn.jsx)("div",{className:"card-header admin-card-header",children:(0,hn.jsxs)("h5",{className:"mb-0",children:["All Coaches (",u.length,")"]})}),(0,hn.jsxs)("div",{className:"card-body",children:["                  ",0===u.length?(0,hn.jsxs)("div",{className:"text-center py-4",children:[(0,hn.jsx)("i",{className:"fas fa-user-times fa-3x mb-3",style:{color:"var(--highlight-color)"}}),(0,hn.jsx)("p",{style:{color:"var(--text-color)"},children:"No coaches found."})]}):(0,hn.jsx)("div",{className:"table-responsive",style:{overflowX:"auto",width:"100%"},children:(0,hn.jsxs)("table",{className:"table admin-table",style:{minWidth:"1100px"},children:[(0,hn.jsx)("thead",{children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:"ID"}),(0,hn.jsx)("th",{children:"Photo"}),(0,hn.jsx)("th",{children:"Name"}),(0,hn.jsx)("th",{children:"Specialty"}),(0,hn.jsx)("th",{children:"Actions"})]})}),(0,hn.jsx)("tbody",{children:u.map((e=>(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:e.id}),(0,hn.jsx)("td",{children:(0,hn.jsx)("img",{src:e.photo,alt:e.name,style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"50%"}})}),(0,hn.jsx)("td",{children:(0,hn.jsx)("strong",{children:e.name})}),(0,hn.jsx)("td",{children:e.specialty}),(0,hn.jsxs)("td",{children:["                                ",(0,hn.jsxs)("button",{className:"btn btn-sm admin-btn-outline",onClick:()=>{l("availability"),ue(e)},children:[(0,hn.jsx)("i",{className:"fas fa-clock me-1"}),"Manage Time Slots"]}),(0,hn.jsxs)("button",{className:"btn btn-sm admin-btn-outline ms-2",onClick:()=>q(e),children:["                                  ",(0,hn.jsx)("i",{className:"fas fa-edit me-1"}),"Edit"]}),(0,hn.jsxs)("button",{className:"btn btn-sm admin-btn-danger ms-2",onClick:()=>(async e=>{try{const t='Are you sure you want to delete coach "'.concat(e.name,'"? This will remove all related reservations and availability data.');if(!await Rn(t,{title:"Delete Coach",confirmText:"Delete",cancelText:"Cancel",type:"danger"}))return;await mn.delete("/api/coaches/".concat(e.id)),m((t=>t.filter((t=>t.id!==e.id)))),p&&p.id===e.id&&(x(null),j([])),kn("Coach deleted successfully",{type:"success",title:"Coach Deleted",duration:5e3})}catch(n){var t,a;console.error("Error deleting coach:",n),console.error("Error details:",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message);const e=(null===(a=n.response)||void 0===a?void 0:a.data)||{},s=e.message||e.sqlMessage||n.message;kn("Failed to delete coach: ".concat(s),{type:"error",title:"Error",duration:5e3})}})(e),children:[(0,hn.jsx)("i",{className:"fas fa-trash-alt me-1"}),"Delete"]})]})]},e.id)))})]})})]})]})]}),(0,hn.jsxs)("div",{className:"col-lg-4",children:["              ",(0,hn.jsxs)("div",{className:"card",children:[(0,hn.jsx)("div",{className:"card-header admin-card-header",children:(0,hn.jsx)("h5",{className:"mb-0",children:"Add New Coach"})}),(0,hn.jsx)("div",{className:"card-body",children:(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{console.log("Submitting new coach with data:",S);const e=await mn.post("/api/coaches",S);console.log("Server response for add coach:",e.data),m((t=>[...t,e.data])),C({name:"",bio:"",specialty:"",photo:"",email:"",matricule:"",password:""}),kn("Coach added successfully!",{type:"success",title:"Success",duration:5e3})}catch(s){var t,a,n;console.error("Error adding coach:",s),console.error("Error details:",(null===(t=s.response)||void 0===t?void 0:t.data)||s.message),kn("Failed to add coach: ".concat((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||s.message),{type:"error",title:"Error",duration:7e3})}},children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Name *"}),"                      ",(0,hn.jsx)("input",{type:"text",className:"form-control admin-form-control",name:"name",value:S.name,onChange:me,required:!0})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Specialty *"}),"                      ",(0,hn.jsx)("input",{type:"text",className:"form-control admin-form-control",name:"specialty",value:S.specialty,onChange:me,required:!0})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Bio"}),"                      ",(0,hn.jsx)("textarea",{className:"form-control admin-form-control",name:"bio",value:S.bio,onChange:me,rows:"3"})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Email *"}),(0,hn.jsx)("input",{type:"email",className:"form-control admin-form-control",name:"email",value:S.email,onChange:me,required:!0})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Matricule"}),(0,hn.jsx)("input",{type:"text",className:"form-control admin-form-control",name:"matricule",value:S.matricule,onChange:me,placeholder:"Unique coach ID (optional - will be auto-generated if empty)"})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Password *"}),(0,hn.jsxs)("div",{className:"input-group",children:[(0,hn.jsx)("input",{type:"text",className:"form-control admin-form-control",name:"password",value:S.password,onChange:me,required:!0}),(0,hn.jsx)("button",{type:"button",className:"btn admin-btn-secondary",onClick:()=>{const e=Math.random().toString(36).slice(-8);C((t=>Ie(Ie({},t),{},{password:e})))},children:"Generate"})]})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Coach Photo"}),(0,hn.jsx)(Wn,{onImageUploaded:e=>{console.log("Image URL received in handleImageUploaded:",e),C((t=>Ie(Ie({},t),{},{photo:e})))},existingImage:S.photo||null})]}),(0,hn.jsxs)("div",{className:"d-grid",children:["                      ",(0,hn.jsxs)("button",{type:"submit",className:"btn admin-btn-primary",children:[(0,hn.jsx)("i",{className:"fas fa-plus-circle me-2"}),"Add Coach"]})]})]})})]})]})]})]}),"availability"===r&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,hn.jsx)("h2",{className:"mb-0",children:"Time Slots"}),(0,hn.jsxs)("div",{children:[p&&(0,hn.jsxs)("span",{className:"me-3",children:[(0,hn.jsx)("strong",{children:"Selected Coach:"})," ",p.name]}),(0,hn.jsxs)("button",{className:"btn btn-primary",onClick:()=>p&&de(p.id),disabled:!p,children:[(0,hn.jsx)("i",{className:"fas fa-sync-alt me-2"}),"Refresh"]})]})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-lg-8",children:(0,hn.jsxs)("div",{className:"card admin-card mb-4",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsx)("h5",{className:"mb-0",children:p?"Time Slots for ".concat(p.name," (").concat(g.length,")"):"Select a Coach to View Time Slots"})}),p&&(0,hn.jsxs)("div",{className:"card-body border-bottom bg-light",children:[(0,hn.jsxs)("div",{className:"row g-3 align-items-end",children:[(0,hn.jsxs)("div",{className:"col-md-3",children:[(0,hn.jsx)("label",{className:"form-label small fw-semibold",children:"Status Filter"}),(0,hn.jsxs)("select",{className:"form-select form-select-sm",name:"status",value:w.status,onChange:Ee,children:[(0,hn.jsx)("option",{value:"all",children:"All Statuses"}),(0,hn.jsx)("option",{value:"available",children:"Available Only"}),(0,hn.jsx)("option",{value:"booked",children:"Booked Only"})]})]}),(0,hn.jsxs)("div",{className:"col-md-3",children:[(0,hn.jsx)("label",{className:"form-label small fw-semibold",children:"Day Filter"}),(0,hn.jsxs)("select",{className:"form-select form-select-sm",name:"dateFilter",value:w.dateFilter,onChange:Ee,children:[(0,hn.jsx)("option",{value:"all",children:"All Days"}),(0,hn.jsx)("option",{value:"today",children:"Today"}),(0,hn.jsx)("option",{value:"tomorrow",children:"Tomorrow"}),(0,hn.jsx)("option",{value:"week",children:"This Week"}),(0,hn.jsx)("option",{value:"custom",children:"Custom Date"})]})]}),"custom"===w.dateFilter&&(0,hn.jsxs)("div",{className:"col-md-3",children:[(0,hn.jsx)("label",{className:"form-label small fw-semibold",children:"Select Date"}),(0,hn.jsx)("input",{type:"date",className:"form-control form-control-sm",name:"date",value:w.date,onChange:Ee})]}),(0,hn.jsx)("div",{className:"col-md-auto",children:(0,hn.jsxs)("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>{k({status:"all",dateFilter:"all",date:""})},title:"Clear all filters",children:[(0,hn.jsx)("i",{className:"fas fa-times me-1"}),"Clear Filters"]})})]}),(0,hn.jsx)("div",{className:"mt-2",children:(0,hn.jsxs)("small",{className:"text-muted",children:["Showing ",g.length," of ",y.length," time slots","all"!==w.status&&(0,hn.jsx)("span",{className:"badge bg-info ms-2",children:"available"===w.status?"Available":"Booked"}),"all"!==w.dateFilter&&(0,hn.jsx)("span",{className:"badge bg-warning ms-2",children:"today"===w.dateFilter?"Today":"tomorrow"===w.dateFilter?"Tomorrow":"week"===w.dateFilter?"This Week":"Custom Date"})]})})]}),(0,hn.jsx)("div",{className:"card-body",children:p?re.availability?(0,hn.jsxs)("div",{className:"text-center py-4",children:[(0,hn.jsx)("div",{className:"spinner-border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,hn.jsx)("p",{className:"mt-3",children:"Loading time slots..."})]}):0===g.length?(0,hn.jsxs)("div",{className:"text-center py-4",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-times fa-3x mb-3 text-muted"}),(0,hn.jsx)("p",{children:"No time slots found for this coach."})]}):(0,hn.jsx)("div",{className:"table-responsive",style:{overflowX:"auto",width:"100%"},children:(0,hn.jsxs)("table",{className:"table table-striped",style:{minWidth:"800px"},children:[(0,hn.jsx)("thead",{children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:"ID"}),(0,hn.jsx)("th",{children:"Date"}),(0,hn.jsx)("th",{children:"Time"}),(0,hn.jsx)("th",{children:"Status"}),(0,hn.jsx)("th",{children:"Actions"})]})}),(0,hn.jsx)("tbody",{children:g.map((e=>(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:e.id}),(0,hn.jsx)("td",{children:e.date?je(e.date):"N/A"}),(0,hn.jsx)("td",{children:e.start_time&&e.end_time?"".concat(ye(e.start_time)," - ").concat(ye(e.end_time)):"N/A"}),(0,hn.jsx)("td",{children:e.is_booked?(0,hn.jsx)("span",{className:"badge bg-danger",children:"Booked"}):e.is_past?(0,hn.jsx)("span",{className:"badge bg-secondary",children:"Closed (Past)"}):(0,hn.jsx)("span",{className:"badge bg-success",children:"Available"})}),(0,hn.jsx)("td",{children:e.is_booked||e.is_past?(0,hn.jsxs)("button",{className:"btn btn-sm btn-outline-secondary",disabled:!0,title:e.is_past?"Cannot delete past slots":"Cannot delete booked slots",children:[(0,hn.jsx)("i",{className:"fas fa-lock me-1"}),e.is_past?"Past":"Booked"]}):(0,hn.jsxs)("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>(async e=>{const t=g.find((t=>t.id===e));if(t&&(t.is_past||t.is_booked))return void kn("Cannot delete ".concat(t.is_past?"past":"booked"," availability slots."),{type:"warning",title:"Operation Not Allowed",duration:4e3});if(await Rn("Are you sure you want to delete this availability slot?",{title:"Delete Availability",confirmText:"Delete",cancelText:"Cancel",type:"warning"}))try{await mn.delete("/api/coaches/availability/".concat(e)),N((t=>t.filter((t=>t.id!==e)))),j((t=>t.filter((t=>t.id!==e)))),kn("Availability slot deleted successfully!",{type:"success",title:"Slot Deleted",duration:5e3})}catch(s){var a,n;console.error("Error deleting availability:",s),kn("Failed to delete availability: ".concat((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||s.message),{type:"error",title:"Deletion Failed",duration:7e3})}})(e.id),children:[(0,hn.jsx)("i",{className:"fas fa-trash me-1"}),"Delete"]})})]},e.id)))})]})}):(0,hn.jsxs)("div",{className:"text-center py-4",children:[(0,hn.jsx)("i",{className:"fas fa-user-clock fa-3x mb-3 text-muted"}),(0,hn.jsx)("p",{children:"Please select a coach from the dropdown below."}),(0,hn.jsx)("div",{className:"mt-3",children:(0,hn.jsxs)("select",{className:"form-select",onChange:e=>{const t=u.find((t=>t.id===parseInt(e.target.value)));t&&ue(t)},children:[(0,hn.jsx)("option",{value:"",children:"-- Select a Coach --"}),u.map((e=>(0,hn.jsxs)("option",{value:e.id,children:[e.name," - ",e.specialty]},e.id)))]})})]})})]})}),(0,hn.jsx)("div",{className:"col-lg-4",children:(0,hn.jsxs)("div",{className:"card admin-card",children:[(0,hn.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,hn.jsx)("h5",{className:"mb-0",children:"Add New Time Slot"}),(0,hn.jsxs)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>L(!0),type:"button",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-plus me-1"}),"Bulk Create"]})]}),(0,hn.jsx)("div",{className:"card-body",children:p?(0,hn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p)try{const e=await mn.post("/api/coaches/".concat(p.id,"/availability"),R);N((t=>[...t,e.data])),j((t=>[...t,e.data])),O({date:"",start_time:"",end_time:""}),kn("Availability slot added successfully!",{type:"success",title:"Success",duration:5e3})}catch(n){var t,a;console.error("Error adding availability:",n),kn("Failed to add availability: ".concat((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||n.message),{type:"error",title:"Error",duration:7e3})}else kn("Please select a coach first",{type:"warning",title:"Coach Required",duration:4e3})},children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsxs)("label",{className:"form-label",children:["Date * ",(0,hn.jsx)("small",{className:"text-muted",children:"(Future dates only)"})]}),(0,hn.jsx)("input",{type:"date",className:"form-control",name:"date",value:R.date,onChange:he,min:(new Date).toISOString().split("T")[0],required:!0}),(0,hn.jsx)("small",{className:"text-muted",children:"Past dates are automatically disabled"})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Start Time *"}),(0,hn.jsx)("input",{type:"time",className:"form-control",name:"start_time",value:R.start_time,onChange:he,required:!0})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"End Time *"}),(0,hn.jsx)("input",{type:"time",className:"form-control",name:"end_time",value:R.end_time,onChange:he,required:!0})]}),(0,hn.jsx)("div",{className:"d-grid",children:(0,hn.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,hn.jsx)("i",{className:"fas fa-plus-circle me-2"}),"Add Time Slot"]})})]}):(0,hn.jsx)("div",{className:"text-center py-4",children:(0,hn.jsx)("p",{children:"Please select a coach first"})})})]})})]})]}),"clients"===r&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,hn.jsx)("h2",{className:"mb-0",children:"Client Management"}),"            ",(0,hn.jsxs)("button",{className:"btn admin-btn-primary",onClick:ce,children:[(0,hn.jsx)("i",{className:"fas fa-sync-alt me-2"}),"Refresh"]})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-lg-8",children:["              ",(0,hn.jsxs)("div",{className:"card",children:[(0,hn.jsx)("div",{className:"card-header admin-card-header",children:(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-users me-2"}),"Registered Clients (",h.length,")"]})}),(0,hn.jsx)("div",{className:"card-body p-0",children:re.clients?(0,hn.jsxs)("div",{className:"p-4 text-center",children:[(0,hn.jsx)("div",{className:"spinner-border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,hn.jsx)("p",{className:"mt-2",children:"Loading clients..."})]}):0===h.length?(0,hn.jsxs)("div",{className:"p-4 text-center",children:[(0,hn.jsx)("i",{className:"fas fa-user-slash fa-3x mb-3",style:{color:"var(--highlight-color)"}}),(0,hn.jsx)("p",{style:{color:"var(--text-color)"},children:"No clients found. Add your first client using the form."})]}):(0,hn.jsx)("div",{className:"table-responsive",style:{overflowX:"auto",width:"100%"},children:(0,hn.jsxs)("table",{className:"table admin-table mb-0",style:{minWidth:"1200px"},children:[(0,hn.jsx)("thead",{children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:"Matricule"}),(0,hn.jsx)("th",{children:"Username"}),(0,hn.jsx)("th",{children:"Full Name"}),(0,hn.jsx)("th",{children:"Email"}),(0,hn.jsx)("th",{children:"Phone"}),(0,hn.jsx)("th",{children:"Points"}),(0,hn.jsx)("th",{children:"Goal"}),(0,hn.jsx)("th",{children:"Registration Date"}),(0,hn.jsx)("th",{children:"Actions"})]})}),(0,hn.jsx)("tbody",{children:h.map((e=>(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:e.matricule}),(0,hn.jsx)("td",{children:e.username}),(0,hn.jsx)("td",{children:e.full_name||"-"}),(0,hn.jsx)("td",{children:e.email}),(0,hn.jsx)("td",{children:e.phone||"-"}),(0,hn.jsx)("td",{children:(0,hn.jsxs)("div",{children:[(0,hn.jsxs)("span",{className:"badge bg-primary me-1",title:"Solo Points",children:["SP: ",e.solo_points||0]}),(0,hn.jsxs)("span",{className:"badge bg-success",title:"Team Points",children:["TP: ",e.team_points||0]})]})}),(0,hn.jsx)("td",{children:e.goal?(0,hn.jsx)("span",{className:"text-truncate d-inline-block",style:{maxWidth:"150px"},title:e.goal,children:e.goal}):"-"}),(0,hn.jsx)("td",{children:je(e.created_at)}),(0,hn.jsx)("td",{children:(0,hn.jsxs)("div",{className:"btn-group btn-group-sm",children:[(0,hn.jsx)("button",{className:"btn btn-outline-primary",onClick:()=>{D({clientId:e.id.toString(),points:0,action:"add"}),document.getElementById("pointsUpdateForm").scrollIntoView({behavior:"smooth"})},title:"Manage Points",children:(0,hn.jsx)("i",{className:"fas fa-coins"})}),(0,hn.jsx)("button",{className:"btn btn-outline-info",onClick:()=>(async e=>{try{Y(e);const t=await mn.get("/api/admin/coaches-list");Q(t.data);const a=(await mn.get("/api/admin/clients-with-bilans")).data.find((t=>t.id===e.id));Z((null===a||void 0===a?void 0:a.bilans)||[]),ae({coachId:"",bilan:""}),$(!0)}catch(t){console.error("Error loading bilan data:",t),kn("Failed to load bilan data",{type:"error",title:"Error",duration:5e3})}})(e),title:"Manage Bilan",children:(0,hn.jsx)("i",{className:"fas fa-file-medical-alt"})}),(0,hn.jsx)("button",{className:"btn btn-outline-warning",onClick:()=>V(Ie(Ie({},e),{},{password:"",full_name:e.full_name||"",phone:e.phone||"",age:e.age||"",gender:e.gender||"",goals:e.goal?e.goal.split(", "):[]})),title:"Edit Client",children:(0,hn.jsx)("i",{className:"fas fa-edit"})}),(0,hn.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>(async e=>{if(await Rn("Are you sure you want to delete this client? This action cannot be undone.",{title:"Delete Client",confirmText:"Delete",cancelText:"Cancel",type:"danger"}))try{await mn.delete("/api/admin/clients/".concat(e)),f((t=>t.filter((t=>t.id!==e)))),kn("Client deleted successfully!",{type:"success",title:"Client Deleted",duration:5e3})}catch(n){var t,a;console.error("Error deleting client:",n),kn("Failed to delete client: ".concat((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||n.message),{type:"error",title:"Deletion Failed",duration:7e3})}})(e.id),title:"Delete Client",children:(0,hn.jsx)("i",{className:"fas fa-trash"})})]})})]},e.id)))})]})})})]})]}),(0,hn.jsxs)("div",{className:"col-lg-4",children:[(0,hn.jsxs)("div",{className:"card admin-card mb-4",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-user-plus me-2"}),"Add New Client"]})}),"                ",(0,hn.jsx)("div",{className:"card-body",children:(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Ie(Ie({},E),{},{goal:E.goals.join(", ")});delete e.goals,e.points=(e.solo_points||0)+(e.team_points||0),console.log("Submitting new client with data:",e);const t=await mn.post("/api/admin/clients",e);console.log("Server response for add client:",t.data),f((e=>[...e,t.data])),P({username:"",email:"",password:"",points:0,full_name:"",phone:"",age:"",gender:"",goals:[]}),kn("Client added successfully!",{type:"success",title:"Success",duration:5e3})}catch(n){var t,a;console.error("Error adding client:",n),kn("Failed to add client: ".concat((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||n.message),{type:"error",title:"Error",duration:7e3})}},children:[(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username*"}),(0,hn.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",value:E.username,onChange:xe,required:!0})]}),(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email*"}),(0,hn.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",value:E.email,onChange:xe,required:!0})]})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password*"}),(0,hn.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",value:E.password,onChange:xe,required:!0})]}),(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"full_name",className:"form-label",children:"Full Name"}),(0,hn.jsx)("input",{type:"text",className:"form-control",id:"full_name",name:"full_name",value:E.full_name,onChange:xe})]})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),(0,hn.jsx)("input",{type:"text",className:"form-control",id:"phone",name:"phone",value:E.phone,onChange:xe})]}),(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsxs)("label",{htmlFor:"solo_points",className:"form-label",children:[(0,hn.jsx)("span",{className:"badge bg-primary me-1",children:"SP"}),"Solo Points"]}),(0,hn.jsx)("input",{type:"number",className:"form-control",id:"solo_points",name:"solo_points",value:E.solo_points||0,onChange:xe,min:"0"}),(0,hn.jsx)("small",{className:"form-text text-muted",children:"For individual coaching sessions"})]}),(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsxs)("label",{htmlFor:"team_points",className:"form-label",children:[(0,hn.jsx)("span",{className:"badge bg-success me-1",children:"TP"}),"Team Points"]}),(0,hn.jsx)("input",{type:"number",className:"form-control",id:"team_points",name:"team_points",value:E.team_points||0,onChange:xe,min:"0"}),(0,hn.jsx)("small",{className:"form-text text-muted",children:"For group courses"})]})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"age",className:"form-label",children:"Age"}),(0,hn.jsx)("input",{type:"number",className:"form-control",id:"age",name:"age",value:E.age,onChange:xe,min:"0"})]}),(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"gender",className:"form-label",children:"Gender"}),(0,hn.jsxs)("select",{className:"form-select",id:"gender",name:"gender",value:E.gender,onChange:xe,children:[(0,hn.jsx)("option",{value:"",children:"Select Gender"}),(0,hn.jsx)("option",{value:"male",children:"Male"}),(0,hn.jsx)("option",{value:"female",children:"Female"}),(0,hn.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Client's Goals"}),(0,hn.jsx)("div",{className:"goal-checkboxes border rounded p-3",style:{maxHeight:"200px",overflowY:"auto"},children:_.map(((e,t)=>(0,hn.jsxs)("div",{className:"form-check",children:[(0,hn.jsx)("input",{className:"form-check-input",type:"checkbox",id:"new-goal-".concat(t),name:"goalCheckbox",value:e,checked:E.goals.includes(e),onChange:xe}),(0,hn.jsx)("label",{className:"form-check-label",htmlFor:"new-goal-".concat(t),children:e.charAt(0).toUpperCase()+e.slice(1)})]},t)))}),(0,hn.jsx)("small",{className:"form-text text-muted",children:"Select one or more fitness goals for this client"})]}),(0,hn.jsx)("div",{className:"d-grid",children:(0,hn.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,hn.jsx)("i",{className:"fas fa-plus-circle me-2"}),"Add Client"]})})]})})]}),(0,hn.jsxs)("div",{className:"card admin-card",id:"pointsUpdateForm",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-coins me-2"}),"Manage Points"]})}),(0,hn.jsx)("div",{className:"card-body",children:(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{console.log("Updating points for client:",T);const e=await mn.patch("/api/admin/clients/".concat(T.clientId,"/points"),{points:T.points,pointType:T.pointType||"solo",action:T.action});console.log("Server response for points update:",e.data),f((t=>t.map((t=>t.id===parseInt(T.clientId)?e.data:t)))),D({clientId:"",points:0,pointType:"solo",action:"add"}),kn("".concat("solo"===T.pointType?"Solo Points (SP)":"Team Points (TP)"," updated successfully!"),{type:"success",title:"Points Updated",duration:5e3})}catch(n){var t,a;console.error("Error updating client points:",n),kn("Failed to update client points: ".concat((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||n.message),{type:"error",title:"Update Failed",duration:7e3})}},children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{htmlFor:"clientId",className:"form-label",children:"Select Client"}),(0,hn.jsxs)("select",{className:"form-select",id:"clientId",name:"clientId",value:T.clientId,onChange:ve,required:!0,children:[(0,hn.jsx)("option",{value:"",children:"-- Select Client --"}),h.map((e=>(0,hn.jsxs)("option",{value:e.id,children:[e.username," (",e.email,") - SP: ",e.solo_points||0,", TP: ",e.team_points||0]},e.id)))]})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{htmlFor:"action",className:"form-label",children:"Action"}),(0,hn.jsxs)("select",{className:"form-select",id:"action",name:"action",value:T.action,onChange:ve,required:!0,children:[(0,hn.jsx)("option",{value:"add",children:"Add Points"}),(0,hn.jsx)("option",{value:"remove",children:"Remove Points"}),(0,hn.jsx)("option",{value:"set",children:"Set Points"})]})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{htmlFor:"pointType",className:"form-label",children:"Point Type"}),(0,hn.jsxs)("select",{className:"form-select",id:"pointType",name:"pointType",value:T.pointType,onChange:ve,required:!0,children:[(0,hn.jsx)("option",{value:"solo",children:"Solo Points (SP) - Individual Sessions"}),(0,hn.jsx)("option",{value:"team",children:"Team Points (TP) - Group Courses"})]}),(0,hn.jsx)("small",{className:"form-text text-muted",children:"Solo Points are used for individual coaching sessions, Team Points for group courses."})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{htmlFor:"points",className:"form-label",children:"solo"===T.pointType?"Solo Points (SP)":"Team Points (TP)"}),(0,hn.jsx)("input",{type:"number",className:"form-control",id:"points",name:"points",value:T.points,onChange:ve,min:"0",required:!0}),(0,hn.jsxs)("small",{className:"form-text text-muted",children:["Enter the number of points to ",T.action," for this client."]})]}),(0,hn.jsx)("div",{className:"d-grid",children:(0,hn.jsxs)("button",{type:"submit",className:"btn btn-primary",disabled:!T.clientId,children:[(0,hn.jsx)("i",{className:"fas fa-save me-2"}),"Update Points"]})})]})})]})]})]})]}),W&&(0,hn.jsx)("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},children:(0,hn.jsx)("div",{className:"modal-dialog",children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",children:[(0,hn.jsx)("h5",{className:"modal-title",children:"Edit Coach"}),(0,hn.jsx)("button",{type:"button",className:"btn-close",onClick:()=>q(null)})]}),(0,hn.jsx)("div",{className:"modal-body",children:(0,hn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=Ie(Ie({},W),{},{updateCredentials:!0});console.log("Submitting edit coach with data:",e);const t=await mn.put("/api/coaches/".concat(W.id),e);console.log("Server response for edit coach:",t.data),m((e=>e.map((e=>e.id===W.id?t.data:e)))),q(null),kn("Coach updated successfully!",{type:"success",title:"Coach Updated",duration:5e3})}catch(s){var t,a,n;console.error("Error updating coach:",s),console.error("Error details:",(null===(t=s.response)||void 0===t?void 0:t.data)||s.message),kn("Failed to update coach: ".concat((null===(a=s.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.error)||s.message),{type:"error",title:"Update Failed",duration:7e3})}},children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Name *"}),(0,hn.jsx)("input",{type:"text",className:"form-control",name:"name",value:W.name,onChange:ge,required:!0})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Specialty *"}),(0,hn.jsx)("input",{type:"text",className:"form-control",name:"specialty",value:W.specialty,onChange:ge,required:!0})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Bio"}),(0,hn.jsx)("textarea",{className:"form-control",name:"bio",value:W.bio||"",onChange:ge,rows:"3"})]}),(0,hn.jsx)("hr",{className:"my-3"}),(0,hn.jsx)("h6",{className:"mb-3",children:"Coach Credentials"}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Email *"}),(0,hn.jsx)("input",{type:"email",className:"form-control",name:"email",value:W.email||"",onChange:ge,required:!0})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Matricule"}),(0,hn.jsx)("input",{type:"text",className:"form-control",name:"matricule",value:W.matricule||"",onChange:ge})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Reset Password"}),(0,hn.jsxs)("div",{className:"input-group",children:[(0,hn.jsx)("input",{type:"text",className:"form-control",name:"password",value:W.password||"",onChange:ge,placeholder:"Leave empty to keep current password"}),(0,hn.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>{const e=Math.random().toString(36).slice(-8);q((t=>Ie(Ie({},t),{},{password:e})))},children:"Generate"})]}),(0,hn.jsx)("small",{className:"text-muted",children:"Leave empty to keep current password"})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Coach Photo"}),(0,hn.jsx)(Wn,{onImageUploaded:e=>{console.log("Image URL received in handleEditCoachImageUploaded:",e),q((t=>Ie(Ie({},t),{},{photo:e})))},existingImage:W.photo||null})]}),(0,hn.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,hn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>q(null),children:"Cancel"}),(0,hn.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,hn.jsx)("i",{className:"fas fa-save me-2"}),"Save Changes"]})]})]})})]})})}),"      ","      ",H&&(0,hn.jsx)("div",{className:"modal fade show",style:{display:"block",position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1050,overflow:"auto",backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:e=>{e.target===e.currentTarget&&V(null)},tabIndex:"-1",role:"dialog","aria-labelledby":"editClientModalLabel","aria-modal":"true",children:(0,hn.jsx)("div",{className:"modal-dialog modal-lg",style:{margin:"30px auto",pointerEvents:"auto"},children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",style:{backgroundColor:"var(--highlight-color)",color:"white"},children:[(0,hn.jsxs)("h5",{className:"modal-title",id:"editClientModalLabel",children:[(0,hn.jsx)("i",{className:"fas fa-user-edit me-2"}),"Edit Client: ",H.username]}),(0,hn.jsx)("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>V(null),"aria-label":"Close"})]}),(0,hn.jsx)("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:(0,hn.jsxs)("form",{id:"editClientForm",onSubmit:e=>{e.preventDefault(),console.log("Form submitted");const t=Ie({},H);t.password||delete t.password,t.goals&&(t.goal=t.goals.join(", "),delete t.goals),void 0!==t.age&&""!==t.age?t.age=Number(t.age):t.age=null,void 0!==t.solo_points&&""!==t.solo_points?t.solo_points=Number(t.solo_points):t.solo_points=0,void 0!==t.team_points&&""!==t.team_points?t.team_points=Number(t.team_points):t.team_points=0,t.points=t.solo_points+t.team_points,mn.put("/api/admin/clients/".concat(H.id),t).then((e=>{f((t=>t.map((t=>t.id===H.id?e.data:t)))),V(null),kn("Client updated successfully!",{type:"success",title:"Success",duration:5e3})})).catch((e=>{var t,a;console.error("Error updating client:",e),kn("Failed to update client: ".concat((null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||e.message),{type:"error",title:"Error",duration:7e3})}))},children:[(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"edit-username",className:"form-label",children:"Username"}),(0,hn.jsx)("input",{type:"text",className:"form-control",id:"edit-username",name:"username",value:H.username,onChange:s,required:!0})]}),(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"edit-email",className:"form-label",children:"Email"}),(0,hn.jsx)("input",{type:"email",className:"form-control",id:"edit-email",name:"email",value:H.email,onChange:s,required:!0})]})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsxs)("label",{htmlFor:"edit-password",className:"form-label",children:["Password ",(0,hn.jsx)("small",{className:"text-muted",children:"(Leave blank to keep unchanged)"})]}),(0,hn.jsx)("input",{type:"password",className:"form-control",id:"edit-password",name:"password",value:H.password,onChange:s,placeholder:"New password"})]}),(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"edit-full_name",className:"form-label",children:"Full Name"}),(0,hn.jsx)("input",{type:"text",className:"form-control",id:"edit-full_name",name:"full_name",value:H.full_name||"",onChange:s})]})]}),(0,hn.jsx)("div",{className:"row",children:(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"edit-phone",className:"form-label",children:"Phone"}),(0,hn.jsx)("input",{type:"text",className:"form-control",id:"edit-phone",name:"phone",value:H.phone||"",onChange:s})]})}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsxs)("label",{htmlFor:"edit-solo-points",className:"form-label",children:[(0,hn.jsx)("span",{className:"badge bg-primary me-1",children:"SP"}),"Solo Points"]}),(0,hn.jsx)("input",{type:"number",className:"form-control",id:"edit-solo-points",name:"solo_points",value:H.solo_points||0,onChange:s,min:"0",required:!0}),(0,hn.jsx)("small",{className:"form-text text-muted",children:"For individual coaching sessions"})]}),(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsxs)("label",{htmlFor:"edit-team-points",className:"form-label",children:[(0,hn.jsx)("span",{className:"badge bg-success me-1",children:"TP"}),"Team Points"]}),(0,hn.jsx)("input",{type:"number",className:"form-control",id:"edit-team-points",name:"team_points",value:H.team_points||0,onChange:s,min:"0",required:!0}),(0,hn.jsx)("small",{className:"form-text text-muted",children:"For group courses"})]})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"edit-age",className:"form-label",children:"Age"}),(0,hn.jsx)("input",{type:"number",className:"form-control",id:"edit-age",name:"age",value:H.age||"",onChange:s,min:"0"})]}),(0,hn.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"edit-gender",className:"form-label",children:"Gender"}),(0,hn.jsxs)("select",{className:"form-select",id:"edit-gender",name:"gender",value:H.gender||"",onChange:s,children:[(0,hn.jsx)("option",{value:"",children:"Select Gender"}),(0,hn.jsx)("option",{value:"male",children:"Male"}),(0,hn.jsx)("option",{value:"female",children:"Female"}),(0,hn.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Client's Goals"}),(0,hn.jsx)("div",{className:"goal-checkboxes border rounded p-3",style:{maxHeight:"200px",overflowY:"auto"},children:_.map(((e,t)=>(0,hn.jsxs)("div",{className:"form-check",children:[(0,hn.jsx)("input",{className:"form-check-input",type:"checkbox",id:"edit-goal-".concat(t),name:"goalCheckbox",value:e,checked:H.goals&&H.goals.includes(e),onChange:s}),(0,hn.jsx)("label",{className:"form-check-label",htmlFor:"edit-goal-".concat(t),children:e.charAt(0).toUpperCase()+e.slice(1)})]},t)))}),(0,hn.jsx)("small",{className:"form-text text-muted",children:"Select one or more fitness goals for this client"})]}),(0,hn.jsxs)("div",{className:"modal-footer",style:{display:"flex",justifyContent:"space-between"},children:[(0,hn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>V(null),children:"Cancel"}),(0,hn.jsxs)("button",{type:"submit",className:"btn btn-warning",children:[(0,hn.jsx)("i",{className:"fas fa-save me-2"}),"Save Changes"]})]})]})})]})})}),G&&(0,hn.jsx)("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)",zIndex:9999},onClick:be,children:(0,hn.jsx)("div",{className:"modal-dialog modal-xl",style:{margin:"30px auto",pointerEvents:"auto"},onClick:e=>e.stopPropagation(),children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",style:{backgroundColor:"var(--highlight-color)",color:"white"},children:[(0,hn.jsxs)("h5",{className:"modal-title",children:[(0,hn.jsx)("i",{className:"fas fa-file-medical-alt me-2"}),"Manage Bilan for ",(null===K||void 0===K?void 0:K.full_name)||(null===K||void 0===K?void 0:K.username)]}),(0,hn.jsx)("button",{type:"button",className:"btn-close btn-close-white",onClick:be})]}),(0,hn.jsxs)("div",{className:"modal-body",children:[(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-md-4",children:(0,hn.jsxs)("div",{className:"card mb-4",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsx)("h6",{className:"mb-0",children:"Client Information"})}),(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Name:"})," ",(null===K||void 0===K?void 0:K.full_name)||(null===K||void 0===K?void 0:K.username)]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Email:"})," ",null===K||void 0===K?void 0:K.email]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Phone:"})," ",(null===K||void 0===K?void 0:K.phone)||"Not provided"]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Goal:"})," ",(null===K||void 0===K?void 0:K.goal)||"Not defined"]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Points:"}),(0,hn.jsxs)("span",{className:"badge bg-primary ms-1",children:["SP: ",(null===K||void 0===K?void 0:K.solo_points)||0]}),(0,hn.jsxs)("span",{className:"badge bg-success ms-1",children:["TP: ",(null===K||void 0===K?void 0:K.team_points)||0]})]})]})]})}),(0,hn.jsx)("div",{className:"col-md-8",children:(0,hn.jsxs)("div",{className:"card mb-4",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsxs)("h6",{className:"mb-0",children:["Existing Bilans (",X.length,")"]})}),(0,hn.jsx)("div",{className:"card-body",children:0===X.length?(0,hn.jsx)("p",{className:"text-muted fst-italic",children:"No bilans found for this client."}):(0,hn.jsx)("div",{className:"row",children:X.map(((e,t)=>{return(0,hn.jsx)("div",{className:"col-12 mb-3",children:(0,hn.jsxs)("div",{className:"card border-info",children:[(0,hn.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,hn.jsxs)("h6",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-user-md me-2"}),"Coach: ",e.coach_name]}),(0,hn.jsxs)("div",{className:"btn-group btn-group-sm",children:[(0,hn.jsx)("button",{className:"btn btn-outline-warning",onClick:()=>(e=>{const t=J.find((t=>t.name===e.coach_name));t&&ae({coachId:t.id.toString(),bilan:e.bilan})})(e),title:"Edit Bilan",children:(0,hn.jsx)("i",{className:"fas fa-edit"})}),(0,hn.jsx)("button",{className:"btn btn-outline-danger",onClick:()=>(async e=>{if(await Rn("Are you sure you want to delete the bilan from ".concat(e,"?"),{title:"Delete Bilan",confirmText:"Delete",cancelText:"Cancel",type:"danger"}))try{const t=J.find((t=>t.name===e));if(!t)throw new Error("Coach not found");await mn.delete("/api/admin/clients/".concat(K.id,"/bilan/").concat(t.id));const a=(await mn.get("/api/admin/clients-with-bilans")).data.find((e=>e.id===K.id));Z((null===a||void 0===a?void 0:a.bilans)||[]),kn("Bilan deleted successfully!",{type:"success",title:"Bilan Deleted",duration:5e3})}catch(n){var t,a;console.error("Error deleting bilan:",n),kn("Failed to delete bilan: ".concat((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||n.message),{type:"error",title:"Delete Failed",duration:7e3})}})(e.coach_name),title:"Delete Bilan",children:(0,hn.jsx)("i",{className:"fas fa-trash"})})]})]}),(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsx)("p",{className:"mb-1",children:e.bilan}),(0,hn.jsxs)("small",{className:"text-muted",children:["Updated: ",(a=e.updated_at,a?new Date(a).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never")]})]})]})},t);var a}))})})]})})]}),(0,hn.jsxs)("div",{className:"card",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsxs)("h6",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-plus-circle me-2"}),ee.coachId?"Edit Bilan":"Add New Bilan"]})}),(0,hn.jsx)("div",{className:"card-body",children:(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"coachSelect",className:"form-label",children:"Select Coach *"}),(0,hn.jsxs)("select",{id:"coachSelect",className:"form-select",value:ee.coachId,onChange:e=>ae((t=>Ie(Ie({},t),{},{coachId:e.target.value}))),disabled:ne,children:[(0,hn.jsx)("option",{value:"",children:"-- Select a Coach --"}),J.map((e=>(0,hn.jsxs)("option",{value:e.id,children:[e.name," (",e.specialty,")"]},e.id)))]})]}),(0,hn.jsxs)("div",{className:"col-md-8 mb-3",children:[(0,hn.jsx)("label",{htmlFor:"bilanText",className:"form-label",children:"Bilan Content *"}),(0,hn.jsx)("textarea",{id:"bilanText",className:"form-control",rows:"6",placeholder:"Enter the bilan assessment for this client...",value:ee.bilan,onChange:e=>ae((t=>Ie(Ie({},t),{},{bilan:e.target.value}))),disabled:ne})]})]})})]})]}),(0,hn.jsxs)("div",{className:"modal-footer",children:[(0,hn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:be,disabled:ne,children:"Close"}),(0,hn.jsx)("button",{type:"button",className:"btn btn-primary",onClick:async()=>{if(ee.coachId&&ee.bilan.trim()){se(!0);try{await mn.post("/api/admin/clients/".concat(K.id,"/bilan/").concat(ee.coachId),{bilan:ee.bilan});const e=(await mn.get("/api/admin/clients-with-bilans")).data.find((e=>e.id===K.id));Z((null===e||void 0===e?void 0:e.bilans)||[]),ae({coachId:"",bilan:""}),kn("Bilan saved successfully!",{type:"success",title:"Bilan Saved",duration:5e3})}catch(a){var e,t;console.error("Error saving bilan:",a),kn("Failed to save bilan: ".concat((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||a.message),{type:"error",title:"Save Failed",duration:7e3})}finally{se(!1)}}else kn("Please select a coach and enter bilan content",{type:"warning",title:"Missing Information",duration:5e3})},disabled:ne||!ee.coachId||!ee.bilan.trim(),children:ne?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status"}),"Saving..."]}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("i",{className:"fas fa-save me-2"}),"Save Bilan"]})})]})]})})}),"packs"===r&&(0,hn.jsx)($c,{}),"payments"===r&&(0,hn.jsx)(yu,{}),"group-courses"===r&&(0,hn.jsx)(Kc,{}),M&&(0,hn.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,hn.jsx)("div",{className:"modal-dialog modal-lg",children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",children:[(0,hn.jsxs)("h5",{className:"modal-title",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-plus me-2"}),"Bulk Create Reservations for Client"]}),(0,hn.jsx)("button",{type:"button",className:"btn-close",onClick:()=>z(!1)})]}),(0,hn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),U.client_id)if(U.coach_id)if(U.start_date&&U.end_date)if(U.time_slot)if(0!==U.days_of_week.length)if(new Date(U.end_date)<new Date(U.start_date))kn("End date must be after start date",{type:"warning",title:"Validation Error"});else try{const e=await mn.post("/api/admin/bulk-reservations",U),t=e.data.reservations||[];Array.isArray(t)&&(d((e=>[...t,...e])),o((e=>[...t,...e]))),B({client_id:"",coach_id:"",start_date:"",end_date:"",time_slot:"",days_of_week:[],repeat_for_weeks:4}),z(!1),kn("Successfully created ".concat(t.length," reservations! ").concat(e.data.skipped||0," slots were skipped (already booked or unavailable)."),{type:"success",title:"Bulk Reservation Success",duration:5e3})}catch(n){var t,a;console.error("Error creating bulk reservations:",n),kn("Failed to create bulk reservations: ".concat((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||n.message),{type:"error",title:"Error",duration:7e3})}else kn("Please select at least one day of the week",{type:"warning",title:"Validation Error"});else kn("Please select a time slot",{type:"warning",title:"Validation Error"});else kn("Please select start and end dates",{type:"warning",title:"Validation Error"});else kn("Please select a coach",{type:"warning",title:"Validation Error"});else kn("Please select a client",{type:"warning",title:"Validation Error"})},children:[(0,hn.jsxs)("div",{className:"modal-body",children:[(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Client *"}),(0,hn.jsxs)("select",{className:"form-select",name:"client_id",value:U.client_id,onChange:pe,required:!0,children:[(0,hn.jsx)("option",{value:"",children:"Select a client"}),h.map((e=>(0,hn.jsxs)("option",{value:e.id,children:[e.full_name||e.username," (",e.matricule,")"]},e.id)))]})]})}),(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Coach *"}),(0,hn.jsxs)("select",{className:"form-select",name:"coach_id",value:U.coach_id,onChange:pe,required:!0,children:[(0,hn.jsx)("option",{value:"",children:"Select a coach"}),u.map((e=>(0,hn.jsxs)("option",{value:e.id,children:[e.name," - ",e.specialty]},e.id)))]})]})})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Start Date *"}),(0,hn.jsx)("input",{type:"date",className:"form-control",name:"start_date",value:U.start_date,onChange:pe,min:(new Date).toISOString().split("T")[0],required:!0})]})}),(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"End Date *"}),(0,hn.jsx)("input",{type:"date",className:"form-control",name:"end_date",value:U.end_date,onChange:pe,min:U.start_date||(new Date).toISOString().split("T")[0],required:!0})]})})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Time Slot *"}),(0,hn.jsxs)("select",{className:"form-select",name:"time_slot",value:U.time_slot,onChange:pe,required:!0,children:[(0,hn.jsx)("option",{value:"",children:"Select a time"}),["06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00"].map((e=>(0,hn.jsx)("option",{value:e,children:e},e)))]})]})}),(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Duration (weeks) *"}),(0,hn.jsxs)("select",{className:"form-select",name:"repeat_for_weeks",value:U.repeat_for_weeks,onChange:pe,required:!0,children:[(0,hn.jsx)("option",{value:1,children:"1 week"}),(0,hn.jsx)("option",{value:2,children:"2 weeks"}),(0,hn.jsx)("option",{value:4,children:"1 month (4 weeks)"}),(0,hn.jsx)("option",{value:8,children:"2 months (8 weeks)"}),(0,hn.jsx)("option",{value:12,children:"3 months (12 weeks)"})]})]})})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Days of Week *"}),(0,hn.jsx)("div",{className:"row",children:[{value:1,name:"Monday"},{value:2,name:"Tuesday"},{value:3,name:"Wednesday"},{value:4,name:"Thursday"},{value:5,name:"Friday"},{value:6,name:"Saturday"},{value:0,name:"Sunday"}].map((e=>(0,hn.jsx)("div",{className:"col-md-3 col-6",children:(0,hn.jsxs)("div",{className:"form-check",children:[(0,hn.jsx)("input",{className:"form-check-input",type:"checkbox",name:"days_of_week",value:e.value,checked:U.days_of_week.includes(e.value),onChange:pe}),(0,hn.jsx)("label",{className:"form-check-label",children:e.name})]})},e.value)))}),(0,hn.jsx)("small",{className:"text-muted",children:"Select the days of the week for recurring reservations."})]}),(0,hn.jsxs)("div",{className:"alert alert-warning",children:[(0,hn.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),(0,hn.jsx)("strong",{children:"Important:"}),(0,hn.jsxs)("ul",{className:"mb-0 mt-2",children:[(0,hn.jsx)("li",{children:"The system will check if the time slots exist for the selected coach"}),(0,hn.jsx)("li",{children:"Only available (non-booked) slots will be reserved"}),(0,hn.jsx)("li",{children:"1 point will be deducted from the client's account for each successful reservation"}),(0,hn.jsx)("li",{children:"If a client doesn't have enough points, reservations will stop"})]})]}),(0,hn.jsxs)("div",{className:"alert alert-info",children:[(0,hn.jsx)("i",{className:"fas fa-info-circle me-2"}),(0,hn.jsx)("strong",{children:"Preview:"}),U.client_id&&U.coach_id&&U.start_date&&U.end_date&&U.time_slot&&U.days_of_week.length>0?(()=>{const e=new Date(U.start_date),t=new Date(U.end_date),a=Math.ceil((t-e)/864e5),n=U.days_of_week.length,s=Math.ceil(a/7),r=Math.floor(s*n),l=h.find((e=>e.id==U.client_id)),i=u.find((e=>e.id==U.coach_id));return(0,hn.jsxs)("span",{children:["This will attempt to create approximately ",(0,hn.jsx)("strong",{children:r})," reservations for ",(0,hn.jsx)("strong",{children:(null===l||void 0===l?void 0:l.full_name)||(null===l||void 0===l?void 0:l.username)})," with"," ",(0,hn.jsx)("strong",{children:null===i||void 0===i?void 0:i.name})," at ",(0,hn.jsx)("strong",{children:U.time_slot}),"across ",(0,hn.jsx)("strong",{children:s})," weeks."]})})():(0,hn.jsx)("span",{children:"Fill in the form to see a preview of reservations to be created."})]})]}),(0,hn.jsxs)("div",{className:"modal-footer",children:[(0,hn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>z(!1),children:"Cancel"}),(0,hn.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-plus me-2"}),"Create Reservations"]})]})]})]})})}),F&&(0,hn.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:(0,hn.jsx)("div",{className:"modal-dialog modal-lg",children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",children:[(0,hn.jsxs)("h5",{className:"modal-title",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-plus me-2"}),"Bulk Create Time Slots"]}),(0,hn.jsx)("button",{type:"button",className:"btn-close",onClick:()=>L(!1)})]}),(0,hn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),A.coach_id)if(A.start_date&&A.end_date)if(A.start_time&&A.end_time)if(0!==A.days_of_week.length)if(A.start_time>=A.end_time)kn("End time must be after start time",{type:"warning",title:"Validation Error"});else if(new Date(A.end_date)<new Date(A.start_date))kn("End date must be after start date",{type:"warning",title:"Validation Error"});else try{const e=(await mn.post("/api/coaches/bulk-availability",A)).data;N((t=>[...t,...e])),j((t=>[...t,...e])),I({coach_id:"",start_date:"",end_date:"",start_time:"",end_time:"",days_of_week:[],repeat_for_weeks:4}),L(!1),kn("Successfully created ".concat(e.length," time slots!"),{type:"success",title:"Bulk Creation Success",duration:5e3})}catch(n){var t,a;console.error("Error creating bulk availability:",n),kn("Failed to create bulk availability: ".concat((null===(t=n.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||n.message),{type:"error",title:"Error",duration:7e3})}else kn("Please select at least one day of the week",{type:"warning",title:"Validation Error"});else kn("Please select start and end times",{type:"warning",title:"Validation Error"});else kn("Please select start and end dates",{type:"warning",title:"Validation Error"});else kn("Please select a coach",{type:"warning",title:"Validation Error"})},children:[(0,hn.jsxs)("div",{className:"modal-body",children:[(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Coach *"}),(0,hn.jsxs)("select",{className:"form-select",name:"coach_id",value:A.coach_id,onChange:fe,required:!0,children:[(0,hn.jsx)("option",{value:"",children:"Select a coach"}),u.map((e=>(0,hn.jsxs)("option",{value:e.id,children:[e.name," - ",e.specialty]},e.id)))]})]})}),(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Duration (weeks) *"}),(0,hn.jsxs)("select",{className:"form-select",name:"repeat_for_weeks",value:A.repeat_for_weeks,onChange:fe,required:!0,children:[(0,hn.jsx)("option",{value:1,children:"1 week"}),(0,hn.jsx)("option",{value:2,children:"2 weeks"}),(0,hn.jsx)("option",{value:4,children:"1 month (4 weeks)"}),(0,hn.jsx)("option",{value:8,children:"2 months (8 weeks)"}),(0,hn.jsx)("option",{value:12,children:"3 months (12 weeks)"})]})]})})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Start Date *"}),(0,hn.jsx)("input",{type:"date",className:"form-control",name:"start_date",value:A.start_date,onChange:fe,min:(new Date).toISOString().split("T")[0],required:!0})]})}),(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"End Date *"}),(0,hn.jsx)("input",{type:"date",className:"form-control",name:"end_date",value:A.end_date,onChange:fe,min:A.start_date||(new Date).toISOString().split("T")[0],required:!0})]})})]}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Start Time *"}),(0,hn.jsx)("input",{type:"time",className:"form-control",name:"start_time",value:A.start_time,onChange:fe,required:!0})]})}),(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"End Time *"}),(0,hn.jsx)("input",{type:"time",className:"form-control",name:"end_time",value:A.end_time,onChange:fe,required:!0})]})})]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("label",{className:"form-label",children:"Days of Week *"}),(0,hn.jsx)("div",{className:"row",children:[{value:1,name:"Monday"},{value:2,name:"Tuesday"},{value:3,name:"Wednesday"},{value:4,name:"Thursday"},{value:5,name:"Friday"},{value:6,name:"Saturday"},{value:0,name:"Sunday"}].map((e=>(0,hn.jsx)("div",{className:"col-md-3 col-6",children:(0,hn.jsxs)("div",{className:"form-check",children:[(0,hn.jsx)("input",{className:"form-check-input",type:"checkbox",name:"days_of_week",value:e.value,checked:A.days_of_week.includes(e.value),onChange:fe}),(0,hn.jsx)("label",{className:"form-check-label",children:e.name})]})},e.value)))}),(0,hn.jsx)("small",{className:"text-muted",children:"Select the days of the week when the coach will be available."})]}),(0,hn.jsxs)("div",{className:"alert alert-info",children:[(0,hn.jsx)("i",{className:"fas fa-info-circle me-2"}),(0,hn.jsx)("strong",{children:"Preview:"}),A.coach_id&&A.start_date&&A.end_date&&A.start_time&&A.end_time&&A.days_of_week.length>0?(()=>{const e=new Date(A.start_date),t=new Date(A.end_date),a=Math.ceil((t-e)/864e5),n=A.days_of_week.length,s=Math.ceil(a/7),r=new Date("2000-01-01T".concat(A.start_time)),l=(new Date("2000-01-01T".concat(A.end_time))-r)/36e5,i=Math.floor(2*l),o=Math.floor(s*n*i);return(0,hn.jsxs)("span",{children:["This will create approximately ",(0,hn.jsx)("strong",{children:o})," time slots across ",(0,hn.jsx)("strong",{children:s})," weeks for"," ",(0,hn.jsx)("strong",{children:n})," day(s) per week."]})})():(0,hn.jsx)("span",{children:"Fill in the form to see a preview of how many slots will be created."}),(0,hn.jsx)("br",{}),(0,hn.jsxs)("small",{className:"mt-2 d-block",children:[(0,hn.jsx)("strong",{children:"Note:"})," The selected time period will be automatically divided into 55-minute slots with 5-minute breaks."]})]})]}),(0,hn.jsxs)("div",{className:"modal-footer",children:[(0,hn.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>L(!1),children:"Cancel"}),(0,hn.jsxs)("button",{type:"submit",className:"btn btn-primary",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-plus me-2"}),"Create Time Slots"]})]})]})]})})})]})},wu=(0,n.createContext)(),ku=e=>{let{children:t}=e;const[a,s]=(0,n.useState)({show:!1,message:"",type:"info"});return(0,hn.jsx)(wu.Provider,{value:{toast:a,showToast:(e,t)=>{s({show:!0,message:t,type:e}),setTimeout((()=>{s((e=>Ie(Ie({},e),{},{show:!1})))}),5e3)},hideToast:()=>{s((e=>Ie(Ie({},e),{},{show:!1})))}},children:t})},Su=e=>{let{availability:t}=e;const[a,s]=(0,n.useState)([]),[r,l]=(0,n.useState)([]),[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)({}),[u,m]=(0,n.useState)(!1),[h,f]=(0,n.useState)([]),[p,x]=(0,n.useState)("future"),[v,b]=(0,n.useState)(""),[g,j]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=t.filter((e=>e.is_booked&&(!e.status||"cancelled"!==e.status)&&e.client_name&&"Unknown Client"!==e.client_name));s(e),y(),N(e,"future")}),[t]);const y=async()=>{try{const e=localStorage.getItem("coachToken");e&&(cn.defaults.headers.common.Authorization="Bearer ".concat(e));const t=await cn.get("/api/coach-dashboard/reservations");f(t.data)}catch(e){console.error("Error fetching reservations:",e)}};(0,n.useEffect)((()=>{N(a,p)}),[p,v,g,a]);const N=(e,t)=>{const a=new Date,n=new Date;n.setHours(0,0,0,0);let s=[];switch(t){case"today":s=e.filter((e=>{const t=new Date(e.date);return t.setHours(0,0,0,0),t.getTime()===n.getTime()}));break;case"future":s=e.filter((e=>{const t=new Date(e.date),[n,s]=e.start_time.split(":").map(Number);return t.setHours(n,s,0,0),t>=a}));break;case"past":s=e.filter((e=>{const t=new Date(e.date),[n,s]=e.start_time.split(":").map(Number);return t.setHours(n,s,0,0),t<a}));break;case"date":if(v){const t=new Date(v);t.setHours(0,0,0,0),s=e.filter((e=>{const a=new Date(e.date);return a.setHours(0,0,0,0),a.getTime()===t.getTime()}))}else s=e;break;default:s=e}l(s);const r=s.reduce(((e,t)=>{const a=t.date;return e[a]||(e[a]=[]),e[a].push(t),e}),{});Object.keys(r).forEach((e=>{r[e].sort(((e,t)=>e.start_time.localeCompare(t.start_time)))})),d(r)},w=e=>{x(e),m(!1),o(null),"today"===e&&b((new Date).toISOString().split("T")[0])},k=e=>{b(e),x("date"),m(!1),o(null)},S=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),C=e=>{const[t,a]=e.split(":"),n=new Date;return n.setHours(parseInt(t),parseInt(a)),n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},_=()=>{m(!1),o(null)};return 0===a.length?(0,hn.jsx)("div",{className:"coach-availability-empty",children:(0,hn.jsxs)("div",{className:"empty-state",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-check fa-3x text-muted mb-3"}),(0,hn.jsx)("h4",{className:"text-muted",children:"No Booked Sessions"}),(0,hn.jsx)("p",{className:"text-muted",children:"You don't have any booked sessions at the moment."})]})}):(0,hn.jsxs)("div",{className:"coach-availability-container",children:[(0,hn.jsx)("div",{className:"mb-4",children:(0,hn.jsx)("div",{className:"card shadow-sm",children:(0,hn.jsx)("div",{className:"card-body p-3",children:(0,hn.jsxs)("div",{className:"row align-items-center",children:[(0,hn.jsx)("div",{className:"col-md-auto",children:(0,hn.jsxs)("h6",{className:"card-title mb-3 mb-md-0",children:[(0,hn.jsx)("i",{className:"fas fa-filter me-2"}),"Filter Sessions"]})}),(0,hn.jsx)("div",{className:"col-md d-none d-md-block",children:(0,hn.jsxs)("div",{className:"row g-2 align-items-center",children:[(0,hn.jsx)("div",{className:"col-auto",children:(0,hn.jsxs)("button",{className:"btn btn-sm ".concat("today"===p?"btn-primary":"btn-outline-primary"),onClick:()=>w("today"),children:[(0,hn.jsx)("i",{className:"fas fa-calendar-day me-1"}),"Today"]})}),(0,hn.jsx)("div",{className:"col-auto",children:(0,hn.jsxs)("button",{className:"btn btn-sm ".concat("future"===p?"btn-success":"btn-outline-success"),onClick:()=>w("future"),children:[(0,hn.jsx)("i",{className:"fas fa-arrow-right me-1"}),"Future"]})}),(0,hn.jsx)("div",{className:"col-auto",children:(0,hn.jsxs)("div",{className:"input-group input-group-sm",style:{width:"200px"},children:[(0,hn.jsx)("span",{className:"input-group-text",children:(0,hn.jsx)("i",{className:"fas fa-calendar-alt"})}),(0,hn.jsx)("input",{type:"date",className:"form-control",value:v,onChange:e=>k(e.target.value),placeholder:"Select date"}),v&&(0,hn.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>{b(""),x("future")},children:(0,hn.jsx)("i",{className:"fas fa-times"})})]})}),(0,hn.jsx)("div",{className:"col-auto",children:(0,hn.jsxs)("div",{className:"form-check",children:[(0,hn.jsx)("input",{className:"form-check-input",type:"checkbox",id:"showPastDesktop",checked:"past"===p,onChange:e=>{e.target.checked?w("past"):w("future")}}),(0,hn.jsxs)("label",{className:"form-check-label text-muted",htmlFor:"showPastDesktop",children:[(0,hn.jsx)("i",{className:"fas fa-history me-1"}),"Past sessions"]})]})}),(0,hn.jsx)("div",{className:"col-auto",children:(0,hn.jsxs)("small",{className:"text-muted",children:[r.length," of ",a.length," sessions","today"===p&&" for today","future"===p&&" (upcoming)","past"===p&&" (completed)","date"===p&&v&&" for ".concat(new Date(v).toLocaleDateString())]})})]})}),(0,hn.jsxs)("div",{className:"col-12 d-block d-md-none",children:[(0,hn.jsxs)("div",{className:"row g-2 mb-3",children:[(0,hn.jsx)("div",{className:"col-6",children:(0,hn.jsxs)("button",{className:"btn btn-sm w-100 ".concat("today"===p?"btn-primary":"btn-outline-primary"),onClick:()=>w("today"),children:[(0,hn.jsx)("i",{className:"fas fa-calendar-day me-1"}),"Today"]})}),(0,hn.jsx)("div",{className:"col-6",children:(0,hn.jsxs)("button",{className:"btn btn-sm w-100 ".concat("future"===p?"btn-success":"btn-outline-success"),onClick:()=>w("future"),children:[(0,hn.jsx)("i",{className:"fas fa-arrow-right me-1"}),"Future"]})})]}),(0,hn.jsx)("div",{className:"row g-2 mb-3",children:(0,hn.jsx)("div",{className:"col-12",children:(0,hn.jsxs)("div",{className:"input-group input-group-sm",children:[(0,hn.jsx)("span",{className:"input-group-text",children:(0,hn.jsx)("i",{className:"fas fa-calendar-alt"})}),(0,hn.jsx)("input",{type:"date",className:"form-control",value:v,onChange:e=>k(e.target.value),placeholder:"Select specific date"}),v&&(0,hn.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>{b(""),x("future")},children:(0,hn.jsx)("i",{className:"fas fa-times"})})]})})}),(0,hn.jsxs)("div",{className:"form-check",children:[(0,hn.jsx)("input",{className:"form-check-input",type:"checkbox",id:"showPastMobile",checked:"past"===p,onChange:e=>{e.target.checked?w("past"):w("future")}}),(0,hn.jsxs)("label",{className:"form-check-label text-muted",htmlFor:"showPastMobile",children:[(0,hn.jsx)("i",{className:"fas fa-history me-1"}),"Show past sessions"]})]}),(0,hn.jsx)("div",{className:"mt-2",children:(0,hn.jsxs)("small",{className:"text-muted",children:["Showing ",r.length," of ",a.length," sessions","today"===p&&" for today","future"===p&&" (upcoming)","past"===p&&" (completed)","date"===p&&v&&" for ".concat(new Date(v).toLocaleDateString())]})})]})]})})})}),(0,hn.jsx)("div",{className:"row",children:(0,hn.jsxs)("div",{className:"col-12",children:[(0,hn.jsx)("div",{className:"busy-sessions-header",children:(0,hn.jsxs)("h4",{className:"section-title",children:[(0,hn.jsx)("i",{className:"fas fa-clock me-2"}),"Booked Sessions (",r.length,")"]})}),0===Object.keys(c).length?(0,hn.jsx)("div",{className:"no-sessions",children:(0,hn.jsxs)("div",{className:"text-center p-4",children:[(0,hn.jsx)("i",{className:"fas fa-search fa-2x text-muted mb-3"}),(0,hn.jsx)("h5",{className:"text-muted",children:"No sessions found"}),(0,hn.jsxs)("p",{className:"text-muted mb-0",children:["today"===p&&"No sessions scheduled for today.","future"===p&&"No upcoming sessions found.","past"===p&&"No past sessions found.","date"===p&&v&&"No sessions found for ".concat(new Date(v).toLocaleDateString(),".")]}),window.innerWidth<768&&(0,hn.jsxs)("button",{className:"btn btn-outline-primary btn-sm mt-2",onClick:()=>w("future"),children:[(0,hn.jsx)("i",{className:"fas fa-arrow-left me-1"}),"Show all upcoming"]})]})}):Object.entries(c).sort(((e,t)=>{let[a]=e,[n]=t;return new Date(a)-new Date(n)})).map((e=>{let[t,a]=e;return(0,hn.jsxs)("div",{className:"date-group mb-4",children:[(0,hn.jsxs)("div",{className:"date-header",children:[(0,hn.jsx)("h5",{className:"date-title",children:S(t)}),(0,hn.jsxs)("span",{className:"session-count",children:[a.length," session",1!==a.length?"s":""]})]}),(0,hn.jsx)("div",{className:"time-slots-row",children:a.map(((e,a)=>{const n=((e,t)=>{const a=new Date,n=new Date(e),[s,r]=t.split(":").map(Number);return n.setHours(s,r,0,0),n<a})(e.date,e.start_time);return(0,hn.jsxs)("div",{className:"time-slot-card ".concat(n?"past-session":""),onClick:()=>(e=>{const t=h.find((t=>t.date===e.date&&t.time===e.start_time));o({name:e.client_name||"N/A",email:e.client_email||"N/A",phone:e.client_phone||"N/A",age:e.client_age||"N/A",gender:e.client_gender||"N/A",goal:e.client_goal||"N/A",date:e.date,time:e.start_time,duration:e.duration||60,reservation:t}),m(!0)})(e),style:{cursor:"pointer"},children:[(0,hn.jsxs)("div",{className:"time-slot-time",children:[C(e.start_time),n&&(0,hn.jsx)("span",{className:"past-indicator",children:"COMPLETED"})]}),(0,hn.jsxs)("div",{className:"time-slot-client",children:[(0,hn.jsx)("i",{className:"fas fa-user me-1"}),e.client_name||"Unknown Client"]}),(0,hn.jsxs)("div",{className:"time-slot-duration",children:[(0,hn.jsx)("i",{className:"fas fa-hourglass-half me-1"}),e.duration||60,"min"]})]},"".concat(t,"-").concat(e.start_time,"-").concat(a))}))})]},t)}))]})}),u&&i&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("div",{className:"modal-backdrop fade show",style:{zIndex:1040}}),(0,hn.jsx)("div",{className:"modal fade show",style:{display:"block",zIndex:1050},tabIndex:"-1",children:(0,hn.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:(0,hn.jsxs)("div",{className:"modal-content shadow-lg",children:[(0,hn.jsxs)("div",{className:"modal-header",children:[(0,hn.jsxs)("h5",{className:"modal-title text-white",children:[(0,hn.jsx)("i",{className:"fas fa-user-circle me-2"}),"Client Details"]}),(0,hn.jsx)("button",{type:"button",className:"btn-close btn-close-white",onClick:_,"aria-label":"Close"})]}),(0,hn.jsxs)("div",{className:"modal-body p-4",children:[(0,hn.jsxs)("div",{className:"info-card mb-4",children:[(0,hn.jsxs)("div",{className:"info-card-header",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-check me-2"}),"Session Details"]}),(0,hn.jsx)("div",{className:"info-card-body",children:(0,hn.jsxs)("div",{className:"row g-3",children:[(0,hn.jsx)("div",{className:"col-md-4",children:(0,hn.jsxs)("div",{className:"info-field",children:[(0,hn.jsxs)("div",{className:"info-label",children:[(0,hn.jsx)("i",{className:"fas fa-calendar text-primary me-2"}),"Date"]}),(0,hn.jsx)("div",{className:"info-value",children:S(i.date)})]})}),(0,hn.jsx)("div",{className:"col-md-4",children:(0,hn.jsxs)("div",{className:"info-field",children:[(0,hn.jsxs)("div",{className:"info-label",children:[(0,hn.jsx)("i",{className:"fas fa-clock text-primary me-2"}),"Time"]}),(0,hn.jsx)("div",{className:"info-value",children:C(i.time)})]})}),(0,hn.jsx)("div",{className:"col-md-4",children:(0,hn.jsxs)("div",{className:"info-field",children:[(0,hn.jsxs)("div",{className:"info-label",children:[(0,hn.jsx)("i",{className:"fas fa-hourglass-half text-primary me-2"}),"Duration"]}),(0,hn.jsxs)("div",{className:"info-value",children:[i.duration," minutes"]})]})})]})})]}),(0,hn.jsxs)("div",{className:"info-card",children:[(0,hn.jsxs)("div",{className:"info-card-header",children:[(0,hn.jsx)("i",{className:"fas fa-user me-2"}),"Client Information"]}),(0,hn.jsx)("div",{className:"info-card-body",children:(0,hn.jsxs)("div",{className:"row g-4",children:[(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"info-field",children:[(0,hn.jsxs)("div",{className:"info-label",children:[(0,hn.jsx)("i",{className:"fas fa-id-card text-muted me-2"}),"Full Name"]}),(0,hn.jsx)("div",{className:"info-value",children:i.name})]})}),(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"info-field",children:[(0,hn.jsxs)("div",{className:"info-label",children:[(0,hn.jsx)("i",{className:"fas fa-birthday-cake text-muted me-2"}),"Age"]}),(0,hn.jsxs)("div",{className:"info-value",children:[i.age," years"]})]})}),(0,hn.jsx)("div",{className:"col-12",children:(0,hn.jsxs)("div",{className:"info-field",children:[(0,hn.jsxs)("div",{className:"info-label",children:[(0,hn.jsx)("i",{className:"fas fa-envelope text-muted me-2"}),"Email Address"]}),(0,hn.jsx)("div",{className:"info-value email-value",children:(0,hn.jsx)("a",{href:"mailto:".concat(i.email),className:"text-decoration-none",children:i.email})})]})}),(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"info-field",children:[(0,hn.jsxs)("div",{className:"info-label",children:[(0,hn.jsx)("i",{className:"fas fa-phone text-muted me-2"}),"Phone Number"]}),(0,hn.jsx)("div",{className:"info-value",children:(0,hn.jsx)("a",{href:"tel:".concat(i.phone),className:"text-decoration-none",children:i.phone})})]})}),(0,hn.jsx)("div",{className:"col-md-6",children:(0,hn.jsxs)("div",{className:"info-field",children:[(0,hn.jsxs)("div",{className:"info-label",children:[(0,hn.jsx)("i",{className:"fas fa-venus-mars text-muted me-2"}),"Gender"]}),(0,hn.jsx)("div",{className:"info-value",children:i.gender})]})}),(0,hn.jsx)("div",{className:"col-12",children:(0,hn.jsxs)("div",{className:"info-field",children:[(0,hn.jsxs)("div",{className:"info-label",children:[(0,hn.jsx)("i",{className:"fas fa-target text-muted me-2"}),"Training Goal"]}),(0,hn.jsx)("div",{className:"info-value goal-value",children:i.goal})]})})]})})]})]}),(0,hn.jsx)("div",{className:"modal-footer bg-light",children:(0,hn.jsxs)("button",{type:"button",className:"btn btn-primary btn-lg w-100",onClick:_,children:[(0,hn.jsx)("i",{className:"fas fa-times me-2"}),"Close"]})})]})})})]})]})},Cu=e=>{let{availability:t}=e;const[a,s]=(0,n.useState)(new Date),[r,l]=(0,n.useState)(null),[i,o]=(0,n.useState)([]),[c,d]=(0,n.useState)([]),[u,m]=(0,n.useState)(!1),[h,f]=(0,n.useState)(null),[p,x]=(0,n.useState)(new Set),[v,b]=(0,n.useState)(new Set),[g,j]=(0,n.useState)(!1),y=(0,n.useRef)(null);(0,n.useEffect)((()=>{const e=new Set,a=new Set;t.forEach((t=>{const n=new Date(t.date).toDateString();t.is_booked&&"cancelled"!==t.status?e.add(n):t.is_booked||a.add(n)})),x(e),b(a),window.innerWidth<768&&setTimeout((()=>{const e=document.querySelector(".coach-calendar-container");e&&(e.style.minHeight="500px",e.style.height="auto",e.style.overflow="visible")}),100)}),[t]);const N=e=>{const[t,a]=e.split(":"),n=new Date;return n.setHours(parseInt(t),parseInt(a)),n.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},w=e=>e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),k=e=>{s((t=>{const a=new Date(t);return a.setMonth(a.getMonth()+e),a})),l(null),o([]),d([])},S=e=>{const t=new Date;return e.toDateString()===t.toDateString()},C=e=>p.has(e.toDateString()),_=e=>v.has(e.toDateString()),E=(e=>{const t=e.getFullYear(),a=e.getMonth(),n=new Date(t,a,1),s=new Date(t,a+1,0),r=new Date(n);r.setDate(r.getDate()-n.getDay());const l=[],i=new Date(r);for(;i<=s||l.length%7!==0;)l.push(new Date(i)),i.setDate(i.getDate()+1);return l})(a);return(0,hn.jsxs)("div",{className:"coach-calendar-container",children:[(0,hn.jsxs)("div",{className:"modern-layout",children:[(0,hn.jsx)("div",{className:"calendar-sidebar",children:(0,hn.jsxs)("div",{className:"mini-calendar",children:[(0,hn.jsxs)("div",{className:"mini-calendar-header",children:[(0,hn.jsx)("button",{className:"nav-btn",onClick:()=>k(-1),children:(0,hn.jsx)("i",{className:"fas fa-chevron-left"})}),(0,hn.jsxs)("h6",{className:"mini-calendar-title",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()]," ",a.getFullYear()]}),(0,hn.jsx)("button",{className:"nav-btn",onClick:()=>k(1),children:(0,hn.jsx)("i",{className:"fas fa-chevron-right"})})]}),(0,hn.jsxs)("div",{className:"mini-calendar-grid",children:[(0,hn.jsx)("div",{className:"mini-calendar-weekdays",children:["S","M","T","W","T","F","S"].map(((e,t)=>(0,hn.jsx)("div",{className:"mini-weekday",children:e},t)))}),(0,hn.jsx)("div",{className:"mini-calendar-days",children:E.map(((e,n)=>{return(0,hn.jsxs)("div",{className:"mini-day ".concat((s=e,s.getMonth()!==a.getMonth()?"other-month":"")," ").concat(S(e)?"today":""," ").concat(C(e)?"has-sessions":""," ").concat(_(e)?"has-available":""," ").concat(r&&r.toDateString()===e.toDateString()?"selected":""),onClick:()=>(e=>{j(!0);const a=e.toISOString().split("T")[0],n=t.filter((e=>e.date.split("T")[0]===a&&"cancelled"!==e.status)),s=n.filter((e=>e.is_booked)),r=n.filter((e=>!e.is_booked));l(e),setTimeout((()=>{o(s.sort(((e,t)=>e.start_time.localeCompare(t.start_time)))),d(r.sort(((e,t)=>e.start_time.localeCompare(t.start_time)))),j(!1),window.innerWidth<768&&y.current&&y.current.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}),300)})(e),children:[(0,hn.jsx)("span",{className:"mini-day-number",children:e.getDate()}),C(e)&&(0,hn.jsx)("div",{className:"mini-session-dot booked"}),_(e)&&(0,hn.jsx)("div",{className:"mini-session-dot available"})]},n);var s}))})]}),(0,hn.jsxs)("div",{className:"calendar-legend",children:[(0,hn.jsxs)("div",{className:"legend-item",children:[(0,hn.jsx)("div",{className:"legend-dot booked"}),(0,hn.jsx)("span",{className:"legend-text",children:"Booked Sessions"})]}),(0,hn.jsxs)("div",{className:"legend-item",children:[(0,hn.jsx)("div",{className:"legend-dot available"}),(0,hn.jsx)("span",{className:"legend-text",children:"Available Slots"})]})]})]})}),(0,hn.jsx)("div",{className:"timeline-main",ref:y,children:r?(0,hn.jsxs)("div",{className:"timeline-view",children:[(0,hn.jsxs)("div",{className:"timeline-header",children:[(0,hn.jsxs)("div",{className:"timeline-date-info",children:[(0,hn.jsx)("h4",{className:"timeline-date-title",children:w(r)}),(0,hn.jsxs)("div",{className:"session-counts",children:[(0,hn.jsxs)("span",{className:"session-count-badge booked",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-check me-1"}),i.length," Booked"]}),(0,hn.jsxs)("span",{className:"session-count-badge available",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-plus me-1"}),c.length," Available"]})]})]}),(0,hn.jsxs)("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>l(null),children:[(0,hn.jsx)("i",{className:"fas fa-times me-1"})," Close"]})]}),(0,hn.jsx)("div",{className:"modern-timeline-wrapper",children:g?(0,hn.jsxs)("div",{className:"loading-container",children:[(0,hn.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,hn.jsx)("p",{className:"mt-2",children:"Loading schedule..."})]}):(()=>{if(0===[...i,...c].length)return(0,hn.jsxs)("div",{className:"no-sessions",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-xmark fa-2x text-muted mb-2"}),(0,hn.jsx)("p",{className:"text-muted",children:"No sessions or availability for this day"})]});const e=[];for(let n=8;n<=22;n+=1)e.push(n);const t={};e.forEach((e=>{t[e]={booked:[],available:[]}})),i.forEach((e=>{const[a]=e.start_time.split(":").map(Number);t[a]&&t[a].booked.push(e)})),c.forEach((e=>{const[a]=e.start_time.split(":").map(Number);t[a]&&t[a].available.push(e)}));const a=e=>0===e?"12 AM":12===e?"12 PM":e>12?"".concat(e-12," PM"):"".concat(e," AM");return(0,hn.jsxs)("div",{className:"time-slot-grid",children:[(0,hn.jsx)("div",{className:"time-column",children:e.map((e=>(0,hn.jsx)("div",{className:"time-slot",children:a(e)},"time-".concat(e))))}),(0,hn.jsxs)("div",{className:"availability-column",children:[(()=>{const e=new Date,t=e.getTime()+6e4*e.getTimezoneOffset(),a=new Date(t+36e5).getHours();return a>=8&&a<=22&&S(r)})()&&(0,hn.jsx)("div",{className:"current-time-marker",style:{top:"".concat((()=>{const t=new Date,a=t.getTime()+6e4*t.getTimezoneOffset(),n=new Date(a+36e5),s=n.getHours(),r=n.getMinutes(),l=e.indexOf(s);if(-1===l)return null;return 80*l+80*(r/60)})(),"px")},children:(0,hn.jsx)("div",{className:"current-time-label",children:(()=>{const e=new Date,t=e.getTime()+6e4*e.getTimezoneOffset(),a=new Date(t+36e5),n=a.getHours().toString().padStart(2,"0"),s=a.getMinutes().toString().padStart(2,"0");return"Now: ".concat(n,":").concat(s)})()})}),e.map((e=>{const a=t[e],n=a.booked.length>0,s=a.available.length>0;let r="empty";return n&&s?r="mixed":n?r="booked":s&&(r="available"),(0,hn.jsx)("div",{className:"availability-slot",children:(n||s)&&(0,hn.jsxs)("div",{className:"availability-indicator ".concat(r),children:[a.booked.map(((t,a)=>{const n=((e,t)=>{const a=new Date,n=a.getTime()+6e4*a.getTimezoneOffset(),s=new Date(n+36e5),r=new Date(e),[l,i]=t.split(":").map(Number);return r.setHours(l,i,0,0),r<s})(t.date,t.start_time),s="completed"===t.status,r=s||n;return(0,hn.jsxs)("div",{className:"time-slot-tag booked ".concat(r?"completed":""," ").concat(n?"passed":""),onClick:e=>((e,t)=>{if(!e.is_booked)return;let a=60;if(e.start_time&&e.end_time){const[t,n]=e.start_time.split(":").map(Number),[s,r]=e.end_time.split(":").map(Number);a=60*s+r-(60*t+n)}else e.duration&&(a=e.duration);const n=t?t.currentTarget:null;n&&(n.classList.add("pulse-animation"),setTimeout((()=>{n.classList.remove("pulse-animation")}),500)),f({name:e.client_name||"N/A",email:e.client_email||"N/A",phone:e.client_phone||"N/A",age:e.client_age||"N/A",gender:e.client_gender||"N/A",goal:e.client_goal||"N/A",date:e.date,time:e.start_time,duration:a}),m(!0)})(t,e),title:"".concat(n?"Passed session":s?"Completed session":"Upcoming session"," - Click to view details"),children:[N(t.start_time)," - ",t.client_name||"Client",n&&(0,hn.jsx)("span",{className:"passed-badge",children:"Passed"}),s&&!n&&(0,hn.jsx)("span",{className:"completed-badge",children:"\u2713"})]},"booked-".concat(e,"-").concat(a))})),a.available.map(((t,a)=>(0,hn.jsxs)("div",{className:"time-slot-tag available",children:[N(t.start_time)," - Available"]},"available-".concat(e,"-").concat(a))))]})},"slot-".concat(e))}))]})]})})()})]}):(0,hn.jsx)("div",{className:"welcome-view",children:(0,hn.jsxs)("div",{className:"welcome-content",children:[(0,hn.jsx)("div",{className:"welcome-icon",children:(0,hn.jsx)("i",{className:"fas fa-calendar-alt fa-4x text-primary mb-3"})}),(0,hn.jsx)("h4",{className:"welcome-title",children:"Your Coaching Schedule"}),(0,hn.jsx)("p",{className:"welcome-text",children:"Select any date from the calendar to view and manage your sessions."}),(0,hn.jsxs)("div",{className:"legend-container",children:[(0,hn.jsxs)("div",{className:"legend-item",children:[(0,hn.jsx)("div",{className:"legend-color booked"}),(0,hn.jsx)("span",{children:"Booked Sessions"})]}),(0,hn.jsxs)("div",{className:"legend-item",children:[(0,hn.jsx)("div",{className:"legend-color available"}),(0,hn.jsx)("span",{children:"Available Slots"})]}),(0,hn.jsxs)("div",{className:"legend-item",children:[(0,hn.jsx)("div",{className:"legend-color today"}),(0,hn.jsx)("span",{children:"Today"})]})]})]})})})]}),u&&h&&(0,hn.jsx)("div",{className:"modal d-block client-details-modal",style:{backgroundColor:"rgba(0,0,0,0.6)"},children:(0,hn.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:(0,hn.jsxs)("div",{className:"modal-content",children:[(0,hn.jsxs)("div",{className:"modal-header",children:[(0,hn.jsxs)("h5",{className:"modal-title",children:[(0,hn.jsx)("i",{className:"fas fa-user-circle me-2"}),"Client Details"]}),(0,hn.jsx)("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>m(!1),"aria-label":"Close"})]}),(0,hn.jsxs)("div",{className:"modal-body p-0",children:[(0,hn.jsxs)("div",{className:"session-info-banner",children:[(0,hn.jsxs)("div",{className:"session-date-time",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-day me-2"}),w(new Date(h.date))," at ",N(h.time)]}),(0,hn.jsxs)("div",{className:"session-duration",children:[(0,hn.jsx)("i",{className:"fas fa-clock me-2"}),h.duration," minutes"]})]}),(0,hn.jsxs)("div",{className:"client-info-section",children:[(0,hn.jsxs)("div",{className:"client-name",children:[(0,hn.jsx)("i",{className:"fas fa-user me-2"}),h.name]}),(0,hn.jsxs)("div",{className:"contact-info",children:[(0,hn.jsxs)("div",{className:"contact-item",children:[(0,hn.jsx)("i",{className:"fas fa-envelope me-2"}),h.email]}),(0,hn.jsxs)("div",{className:"contact-item",children:[(0,hn.jsx)("i",{className:"fas fa-phone me-2"}),h.phone]})]}),(0,hn.jsxs)("div",{className:"additional-info",children:[(0,hn.jsxs)("div",{className:"additional-item",children:[(0,hn.jsx)("span",{className:"info-tag",children:"Age"}),(0,hn.jsxs)("span",{children:[h.age," years"]})]}),(0,hn.jsxs)("div",{className:"additional-item",children:[(0,hn.jsx)("span",{className:"info-tag",children:"Gender"}),(0,hn.jsx)("span",{children:h.gender})]}),(0,hn.jsxs)("div",{className:"additional-item full-width",children:[(0,hn.jsx)("span",{className:"info-tag",children:"Goal"}),(0,hn.jsx)("span",{children:h.goal})]})]})]})]}),(0,hn.jsx)("div",{className:"modal-footer",children:(0,hn.jsx)("button",{type:"button",className:"btn btn-primary btn-block w-100",onClick:()=>m(!1),children:"Close"})})]})})})]})},_u=()=>{const[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)(!0),[r,l]=(0,n.useState)(!1),[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(""),[u,m]=(0,n.useState)(!1),[h,f]=(0,n.useState)("");(0,n.useEffect)((()=>{console.log("Modal visibility state:",r)}),[r]),(0,n.useEffect)((()=>{p()}),[]),(0,n.useEffect)((()=>{const e=localStorage.getItem("coachToken");e&&(cn.defaults.headers.common.Authorization="Bearer ".concat(e))}),[]);const p=async()=>{try{s(!0);const e=await cn.get("/api/coach-dashboard/clients");t(e.data)}catch(e){console.error("Error fetching clients:",e),alert("Erreur lors du chargement des clients")}finally{s(!1)}},x=e=>{console.log("Handling Add Bilan for client:",e),o(e),d(e.bilan||""),l(!0),console.log("Modal should now be visible:",!0)},v=()=>{console.log("Closing modal"),l(!1),d(""),o(null),console.log("Modal state after close:",!1)},b=e.filter((e=>e.full_name.toLowerCase().includes(h.toLowerCase())||e.email.toLowerCase().includes(h.toLowerCase()))),g=e=>{if(!e)return"Aucun";const t=new Date(e),a=t.getTime()+6e4*t.getTimezoneOffset(),n=new Date(a+36e5);return new Intl.DateTimeFormat("fr-FR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(n)};return a?(0,hn.jsx)("div",{className:"coach-client-management",children:(0,hn.jsx)("div",{className:"loading",children:"Chargement des clients..."})}):(0,hn.jsxs)("div",{className:"coach-client-management",children:[(0,hn.jsxs)("div",{className:"header",children:[(0,hn.jsxs)("div",{className:"search-container",children:[(0,hn.jsx)("input",{type:"text",placeholder:"Rechercher un client...",value:h,onChange:e=>f(e.target.value),className:"search-input"}),(0,hn.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"})]}),e.length>0&&(0,hn.jsx)("button",{onClick:()=>x(e[0]),style:{background:"red",color:"white",padding:"10px",marginTop:"10px",display:"none"},children:"Test Modal"})]}),0===b.length?(0,hn.jsx)("div",{className:"no-clients",children:h?"Aucun client trouv\xe9 avec ces crit\xe8res":"Aucun client n'a encore r\xe9serv\xe9 avec vous"}):(0,hn.jsx)("div",{className:"clients-grid",children:b.map((e=>(0,hn.jsxs)("div",{className:"client-card",children:[(0,hn.jsxs)("div",{className:"client-header",children:[(0,hn.jsx)("h3",{children:e.full_name}),(0,hn.jsx)("span",{className:"client-email",children:e.email})]}),(0,hn.jsxs)("div",{className:"client-info",children:[(0,hn.jsxs)("div",{className:"info-row",children:[(0,hn.jsxs)("span",{className:"label",children:[(0,hn.jsx)("i",{className:"info-icon objective-icon",children:"\ud83c\udfaf"}),"Objectif:"]}),(0,hn.jsx)("span",{className:"value",children:e.goal||"Non d\xe9fini"})]}),(0,hn.jsxs)("div",{className:"info-row",children:[(0,hn.jsxs)("span",{className:"label",children:[(0,hn.jsx)("i",{className:"info-icon sessions-icon",children:"\ud83d\udcca"}),"Sessions totales:"]}),(0,hn.jsx)("span",{className:"value",children:e.total_sessions})]}),(0,hn.jsxs)("div",{className:"info-row",children:[(0,hn.jsxs)("span",{className:"label",children:[(0,hn.jsx)("i",{className:"info-icon completed-icon",children:"\u2705"}),"Sessions termin\xe9es:"]}),(0,hn.jsx)("span",{className:"value",children:e.completed_sessions})]})]}),(0,hn.jsx)("div",{className:"bilan-section",children:e.bilan?(0,hn.jsxs)("div",{className:"existing-bilan",children:[(0,hn.jsxs)("h4",{children:[(0,hn.jsx)("i",{className:"bilan-icon",children:"\ud83d\udcdd"}),"Bilan actuel:"]}),(0,hn.jsx)("p",{className:"bilan-text",children:e.bilan}),(0,hn.jsx)("div",{className:"bilan-meta",children:(0,hn.jsxs)("small",{children:[(0,hn.jsx)("i",{className:"time-icon",children:"\ud83d\udd52"})," ",e.bilan_updated_at?"Modifi\xe9 le ".concat(g(e.bilan_updated_at)):"Cr\xe9\xe9 le ".concat(g(e.bilan_created_at))]})}),(0,hn.jsxs)("a",{href:"#",className:"btn-edit-bilan",id:"edit-bilan-btn",onClick:t=>(t.preventDefault(),x(e),!1),children:[(0,hn.jsx)("span",{className:"btn-icon",children:"\u270f\ufe0f"}),(0,hn.jsx)("span",{className:"btn-text",children:"Modifier le bilan"})]})]}):(0,hn.jsxs)("div",{className:"no-bilan",children:[(0,hn.jsxs)("p",{children:[(0,hn.jsx)("i",{className:"info-icon",children:"\u2139\ufe0f"}),"Aucun bilan pour ce client"]}),(0,hn.jsxs)("a",{href:"#",className:"btn-add-bilan",onClick:t=>(t.preventDefault(),x(e),!1),children:[(0,hn.jsx)("span",{className:"btn-icon",children:"\u2795"}),(0,hn.jsx)("span",{className:"btn-text",children:"Ajouter un bilan"})]})]})})]},e.id)))}),(0,hn.jsxs)(_o,{show:r,onHide:v,centered:!0,backdrop:"static",size:"lg",className:"bilan-modal",scrollable:!0,children:[(0,hn.jsx)(_o.Header,{closeButton:!0,className:"custom-modal-header",children:(0,hn.jsxs)(_o.Title,{children:[null!==i&&void 0!==i&&i.bilan?"Modifier le bilan- ":"Ajouter un bilan- ",null===i||void 0===i?void 0:i.full_name]})}),(0,hn.jsx)(_o.Body,{className:"modal-body-scrollable",children:(0,hn.jsxs)("div",{className:"scroll-content",children:[(0,hn.jsxs)("div",{className:"client-objective",children:[(0,hn.jsxs)("div",{className:"client-objective-label",children:[(0,hn.jsx)("span",{className:"objective-icon",children:"\ud83c\udfaf"}),"OBJECTIF DU CLIENT:"]}),(0,hn.jsx)("div",{className:"client-objective-text",children:(null===i||void 0===i?void 0:i.goal)||"Non d\xe9fini"})]}),(0,hn.jsxs)("div",{className:"client-sessions-info",children:[(0,hn.jsxs)("div",{className:"client-sessions-block",children:[(0,hn.jsx)("div",{className:"client-sessions-label",children:"Sessions termin\xe9es"}),(0,hn.jsx)("div",{className:"client-sessions-value highlight",children:null===i||void 0===i?void 0:i.completed_sessions})]}),(0,hn.jsxs)("div",{className:"client-sessions-block",children:[(0,hn.jsx)("div",{className:"client-sessions-label",children:"Sessions totales"}),(0,hn.jsx)("div",{className:"client-sessions-value",children:null===i||void 0===i?void 0:i.total_sessions})]})]}),(0,hn.jsxs)("div",{className:"form-group",children:[(0,hn.jsx)("label",{className:"form-label",children:"Bilan du coach"}),(0,hn.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"R\xe9digez votre bilan pour ce client...",className:"form-textarea",rows:"8",disabled:u})]})]})}),(0,hn.jsxs)(_o.Footer,{children:[(0,hn.jsx)(li,{variant:"secondary",onClick:v,disabled:u,children:"Annuler"}),(0,hn.jsx)(li,{variant:"primary",onClick:async()=>{if(c.trim()){m(!0);try{await cn.post("/api/coach-dashboard/clients/".concat(i.id,"/bilan"),{bilan:c}),await p(),l(!1),d(""),o(null),alert("Bilan enregistr\xe9 avec succ\xe8s")}catch(e){console.error("Error saving bilan:",e),alert("Erreur lors de l'enregistrement du bilan")}finally{m(!1)}}else alert("Veuillez saisir un bilan")},disabled:u||!c.trim(),children:u?"Enregistrement...":"Enregistrer"})]})]})]})},Eu=()=>{var e;const{coachUser:t,logout:a}=(0,n.useContext)(pn),{showToast:s}=(0,n.useContext)(wu),r=te();(0,n.useEffect)((()=>{localStorage.getItem("coachToken")?C():r("/coach/login",{replace:!0})}),[r,t]);const[l,i]=(0,n.useState)([]),[o,c]=(0,n.useState)([]),[d,u]=(0,n.useState)(!0),[m,h]=(0,n.useState)("calendar"),[f,p]=(0,n.useState)(null),[x,v]=(0,n.useState)([]),[b,g]=(0,n.useState)({}),[j,y]=(0,n.useState)(!1),[N,w]=(0,n.useState)(null),[k,S]=(0,n.useState)({name:"",email:"",bio:"",specialty:"",photo:""}),C=async()=>{u(!0),p(null);try{console.log("Fetching coach data...");const a=localStorage.getItem("coachToken");if(!a)return console.error("No coach token found, redirecting to login"),void r("/coach/login",{replace:!0});cn.defaults.headers.common.Authorization="Bearer ".concat(a);const n=await cn.get("/api/coach-dashboard/profile");S(n.data),console.log("Profile loaded:",n.data);const l=await cn.get("/api/coach-dashboard/reservations");i(l.data),console.log("Reservations loaded:",l.data.length);const o=(await cn.get("/api/coach-dashboard/availability")).data.map((e=>{if(e.is_booked){const t=l.data.find((t=>t.date===e.date&&t.time===e.start_time));return t?Ie(Ie({},e),{},{client_name:t.full_name,client_email:t.email,client_phone:t.phone,client_age:t.age,client_gender:t.gender,client_goal:t.goal}):null}return e})).filter((e=>null!==e));c(o),console.log("Availability loaded:",o.length);try{console.log("Fetching group courses for coach...");const e=await cn.get("/api/coach-dashboard/group-courses");console.log("Group courses API response:",e);const t=e.data.filter((e=>e&&!e.is_deleted&&"deleted"!==e.status&&"cancelled"!==e.status));v(t),console.log("Active group courses loaded:",t.length)}catch(t){var e;console.error("Error loading group courses:",(null===(e=t.response)||void 0===e?void 0:e.data)||t.message),s("warning","Failed to load group courses. Other data is still available."),v([])}}catch(f){console.error("Error loading coach data:",f),!f.response||401!==f.response.status&&403!==f.response.status?(p("Failed to load data. Please try again later."),s("error","Failed to load data. Please try again later.")):(console.log("Authentication error, redirecting to login"),s("error","Your session has expired. Please log in again."),localStorage.removeItem("coachToken"),localStorage.removeItem("coachUser"),delete cn.defaults.headers.common.Authorization,r("/coach/login",{replace:!0})),S({}),i([]),c([]),v([])}finally{u(!1)}},_=()=>{a("coach"),window.location.href="/coach/login",s("success","Successfully logged out")},E=e=>{h(e),window.innerWidth<768&&setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),100)},P=e=>new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",timeZone:"Africa/Casablanca"}),T=e=>new Date("2000-01-01T".concat(e)).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit",timeZone:"Africa/Casablanca"});return d?(0,hn.jsxs)("div",{className:"container mt-5 text-center",children:[(0,hn.jsx)("div",{className:"spinner-border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,hn.jsx)("p",{className:"mt-3",children:"Loading coach dashboard..."})]}):f?(0,hn.jsx)("div",{className:"container mt-5",children:(0,hn.jsxs)("div",{className:"alert alert-danger",children:[(0,hn.jsx)("h4",{children:"Error Loading Dashboard"}),(0,hn.jsx)("p",{children:f}),(0,hn.jsx)("button",{className:"btn btn-primary mt-2",onClick:C,children:"Retry"})]})}):(0,hn.jsxs)("div",{className:"container mt-4 mb-5",children:[(0,hn.jsx)("div",{className:"d-block d-md-none mb-4",children:(0,hn.jsx)("div",{className:"card shadow-sm",children:(0,hn.jsx)("div",{className:"card-body py-2",children:(0,hn.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,hn.jsxs)("div",{className:"d-flex align-items-center",children:[(0,hn.jsx)("img",{src:k.photo||"https://via.placeholder.com/60x60?text=Coach",alt:k.name,className:"rounded-circle me-3",style:{width:"50px",height:"50px",objectFit:"cover",border:"2px solid #007bff"}}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h6",{className:"mb-0 fw-bold",children:k.name}),(0,hn.jsx)("small",{className:"text-muted",children:k.specialty})]})]}),(0,hn.jsxs)("button",{className:"btn btn-outline-danger btn-sm",onClick:_,style:{minWidth:"80px"},children:[(0,hn.jsx)("i",{className:"fas fa-sign-out-alt me-1"}),"Logout"]})]})})})}),(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-lg-3 d-none d-md-block",children:[(0,hn.jsx)("div",{className:"card shadow-sm mb-4",children:(0,hn.jsxs)("div",{className:"card-body text-center",children:[(0,hn.jsx)("div",{className:"mb-3",children:(0,hn.jsx)("img",{src:k.photo||"https://via.placeholder.com/150x150?text=Coach",alt:k.name,className:"rounded-circle img-thumbnail",style:{width:"120px",height:"120px",objectFit:"cover"}})}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("h5",{className:"card-title fw-bold mb-0",children:k.name}),(0,hn.jsx)("p",{className:"text-muted mb-2",children:k.specialty})]}),(0,hn.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,hn.jsxs)("button",{className:"btn btn-outline-danger btn-sm mobile-logout-btn",onClick:_,children:[(0,hn.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"Logout"]})})]})}),(0,hn.jsxs)("div",{className:"card shadow-sm mb-4",children:[(0,hn.jsx)("div",{className:"card-header bg-dark text-white",children:(0,hn.jsxs)("h5",{className:"card-title mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-tachometer-alt me-2"})," Dashboard"]})}),(0,hn.jsxs)("div",{className:"list-group list-group-flush",children:[(0,hn.jsxs)("button",{className:"list-group-item list-group-item-action ".concat("calendar"===m?"active":""),onClick:()=>E("calendar"),children:[(0,hn.jsx)("i",{className:"fas fa-calendar-alt me-2"})," My Calendar",(0,hn.jsx)("span",{className:"badge bg-secondary rounded-pill float-end",children:o.filter((e=>e.is_booked)).length})]}),(0,hn.jsxs)("button",{className:"list-group-item list-group-item-action ".concat("availability"===m?"active":""),onClick:()=>E("availability"),children:[(0,hn.jsx)("i",{className:"fas fa-calendar-check me-2"})," Booked Sessions",(0,hn.jsx)("span",{className:"badge bg-secondary rounded-pill float-end",children:o.filter((e=>e.is_booked)).length})]}),(0,hn.jsxs)("button",{className:"list-group-item list-group-item-action ".concat("clients"===m?"active":""),onClick:()=>E("clients"),children:[(0,hn.jsx)("i",{className:"fas fa-user-friends me-2"})," Mes Clients"]}),(0,hn.jsxs)("button",{className:"list-group-item list-group-item-action ".concat("groupCourses"===m?"active":""),onClick:()=>E("groupCourses"),children:[(0,hn.jsx)("i",{className:"fas fa-users me-2"})," Group Courses",(0,hn.jsx)("span",{className:"badge bg-secondary rounded-pill float-end",children:x.length})]})]})]})]}),(0,hn.jsxs)("div",{className:"col-md-12 col-lg-9",style:{paddingBottom:"100px"},children:["calendar"===m&&(0,hn.jsxs)("div",{className:"card shadow-sm",children:[(0,hn.jsxs)("div",{className:"card-header bg-success text-white d-flex align-items-center justify-content-between",children:[(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-alt me-2"})," My Calendar"]}),(0,hn.jsxs)("button",{className:"btn btn-sm btn-outline-light",onClick:()=>C(),children:[(0,hn.jsx)("i",{className:"fas fa-sync-alt me-1"})," Refresh"]})]}),(0,hn.jsx)("div",{className:"card-body",children:(0,hn.jsx)(Cu,{availability:o})})]}),"availability"===m&&(0,hn.jsxs)("div",{className:"card shadow-sm",children:[(0,hn.jsxs)("div",{className:"card-header bg-primary text-white d-flex align-items-center justify-content-between",children:[(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-check me-2"})," My Booked Sessions"]}),(0,hn.jsxs)("button",{className:"btn btn-sm btn-outline-light",onClick:()=>C(),children:[(0,hn.jsx)("i",{className:"fas fa-sync-alt me-1"})," Refresh"]})]}),(0,hn.jsx)("div",{className:"card-body",children:(0,hn.jsx)(Su,{availability:o})})]}),"clients"===m&&(0,hn.jsxs)("div",{className:"card shadow-sm",children:[(0,hn.jsx)("div",{className:"card-header bg-info text-white d-flex align-items-center justify-content-between",children:(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-user-friends me-2"})," Gestion des Clients"]})}),(0,hn.jsx)("div",{className:"card-body",children:(0,hn.jsx)(_u,{})})]}),"groupCourses"===m&&(0,hn.jsxs)("div",{className:"card shadow-sm",children:[(0,hn.jsxs)("div",{className:"card-header bg-dark text-white d-flex align-items-center justify-content-between",children:[(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-users me-2"})," My Group Courses"]}),(0,hn.jsxs)("button",{className:"btn btn-sm btn-outline-light",onClick:()=>{C(),s("info","Refreshing course data...")},children:[(0,hn.jsx)("i",{className:"fas fa-sync-alt me-1"})," Refresh"]})]}),(0,hn.jsx)("div",{className:"card-body",children:j&&N?(0,hn.jsxs)("div",{children:[(0,hn.jsxs)("button",{className:"btn btn-outline-secondary mb-4",onClick:()=>{y(!1),w(null),window.innerWidth<768&&setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),100)},children:[(0,hn.jsx)("i",{className:"fas fa-arrow-left me-2"})," Back to Group Courses"]}),(0,hn.jsxs)("h5",{className:"mb-3",children:[N.title," - Participants"]}),(0,hn.jsxs)("p",{className:"text-muted mb-4",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-day me-2"})," ",P(N.date)," at ",T(N.time),(0,hn.jsxs)("span",{className:"ms-3",children:[(0,hn.jsx)("i",{className:"fas fa-users me-2"}),N.current_participants," / ",N.max_participants," participants"]})]}),(null===(e=b[N.id])||void 0===e?void 0:e.length)>0?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("div",{className:"table-responsive",style:{overflowX:"auto",overflowY:"hidden",WebkitOverflowScrolling:"touch",scrollbarWidth:"thin",scrollbarColor:"#6c757d #f8f9fa"},children:(0,hn.jsxs)("table",{className:"table table-hover",style:{minWidth:"600px"},children:[(0,hn.jsx)("thead",{className:"table-light",children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{style:{minWidth:"150px"},children:"Client Name"}),(0,hn.jsx)("th",{style:{minWidth:"200px"},children:"Email"}),(0,hn.jsx)("th",{style:{minWidth:"120px"},children:"Phone"}),(0,hn.jsx)("th",{style:{minWidth:"120px"},children:"Booking Date"}),(0,hn.jsx)("th",{style:{minWidth:"100px"},children:"Status"})]})}),(0,hn.jsx)("tbody",{children:b[N.id].map((e=>(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{style:{whiteSpace:"nowrap"},children:e.full_name}),(0,hn.jsx)("td",{style:{whiteSpace:"nowrap"},children:e.email}),(0,hn.jsx)("td",{style:{whiteSpace:"nowrap"},children:e.phone}),(0,hn.jsx)("td",{style:{whiteSpace:"nowrap"},children:new Date(e.created_at).toLocaleDateString()}),(0,hn.jsx)("td",{children:(0,hn.jsx)("span",{className:"badge ".concat("confirmed"===e.status?"bg-success":"bg-danger"),children:"confirmed"===e.status?"Confirmed":"Cancelled"})})]},e.id)))})]})}),(0,hn.jsx)("div",{className:"d-block d-md-none",children:(0,hn.jsxs)("small",{className:"text-muted d-flex align-items-center justify-content-center mt-2",children:[(0,hn.jsx)("i",{className:"fas fa-arrows-alt-h me-1"}),"Swipe left/right to see more details"]})})]}):(0,hn.jsx)("div",{className:"alert alert-info",children:"No bookings found for this group course."})]}):(0,hn.jsx)(hn.Fragment,{children:x.length>0?(0,hn.jsx)("div",{className:"row",children:x.filter((e=>e&&!e.is_deleted&&"deleted"!==e.status&&"cancelled"!==e.status)).map((e=>{const t=new Date,a=new Date(e.date);a.setHours(e.time.split(":")[0],e.time.split(":")[1]);let n="Open",r="bg-success";return a<t?(n="Ended",r="bg-secondary"):e.current_participants>=e.max_participants&&(n="Full",r="bg-warning text-dark"),(0,hn.jsx)("div",{className:"col-md-6 mb-4",children:(0,hn.jsx)("div",{className:"card h-100 shadow-sm border-0",children:(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,hn.jsx)("h5",{className:"card-title mb-0",children:e.title}),(0,hn.jsx)("span",{className:"badge ".concat(r),children:n})]}),(0,hn.jsxs)("p",{className:"card-text text-muted mb-3",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-day me-2"}),P(e.date)]}),(0,hn.jsxs)("p",{className:"card-text text-muted mb-3",children:[(0,hn.jsx)("i",{className:"fas fa-clock me-2"}),T(e.time)]}),(0,hn.jsxs)("p",{className:"card-text text-muted mb-3",children:[(0,hn.jsx)("i",{className:"fas fa-users me-2"}),e.current_participants," / ",e.max_participants," participants"]}),(0,hn.jsx)("p",{className:"card-text mb-4",children:e.description}),(0,hn.jsx)("div",{className:"d-grid",children:(0,hn.jsxs)("button",{className:"btn btn-outline-primary",onClick:async()=>{try{console.log("Fetching bookings for course:",e.id);const t=await cn.get("/api/coach-dashboard/group-courses/".concat(e.id,"/bookings"));console.log("Bookings loaded:",t.data),g(Ie(Ie({},b),{},{[e.id]:t.data})),w(e),y(!0),window.innerWidth<768&&setTimeout((()=>{window.scrollTo({top:0,behavior:"smooth"})}),100)}catch(f){var t,a,n;console.error("Error fetching bookings:",(null===(t=f.response)||void 0===t?void 0:t.data)||f.message),404===(null===(a=f.response)||void 0===a?void 0:a.status)||410===(null===(n=f.response)||void 0===n?void 0:n.status)?(s("warning","This course is no longer available. Refreshing course list..."),C()):s("error","Failed to load bookings. Please try again.")}},children:[(0,hn.jsx)("i",{className:"fas fa-eye me-2"})," View Participants"]})})]})})},e.id)}))}):(0,hn.jsxs)("div",{className:"text-center p-5",children:[(0,hn.jsx)("i",{className:"fas fa-users fa-3x mb-3 text-muted"}),(0,hn.jsx)("h5",{children:"No Group Courses Found"}),(0,hn.jsx)("p",{className:"text-muted",children:"You don't have any group courses assigned to you yet."})]})})})]})]})]}),(0,hn.jsx)("div",{className:"d-block d-md-none fixed-bottom bg-white border-top shadow-sm",children:(0,hn.jsxs)("div",{className:"row g-0",children:[(0,hn.jsx)("div",{className:"col-3",children:(0,hn.jsx)("button",{className:"btn w-100 border-0 py-3 ".concat("calendar"===m?"text-success bg-light":"text-muted"),onClick:()=>E("calendar"),style:{borderRadius:0},children:(0,hn.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-alt mb-1 ".concat("calendar"===m?"text-success":"text-muted")}),(0,hn.jsx)("small",{className:"calendar"===m?"text-success fw-bold":"text-muted",children:"Calendar"})]})})}),(0,hn.jsx)("div",{className:"col-3",children:(0,hn.jsx)("button",{className:"btn w-100 border-0 py-3 ".concat("availability"===m?"text-primary bg-light":"text-muted"),onClick:()=>E("availability"),style:{borderRadius:0},children:(0,hn.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-check mb-1 ".concat("availability"===m?"text-primary":"text-muted")}),(0,hn.jsx)("small",{className:"availability"===m?"text-primary fw-bold":"text-muted",children:"Sessions"})]})})}),(0,hn.jsx)("div",{className:"col-3",children:(0,hn.jsx)("button",{className:"btn w-100 border-0 py-3 ".concat("clients"===m?"text-info bg-light":"text-muted"),onClick:()=>E("clients"),style:{borderRadius:0},children:(0,hn.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,hn.jsx)("i",{className:"fas fa-user-friends mb-1 ".concat("clients"===m?"text-info":"text-muted")}),(0,hn.jsx)("small",{className:"clients"===m?"text-info fw-bold":"text-muted",children:"Clients"})]})})}),(0,hn.jsx)("div",{className:"col-3",children:(0,hn.jsx)("button",{className:"btn w-100 border-0 py-3 ".concat("groupCourses"===m?"text-dark bg-light":"text-muted"),onClick:()=>E("groupCourses"),style:{borderRadius:0},children:(0,hn.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,hn.jsx)("i",{className:"fas fa-users mb-1 ".concat("groupCourses"===m?"text-dark":"text-muted")}),(0,hn.jsx)("small",{className:"groupCourses"===m?"text-dark fw-bold":"text-muted",children:"Courses"})]})})})]})})]})},Pu=e=>{let{sessions:t,groupSessions:a,onCancelSuccess:s,updatePoints:r,currentUser:l}=e;const[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(null),[h,f]=(0,n.useState)(null),[p,x]=(0,n.useState)(!1),[v,b]=(0,n.useState)("individual"),g=e=>{try{return tu(new Date(e),"dd MMM yyyy",{locale:pu})}catch(t){return e}},j=e=>{try{return tu(new Date("2000-01-01T".concat(e)),"HH:mm",{locale:pu})}catch(t){return e}},y=e=>{switch(e){case"confirmed":return"bg-success";case"pending":return"bg-warning";case"cancelled":return"bg-danger";default:return"bg-secondary"}},N=e=>{switch(e){case"confirmed":return"Confirm\xe9e";case"pending":return"En attente";case"cancelled":return"Annul\xe9e";default:return e}},w=(e,t)=>{const a=new Date,n=new Date(e),[s,r]=t.split(":").map(Number);return n.setHours(s,r,0,0),n<a},k=(e,t)=>{o(e),b(t),x(!0),f(null),m(null)},S=()=>{x(!1),o(null)};return(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)(ni,{className:"mb-4",children:[(0,hn.jsx)(ni.Header,{children:(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-check me-2"}),"S\xe9ances de Coaching Individuelles"]})}),(0,hn.jsx)(ni.Body,{children:t&&t.length>0?(0,hn.jsx)("div",{className:"table-responsive",children:(0,hn.jsxs)(Si,{striped:!0,hover:!0,children:[(0,hn.jsx)("thead",{children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:"Coach"}),(0,hn.jsx)("th",{children:"Date"}),(0,hn.jsx)("th",{children:"Heure"}),(0,hn.jsx)("th",{children:"Statut"}),(0,hn.jsx)("th",{children:"Actions"})]})}),(0,hn.jsx)("tbody",{children:t.map((e=>{const t=w(e.date,e.time),a=((e,t)=>{const a=new Date,n=new Date(e),[s,r]=t.split(":").map(Number);return n.setHours(s,r,0,0),n.getTime()-a.getTime()<216e5})(e.date,e.time),n="confirmed"===e.status&&!t&&!a;return(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:e.coach_name}),(0,hn.jsx)("td",{children:g(e.date)}),(0,hn.jsx)("td",{children:j(e.time)}),(0,hn.jsx)("td",{children:(0,hn.jsx)(Ei,{className:y(e.status),children:N(e.status)})}),(0,hn.jsx)("td",{children:n?(0,hn.jsx)(li,{variant:"outline-danger",size:"sm",onClick:()=>k(e,"individual"),children:"Annuler"}):(0,hn.jsx)(li,{variant:"outline-secondary",size:"sm",disabled:!0,title:t?"Impossible d'annuler une s\xe9ance pass\xe9e":a?"Impossible d'annuler \xe0 moins de 6 heures de la s\xe9ance":"Cette s\xe9ance ne peut pas \xeatre annul\xe9e",children:t?"Pass\xe9e":"Annulation Impossible"})})]},e.id)}))})]})}):(0,hn.jsx)("p",{className:"text-muted text-center",children:"Vous n'avez aucune s\xe9ance de coaching individuelle."})})]}),(0,hn.jsxs)(ni,{className:"mb-4",children:[(0,hn.jsx)(ni.Header,{children:(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-users me-2"}),"Cours Collectifs & \xc9v\xe9nements"]})}),(0,hn.jsx)(ni.Body,{children:a&&a.length>0?(0,hn.jsx)("div",{className:"table-responsive",children:(0,hn.jsxs)(Si,{striped:!0,hover:!0,children:[(0,hn.jsx)("thead",{children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:"Titre du Cours"}),(0,hn.jsx)("th",{children:"Coach"}),(0,hn.jsx)("th",{children:"Date"}),(0,hn.jsx)("th",{children:"Heure"}),(0,hn.jsx)("th",{children:"Statut"}),(0,hn.jsx)("th",{children:"Actions"})]})}),(0,hn.jsx)("tbody",{children:a.map((e=>{const t=w(e.date,e.time),a="confirmed"===e.status&&!t;return(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:e.title}),(0,hn.jsx)("td",{children:e.coach_name}),(0,hn.jsx)("td",{children:g(e.date)}),(0,hn.jsx)("td",{children:j(e.time)}),(0,hn.jsx)("td",{children:(0,hn.jsx)(Ei,{className:y(e.status),children:N(e.status)})}),(0,hn.jsx)("td",{children:a?(0,hn.jsx)(li,{variant:"outline-danger",size:"sm",onClick:()=>k(e,"group"),children:"Annuler"}):(0,hn.jsx)(li,{variant:"outline-secondary",size:"sm",disabled:!0,title:t?"Impossible d'annuler un cours pass\xe9":"Ce cours ne peut pas \xeatre annul\xe9",children:t?"Pass\xe9":"Annulation Impossible"})})]},e.id)}))})]})}):(0,hn.jsx)("p",{className:"text-muted text-center",children:"Vous n'avez aucune r\xe9servation de cours collectif."})})]}),(0,hn.jsxs)(_o,{show:p,onHide:S,children:[(0,hn.jsx)(_o.Header,{closeButton:!0,children:(0,hn.jsx)(_o.Title,{children:"Confirmer l'Annulation"})}),(0,hn.jsx)(_o.Body,{children:i&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("p",{children:["\xcates-vous s\xfbr de vouloir annuler ","individual"===v?"cette s\xe9ance de coaching":"cette r\xe9servation de cours collectif"," ?"]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsxs)("strong",{children:["individual"===v?"Coach":"Cours",":"]})," ","individual"===v?i.coach_name:i.title]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Date:"})," ",g(i.date)]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Heure:"})," ",j(i.time)]}),(0,hn.jsxs)("div",{className:"alert alert-info",children:["Vous serez rembours\xe9 de 1 ","individual"===v?"Point Solo (PS)":"Point \xc9quipe (PE)","."]}),h&&(0,hn.jsxs)("div",{className:"alert alert-danger",children:[(0,hn.jsx)("i",{className:"fas fa-exclamation-circle me-2"}),h]}),u&&(0,hn.jsxs)("div",{className:"alert alert-success",children:[(0,hn.jsx)("i",{className:"fas fa-check-circle me-2"}),u]})]})}),(0,hn.jsxs)(_o.Footer,{children:[(0,hn.jsx)(li,{variant:"secondary",onClick:S,disabled:c,children:"Fermer"}),(0,hn.jsx)(li,{variant:"danger",onClick:async()=>{d(!0),f(null),m(null);try{let e;e="individual"===v?await mn.post("/api/reservations/client/cancel/".concat(i.id),{user_id:l.id}):await mn.post("/api/group-courses/".concat(i.course_id,"/cancel"),{}),m("Votre r\xe9servation a \xe9t\xe9 annul\xe9e avec succ\xe8s. Un point a \xe9t\xe9 rembours\xe9 \xe0 votre compte."),e.data.updated_points&&r(Ie(Ie({},l),{},{points:e.data.updated_points,solo_points:e.data.updated_solo_points,team_points:e.data.updated_team_points})),s(i.id,v),setTimeout((()=>{S()}),2e3)}catch(a){var e,t;console.error("Error cancelling reservation:",a),f((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to cancel reservation")}finally{d(!1)}},disabled:c||u,children:c?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)(Qc,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),(0,hn.jsx)("span",{className:"ms-2",children:"Annulation en cours..."})]}):"Confirmer l'Annulation"})]})]})]})},Tu=e=>{let{sessions:t,groupSessions:a,onCancelSuccess:s,updatePoints:r,currentUser:l}=e;const[i,o]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(null),[h,f]=(0,n.useState)(null),[p,x]=(0,n.useState)(!1),[v,b]=(0,n.useState)("individual"),[g,j]=(0,n.useState)(!1),[y,N]=(0,n.useState)([]),[w,k]=(0,n.useState)(new Date),[S,C]=(0,n.useState)(""),[_,E]=(0,n.useState)({}),[P,T]=(0,n.useState)(window.innerWidth<768);(0,n.useEffect)((()=>{const e=()=>{T(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,n.useEffect)((()=>{D(w);C(w.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})),R()}),[w,t,a]);const D=e=>{const t=e.getFullYear(),a=e.getMonth(),n=new Date(t,a,1),s=new Date(t,a+1,0),r=n.getDay(),l=[],i=new Date(t,a,0).getDate();for(let c=r-1;c>=0;c--){const e=new Date(t,a-1,i-c);l.push({date:e,day:i-c,month:"prev",dateString:e.toISOString().split("T")[0]})}for(let c=1;c<=s.getDate();c++){const e=new Date(t,a,c);l.push({date:e,day:c,month:"current",dateString:e.toISOString().split("T")[0]})}const o=42-l.length;for(let c=1;c<=o;c++){const e=new Date(t,a+1,c);l.push({date:e,day:c,month:"next",dateString:e.toISOString().split("T")[0]})}N(l)},R=()=>{const e={},n=new Date;console.log("Current date/time:",n),t.forEach((t=>{const a=new Date(t.date).toISOString().split("T")[0];let s;try{if(t.time.includes("T"))s=new Date(t.time);else{const[e,a,n]=t.time.split(":").map(Number);s=new Date(t.date),s.setHours(e||0,a||0,n||0,0)}}catch(Iu){s=new Date(t.date)}const r=s<n;console.log("Individual session ".concat(t.id,": ").concat(s,", isPast: ").concat(r)),e[a]||(e[a]=[]),e[a].push({id:"individual-".concat(t.id),title:"Individual: ".concat(t.coach_name),time:t.time,status:t.status,originalData:t,type:"individual",isPast:r})})),a.forEach((t=>{const a=new Date(t.date).toISOString().split("T")[0];let s;try{if(t.time.includes("T"))s=new Date(t.time);else{const[e,a,n]=t.time.split(":").map(Number);s=new Date(t.date),s.setHours(e||0,a||0,n||0,0)}}catch(Iu){s=new Date(t.date)}const r=s<n;console.log("Group session ".concat(t.id,": ").concat(s,", isPast: ").concat(r)),e[a]||(e[a]=[]),e[a].push({id:"group-".concat(t.id),title:"Group: ".concat(t.title),time:t.time,status:t.status,originalData:t,type:"group",isPast:r})})),E(e)},O=e=>{let t="calendar-day";"current"!==e.month&&(t+=" other-month");const a=new Date;return e.date.getDate()===a.getDate()&&e.date.getMonth()===a.getMonth()&&e.date.getFullYear()===a.getFullYear()&&(t+=" today"),_[e.dateString]&&_[e.dateString].length>0&&(t+=" has-events"),t},F=e=>{let t="event-item";if(!0===e.isPast)return t+=" event-past",t;switch(e.status){case"confirmed":t+=" event-confirmed";break;case"cancelled":t+=" event-cancelled";break;case"pending":t+=" event-pending";break;default:t+=" event-default"}return t},L=e=>e<new Date,A=()=>{x(!1)},I=()=>{j(!1),o(null)},M=e=>{if(!e)return"N/A";try{const[t,a]=e.split(":").map(Number),n=new Date;return n.setHours(t,a,0,0),n.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}catch(t){return e}},z=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(t){return e}},U=[];for(let n=0;n<y.length;n+=7)U.push(y.slice(n,n+7));return(0,hn.jsxs)("div",{className:"calendar-container",children:[(0,hn.jsxs)("div",{className:"calendar-header",children:[(0,hn.jsxs)("div",{className:"calendar-nav",children:[(0,hn.jsx)(li,{variant:"outline-secondary",onClick:()=>{k((e=>{const t=new Date(e);return t.setMonth(e.getMonth()-1),t}))},children:(0,hn.jsx)("i",{className:"fas fa-chevron-left"})}),(0,hn.jsx)("h3",{className:"month-title",children:S}),(0,hn.jsx)(li,{variant:"outline-secondary",onClick:()=>{k((e=>{const t=new Date(e);return t.setMonth(e.getMonth()+1),t}))},children:(0,hn.jsx)("i",{className:"fas fa-chevron-right"})})]}),(0,hn.jsx)(li,{variant:"outline-primary",onClick:()=>{k(new Date)},children:"Aujourd'hui"})]}),(0,hn.jsxs)("div",{className:"calendar-legend",children:[(0,hn.jsxs)("span",{className:"legend-item",children:[(0,hn.jsx)("span",{className:"legend-color confirmed"})," Confirm\xe9e"]}),(0,hn.jsxs)("span",{className:"legend-item",children:[(0,hn.jsx)("span",{className:"legend-color cancelled"})," Annul\xe9e"]}),(0,hn.jsxs)("span",{className:"legend-item",children:[(0,hn.jsx)("span",{className:"legend-color pending"})," En attente"]}),(0,hn.jsxs)("span",{className:"legend-item",children:[(0,hn.jsx)("span",{className:"legend-color past"})," Pass\xe9e"]})]}),(0,hn.jsxs)("div",{className:"calendar-grid",children:[(0,hn.jsxs)("div",{className:"calendar-weekdays",children:[(0,hn.jsx)("div",{className:"weekday",children:"Dim"}),(0,hn.jsx)("div",{className:"weekday",children:"Lun"}),(0,hn.jsx)("div",{className:"weekday",children:"Mar"}),(0,hn.jsx)("div",{className:"weekday",children:"Mer"}),(0,hn.jsx)("div",{className:"weekday",children:"Jeu"}),(0,hn.jsx)("div",{className:"weekday",children:"Ven"}),(0,hn.jsx)("div",{className:"weekday",children:"Sam"})]}),(0,hn.jsx)("div",{className:"calendar-body",children:U.map(((e,t)=>(0,hn.jsx)("div",{className:"calendar-week",children:e.map((e=>{var t;return(0,hn.jsxs)("div",{className:O(e),children:[(0,hn.jsx)("div",{className:"day-number",children:e.day}),(0,hn.jsx)("div",{className:"day-events",children:null===(t=_[e.dateString])||void 0===t?void 0:t.map((e=>(0,hn.jsx)("div",{className:"".concat(F(e)," ").concat(P?"mobile-event-button":""),onClick:()=>(e=>{o(Ie(Ie({},e.originalData),{},{eventType:e.type})),j(!0)})(e),children:P?(0,hn.jsx)("div",{className:"mobile-event-content",children:(0,hn.jsx)("span",{className:"mobile-event-type",children:"individual"===e.type?"Individuel":"Groupe"})}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)("span",{className:"event-time",children:M(e.time)}),(0,hn.jsx)("span",{className:"event-title",children:e.title})]})},e.id)))})]},"day-".concat(e.dateString))}))},"week-".concat(t))))})]}),(0,hn.jsxs)(_o,{show:g,onHide:I,centered:!0,scrollable:!0,dialogClassName:"modal-dialog-scrollable",children:[(0,hn.jsx)(_o.Header,{closeButton:!0,children:(0,hn.jsx)(_o.Title,{children:i&&"individual"===i.eventType?"Individuelle: ".concat(i.coach_name):"Cours Collectif"})}),(0,hn.jsx)(_o.Body,{children:i&&(0,hn.jsxs)("div",{className:"session-details",children:[(0,hn.jsxs)("div",{className:"detail-row",children:[(0,hn.jsx)("div",{className:"detail-label",children:"Date & Heure:"}),(0,hn.jsxs)("div",{className:"detail-value",children:[z(i.date)," \xe0 ",M(i.time)]})]}),(0,hn.jsxs)("div",{className:"detail-row",children:[(0,hn.jsx)("div",{className:"detail-label",children:"Statut:"}),(0,hn.jsx)("div",{className:"detail-value",children:(0,hn.jsx)(Ei,{className:(e=>{switch(e){case"confirmed":return"bg-success";case"pending":return"bg-warning";case"cancelled":return"bg-danger";default:return"bg-secondary"}})(i.status),children:(e=>{switch(e){case"confirmed":return"Confirmed";case"pending":return"Pending";case"cancelled":return"Cancelled";default:return e}})(i.status)})})]}),"individual"===i.eventType?(0,hn.jsx)(hn.Fragment,{children:(0,hn.jsxs)("div",{className:"detail-row",children:[(0,hn.jsx)("div",{className:"detail-label",children:"Coach:"}),(0,hn.jsx)("div",{className:"detail-value",children:i.coach_name})]})}):(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("div",{className:"detail-row",children:[(0,hn.jsx)("div",{className:"detail-label",children:"Cours:"}),(0,hn.jsx)("div",{className:"detail-value",children:i.title})]}),(0,hn.jsxs)("div",{className:"detail-row",children:[(0,hn.jsx)("div",{className:"detail-label",children:"Coach:"}),(0,hn.jsx)("div",{className:"detail-value",children:i.coach_name})]}),(0,hn.jsxs)("div",{className:"detail-row",children:[(0,hn.jsx)("div",{className:"detail-label",children:"Dur\xe9e:"}),(0,hn.jsxs)("div",{className:"detail-value",children:[i.duration||60," minutes"]})]})]}),(0,hn.jsxs)("div",{className:"detail-row",children:[(0,hn.jsx)("div",{className:"detail-label",children:"Date:"}),(0,hn.jsx)("div",{className:"detail-value",children:z(i.date)})]}),(0,hn.jsxs)("div",{className:"detail-row",children:[(0,hn.jsx)("div",{className:"detail-label",children:"Heure:"}),(0,hn.jsx)("div",{className:"detail-value",children:M(i.time)})]}),(0,hn.jsxs)("div",{className:"detail-row",children:[(0,hn.jsx)("div",{className:"detail-label",children:"Lieu:"}),(0,hn.jsx)("div",{className:"detail-value",children:"Salle Principale"})]}),"confirmed"===i.status&&(0,hn.jsx)("div",{className:"mt-4",children:L(new Date("".concat(i.date,"T").concat(i.time)))||"individual"===i.eventType&&(e=>{const t=new Date;return e.getTime()-t.getTime()<216e5})(new Date("".concat(i.date,"T").concat(i.time)))?(0,hn.jsx)("div",{className:"alert alert-warning",children:L(new Date("".concat(i.date,"T").concat(i.time)))?"Cette s\xe9ance est d\xe9j\xe0 pass\xe9e et ne peut pas \xeatre annul\xe9e.":"Les s\xe9ances individuelles ne peuvent pas \xeatre annul\xe9es dans les 6 heures pr\xe9c\xe9dant le rendez-vous."}):(0,hn.jsx)(li,{variant:"danger",onClick:()=>{b(i.eventType),j(!1),x(!0),f(null),m(null)},className:"w-100",children:"Annuler la R\xe9servation"})})]})}),(0,hn.jsx)(_o.Footer,{children:(0,hn.jsx)(li,{variant:"secondary",onClick:I,children:"Fermer"})})]}),(0,hn.jsxs)(_o,{show:p,onHide:A,centered:!0,scrollable:!0,dialogClassName:"modal-dialog-scrollable",children:[(0,hn.jsx)(_o.Header,{closeButton:!0,children:(0,hn.jsx)(_o.Title,{children:"Confirmer l'Annulation"})}),(0,hn.jsx)(_o.Body,{children:i&&(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsxs)("p",{children:["\xcates-vous s\xfbr de vouloir annuler ","individual"===v?"cette s\xe9ance de coaching":"cette r\xe9servation de cours collectif"," ?"]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsxs)("strong",{children:["individual"===v?"Coach":"Cours",":"]})," ","individual"===v?i.coach_name:i.title]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Date:"})," ",z(i.date)]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Heure:"})," ",M(i.time)]}),(0,hn.jsxs)("div",{className:"alert alert-info",children:["Vous serez rembours\xe9 de 1 ","individual"===v?"Point Solo (PS)":"Point \xc9quipe (PE)","."]}),h&&(0,hn.jsxs)("div",{className:"alert alert-danger",children:[(0,hn.jsx)("i",{className:"fas fa-exclamation-circle me-2"}),h]}),u&&(0,hn.jsxs)("div",{className:"alert alert-success",children:[(0,hn.jsx)("i",{className:"fas fa-check-circle me-2"}),u]})]})}),(0,hn.jsxs)(_o.Footer,{children:[(0,hn.jsx)(li,{variant:"secondary",onClick:A,disabled:c,children:"Fermer"}),(0,hn.jsx)(li,{variant:"danger",onClick:async()=>{d(!0),f(null),m(null);try{let e;e="individual"===v?await cn.post("/api/reservations/client/cancel/".concat(i.id),{user_id:l.id}):await cn.post("/api/group-courses/".concat(i.course_id,"/cancel"),{}),m("Votre r\xe9servation a \xe9t\xe9 annul\xe9e avec succ\xe8s. Un point a \xe9t\xe9 rembours\xe9 \xe0 votre compte."),e.data.updated_points&&r(Ie(Ie({},l),{},{points:e.data.updated_points,solo_points:e.data.updated_solo_points,team_points:e.data.updated_team_points})),s(i.id,"individual"!==v),setTimeout((()=>{A()}),2e3)}catch(a){var e,t;console.error("Error cancelling reservation:",a),f((null===(e=a.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to cancel reservation")}finally{d(!1)}},disabled:c||u,children:c?(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)(Qc,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),(0,hn.jsx)("span",{className:"ms-2",children:"Annulation en cours..."})]}):"Confirmer l'Annulation"})]})]})]})},Du=()=>{var e,t,a;const{currentUser:s,updatePoints:r,logout:l}=(0,n.useContext)(pn),i=te(),[o,c]=(0,n.useState)(null),[d,u]=(0,n.useState)("info"),[m,h]=(0,n.useState)(!0),[f,p]=(0,n.useState)(null),[x,v]=(0,n.useState)([]),[b,g]=(0,n.useState)(window.innerWidth<768);(0,n.useEffect)((()=>{const e=()=>{g(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);const j=()=>{l("user"),i("/",{replace:!0})};(0,n.useEffect)((()=>{(async()=>{try{if(!s)return p("Please log in to view your profile."),void h(!1);const t=localStorage.getItem("clientToken");if(!t)return p("No authentication token found. Please log in again."),h(!1),l("user"),void i("/login",{replace:!0});mn.defaults.headers.common.Authorization||(console.log("Setting authorization header from localStorage"),mn.defaults.headers.common.Authorization="Bearer ".concat(t)),console.log("Fetching user profile from /api/user/profile...");const a=await mn.get("/api/user/profile");console.log("Profile data received:",a.data),c(a.data),console.log("Fetching group sessions from /api/group-courses/my-bookings...");try{const e=await mn.get("/api/group-courses/my-bookings");console.log("Group sessions received:",e.data),v(e.data||[])}catch(o){var e;console.warn("Error fetching group sessions:",o),console.warn("Error details:",null===(e=o.response)||void 0===e?void 0:e.data),v([])}h(!1)}catch(d){var t,a,n,r;const e=(null===(t=d.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||d.message||"Unknown error";p("Failed to load profile data. Error: ".concat(e)),h(!1),console.error("Profile loading error:",d),console.error("Error details:",null===(n=d.response)||void 0===n?void 0:n.data),401===(null===(r=d.response)||void 0===r?void 0:r.status)&&(console.error("Authentication error - token expired or invalid"),console.error("Current token:",localStorage.getItem("clientToken")),l("user"),p("Your session has expired. Please log in again."),setTimeout((()=>{i("/login",{replace:!0})}),2e3))}})()}),[]);const y=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",timeZone:"Africa/Casablanca"})},N=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?v((t=>t.map((t=>t.id===e?Ie(Ie({},t),{},{status:"cancelled"}):t)))):c((t=>Ie(Ie({},t),{},{sessions:Ie(Ie({},t.sessions),{},{list:t.sessions.list.map((t=>t.id===e?Ie(Ie({},t),{},{status:"cancelled"}):t))})})))};return m?b?(0,hn.jsx)("div",{className:"mobile-app-container",children:(0,hn.jsxs)("div",{className:"mobile-loading",children:[(0,hn.jsx)("div",{className:"mobile-loading-spinner"}),(0,hn.jsx)("p",{children:"Chargement du profil..."})]})}):(0,hn.jsxs)("div",{className:"text-center",children:[(0,hn.jsx)("div",{className:"spinner-border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,hn.jsx)("p",{className:"mt-2",children:"Loading your profile..."})]}):f?b?(0,hn.jsx)("div",{className:"mobile-app-container",children:(0,hn.jsxs)("div",{className:"mobile-empty-state",children:[(0,hn.jsx)("div",{className:"mobile-empty-icon",children:(0,hn.jsx)("i",{className:"fas fa-exclamation-triangle"})}),(0,hn.jsx)("div",{className:"mobile-empty-title",children:"Erreur"}),(0,hn.jsx)("div",{className:"mobile-empty-text",children:f})]})}):(0,hn.jsx)("div",{className:"alert alert-danger",children:f}):o?b?(0,hn.jsxs)("div",{className:"mobile-app-container",children:[(0,hn.jsx)("header",{className:"mobile-app-header",children:(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,hn.jsxs)(Ee,{to:"/",className:"brand",children:[(0,hn.jsx)("img",{src:"/logo_white.png",alt:"Suite Coaching"}),"Suite Coaching"]}),(0,hn.jsxs)("div",{className:"dropdown",children:[(0,hn.jsx)("button",{className:"btn p-0 mobile-user-dropdown",type:"button",id:"mobileUserDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,hn.jsx)("div",{className:"user-avatar",children:(0,hn.jsx)("i",{className:"fas fa-user"})})}),(0,hn.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end mobile-dropdown-menu","aria-labelledby":"mobileUserDropdown",children:[(0,hn.jsx)("li",{children:(0,hn.jsxs)("div",{className:"dropdown-item-text mobile-user-info",children:[(0,hn.jsx)("div",{className:"mobile-user-name",children:s.username}),(0,hn.jsx)("div",{className:"mobile-user-email",children:s.email})]})}),(0,hn.jsx)("li",{children:(0,hn.jsx)("hr",{className:"dropdown-divider"})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)("button",{className:"dropdown-item mobile-logout-item",onClick:j,children:[(0,hn.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"D\xe9connexion"]})})]})]})]})}),(0,hn.jsxs)("div",{className:"mobile-profile-hero",children:[(0,hn.jsx)("div",{className:"mobile-profile-avatar",children:(0,hn.jsx)("i",{className:"fas fa-user"})}),(0,hn.jsx)("div",{className:"mobile-profile-name",children:o.user.full_name||o.user.username}),(0,hn.jsx)("div",{className:"mobile-profile-email",children:o.user.email})]}),(0,hn.jsxs)("div",{className:"mobile-stats-grid",children:[(0,hn.jsxs)("div",{className:"mobile-stat-card",children:[(0,hn.jsx)("div",{className:"mobile-stat-value",style:{color:"#007bff"},children:o.user.solo_points||0}),(0,hn.jsx)("div",{className:"mobile-stat-label",children:"Solo Points"})]}),(0,hn.jsxs)("div",{className:"mobile-stat-card",children:[(0,hn.jsx)("div",{className:"mobile-stat-value",style:{color:"#17a2b8"},children:o.user.team_points||0}),(0,hn.jsx)("div",{className:"mobile-stat-label",children:"Team Points"})]}),(0,hn.jsxs)("div",{className:"mobile-stat-card",children:[(0,hn.jsx)("div",{className:"mobile-stat-value",style:{color:"#28a745"},children:o.packs.total_assigned}),(0,hn.jsx)("div",{className:"mobile-stat-label",children:"Packs"})]}),(0,hn.jsxs)("div",{className:"mobile-stat-card",children:[(0,hn.jsx)("div",{className:"mobile-stat-value",style:{color:"#ffc107"},children:o.statistics.sessions_available}),(0,hn.jsx)("div",{className:"mobile-stat-label",children:"Sessions"})]}),(0,hn.jsxs)("div",{className:"mobile-stat-card",children:[(0,hn.jsx)("div",{className:"mobile-stat-value",style:{color:"#dc3545"},children:(null===(w=o.bilans)||void 0===w?void 0:w.total)||0}),(0,hn.jsx)("div",{className:"mobile-stat-label",children:"Bilans"})]})]}),(0,hn.jsxs)("div",{className:"mobile-tab-nav d-flex",children:[(0,hn.jsxs)("button",{className:"mobile-tab-btn ".concat("info"===d?"active":""),onClick:()=>u("info"),children:[(0,hn.jsx)("i",{className:"fas fa-info-circle d-block mb-1"}),(0,hn.jsx)("span",{className:"mobile-tab-text",children:"Info"})]}),(0,hn.jsxs)("button",{className:"mobile-tab-btn ".concat("reservations"===d?"active":""),onClick:()=>u("reservations"),children:[(0,hn.jsx)("i",{className:"fas fa-calendar-check d-block mb-1"}),(0,hn.jsx)("span",{className:"mobile-tab-text",children:"Sessions"})]}),(0,hn.jsxs)("button",{className:"mobile-tab-btn ".concat("calendar"===d?"active":""),onClick:()=>u("calendar"),children:[(0,hn.jsx)("i",{className:"fas fa-calendar-alt d-block mb-1"}),(0,hn.jsx)("span",{className:"mobile-tab-text",children:"Calendrier"})]}),(0,hn.jsxs)("button",{className:"mobile-tab-btn ".concat("packs"===d?"active":""),onClick:()=>u("packs"),children:[(0,hn.jsx)("i",{className:"fas fa-box d-block mb-1"}),(0,hn.jsx)("span",{className:"mobile-tab-text",children:"Packs"})]}),(0,hn.jsxs)("button",{className:"mobile-tab-btn ".concat("bilans"===d?"active":""),onClick:()=>u("bilans"),children:[(0,hn.jsx)("i",{className:"fas fa-file-medical-alt d-block mb-1"}),(0,hn.jsx)("span",{className:"mobile-tab-text",children:"Bilans"})]})]}),"info"===d&&(0,hn.jsxs)("div",{className:"mobile-content-section",children:[(0,hn.jsxs)("div",{className:"mobile-section-header",children:[(0,hn.jsx)("i",{className:"fas fa-info-circle me-2"}),"Informations Personnelles"]}),(0,hn.jsx)("div",{className:"mobile-section-content",children:(0,hn.jsxs)("div",{className:"row g-3",children:[(0,hn.jsxs)("div",{className:"col-6",children:[(0,hn.jsx)("div",{className:"small text-muted",children:"Matricule"}),(0,hn.jsx)("div",{className:"fw-bold",children:o.user.matricule})]}),(0,hn.jsxs)("div",{className:"col-6",children:[(0,hn.jsx)("div",{className:"small text-muted",children:"Nom complet"}),(0,hn.jsx)("div",{className:"fw-bold",children:o.user.full_name||"Non renseign\xe9"})]}),(0,hn.jsxs)("div",{className:"col-6",children:[(0,hn.jsx)("div",{className:"small text-muted",children:"T\xe9l\xe9phone"}),(0,hn.jsx)("div",{className:"fw-bold",children:o.user.phone||"Non renseign\xe9"})]}),(0,hn.jsxs)("div",{className:"col-6",children:[(0,hn.jsx)("div",{className:"small text-muted",children:"\xc2ge"}),(0,hn.jsx)("div",{className:"fw-bold",children:o.user.age||"Non renseign\xe9"})]}),(0,hn.jsxs)("div",{className:"col-6",children:[(0,hn.jsx)("div",{className:"small text-muted",children:"Genre"}),(0,hn.jsx)("div",{className:"fw-bold",children:o.user.gender||"Non renseign\xe9"})]}),(0,hn.jsxs)("div",{className:"col-6",children:[(0,hn.jsx)("div",{className:"small text-muted",children:"Membre depuis"}),(0,hn.jsx)("div",{className:"fw-bold",children:y(o.user.member_since)})]}),(0,hn.jsxs)("div",{className:"col-12",children:[(0,hn.jsx)("div",{className:"small text-muted",children:"Objectif fitness"}),(0,hn.jsx)("div",{className:"fw-bold",children:o.user.goal||"Non renseign\xe9"})]})]})})]}),"reservations"===d&&(0,hn.jsxs)("div",{className:"mobile-content-section",children:[(0,hn.jsxs)("div",{className:"mobile-section-header",children:[(0,hn.jsx)("i",{className:"fas fa-list-ul me-2"}),"Mes R\xe9servations"]}),(0,hn.jsx)("div",{className:"mobile-section-content",children:(0,hn.jsx)(Pu,{sessions:o.sessions.list,groupSessions:x,onCancelSuccess:N,updatePoints:r,currentUser:s})})]}),"calendar"===d&&(0,hn.jsxs)("div",{className:"mobile-content-section",children:[(0,hn.jsxs)("div",{className:"mobile-section-header",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-alt me-2"}),"Vue Calendrier"]}),(0,hn.jsx)("div",{className:"mobile-section-content",children:(0,hn.jsx)(Tu,{sessions:o.sessions.list,groupSessions:x,onCancelSuccess:N,updatePoints:r,currentUser:s})})]}),"packs"===d&&(0,hn.jsxs)("div",{className:"mobile-content-section",children:[(0,hn.jsxs)("div",{className:"mobile-section-header",children:[(0,hn.jsx)("i",{className:"fas fa-box me-2"}),"Mes Packs (",o.packs.total_assigned,")"]}),(0,hn.jsx)("div",{className:"mobile-section-content",children:o.packs.list.length>0?(0,hn.jsx)("div",{children:o.packs.list.map((e=>(0,hn.jsxs)("div",{className:"mobile-reservation-card",children:[(0,hn.jsxs)("div",{className:"mobile-reservation-header",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsx)("div",{className:"mobile-reservation-coach",children:e.name}),(0,hn.jsxs)("div",{className:"mobile-reservation-date",children:["Achet\xe9 le ",y(e.purchased_at)]})]}),(0,hn.jsx)("span",{className:"badge mobile-reservation-status ".concat("completed"===e.payment_status?"bg-success":"bg-warning"),children:"completed"===e.payment_status?"Actif":e.payment_status})]}),(0,hn.jsxs)("div",{className:"d-flex justify-content-between mt-2",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsx)("small",{className:"text-muted",children:"Solo Points:"}),(0,hn.jsxs)("div",{className:"fw-bold text-primary",children:[e.solo_points||0," SP"]})]}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("small",{className:"text-muted",children:"Team Points:"}),(0,hn.jsxs)("div",{className:"fw-bold text-info",children:[e.team_points||0," TP"]})]})]})]},e.id)))}):(0,hn.jsxs)("div",{className:"mobile-empty-state",children:[(0,hn.jsx)("div",{className:"mobile-empty-icon",children:(0,hn.jsx)("i",{className:"fas fa-box-open"})}),(0,hn.jsx)("div",{className:"mobile-empty-title",children:"Aucun pack"}),(0,hn.jsx)("div",{className:"mobile-empty-text",children:"Vous n'avez pas encore de packs assign\xe9s"})]})})]}),"bilans"===d&&(0,hn.jsxs)("div",{className:"mobile-content-section",children:[(0,hn.jsxs)("div",{className:"mobile-section-header",children:[(0,hn.jsx)("i",{className:"fas fa-file-medical-alt me-2"}),"Mes Bilans (",(null===(k=o.bilans)||void 0===k?void 0:k.total)||0,")"]}),(0,hn.jsx)("div",{className:"mobile-section-content",children:((null===(S=o.bilans)||void 0===S?void 0:S.list)||[]).length>0?(0,hn.jsx)("div",{children:((null===(C=o.bilans)||void 0===C?void 0:C.list)||[]).map((e=>(0,hn.jsxs)("div",{className:"mobile-reservation-card",children:[(0,hn.jsxs)("div",{className:"mobile-reservation-header",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsxs)("div",{className:"mobile-reservation-coach",children:[(0,hn.jsx)("i",{className:"fas fa-user-md me-2"}),e.coach_name]}),(0,hn.jsx)("div",{className:"mobile-reservation-date",children:e.coach_specialty})]}),(0,hn.jsx)("span",{className:"badge bg-primary mobile-reservation-status",children:"Coach"})]}),(0,hn.jsxs)("div",{className:"mt-3",children:[(0,hn.jsxs)("div",{className:"mobile-bilan-content",children:[(0,hn.jsx)("small",{className:"text-muted d-block mb-2",children:"Bilan:"}),(0,hn.jsx)("div",{style:{fontSize:"0.9rem",lineHeight:"1.5",whiteSpace:"pre-wrap",backgroundColor:"#f8f9fa",padding:"12px",borderRadius:"8px",border:"1px solid #e9ecef"},children:e.bilan})]}),(0,hn.jsxs)("div",{className:"d-flex justify-content-between mt-3 pt-2 border-top",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsx)("small",{className:"text-muted",children:"Cr\xe9\xe9:"}),(0,hn.jsx)("div",{className:"small fw-bold",children:y(e.created_at)})]}),(0,hn.jsxs)("div",{children:[(0,hn.jsx)("small",{className:"text-muted",children:"Modifi\xe9:"}),(0,hn.jsx)("div",{className:"small fw-bold",children:y(e.updated_at)})]})]})]})]},e.id)))}):(0,hn.jsxs)("div",{className:"mobile-empty-state",children:[(0,hn.jsx)("div",{className:"mobile-empty-icon",children:(0,hn.jsx)("i",{className:"fas fa-file-medical-alt"})}),(0,hn.jsx)("div",{className:"mobile-empty-title",children:"Aucun bilan"}),(0,hn.jsx)("div",{className:"mobile-empty-text",children:"Vos coachs n'ont pas encore cr\xe9\xe9 de bilan pour vous"})]})})]}),(0,hn.jsx)(Ln,{currentView:"profile"})]}):(0,hn.jsx)("div",{className:"row desktop-only",children:(0,hn.jsxs)("div",{className:"col-12",children:[(0,hn.jsxs)("h2",{className:"mb-4",children:[(0,hn.jsx)("i",{className:"fas fa-user-circle me-2"}),"My Profile"]}),(0,hn.jsxs)("div",{className:"row mb-4",children:[(0,hn.jsx)("div",{className:"col-md-3 mb-3",children:(0,hn.jsx)("div",{className:"card bg-primary text-white",children:(0,hn.jsxs)("div",{className:"card-body text-center",children:[(0,hn.jsx)("h3",{className:"mb-1",children:o.user.solo_points||0}),(0,hn.jsx)("small",{children:"Points Solo (PS)"})]})})}),(0,hn.jsx)("div",{className:"col-md-3 mb-3",children:(0,hn.jsx)("div",{className:"card bg-info text-white",children:(0,hn.jsxs)("div",{className:"card-body text-center",children:[(0,hn.jsx)("h3",{className:"mb-1",children:o.user.team_points||0}),(0,hn.jsx)("small",{children:"Points \xc9quipe (PE)"})]})})}),(0,hn.jsx)("div",{className:"col-md-3 mb-3",children:(0,hn.jsx)("div",{className:"card bg-success text-white",children:(0,hn.jsxs)("div",{className:"card-body text-center",children:[(0,hn.jsx)("h3",{className:"mb-1",children:o.packs.total_assigned}),(0,hn.jsx)("small",{children:"Packs Assign\xe9s"})]})})}),(0,hn.jsx)("div",{className:"col-md-3 mb-3",children:(0,hn.jsx)("div",{className:"card bg-warning text-white",children:(0,hn.jsxs)("div",{className:"card-body text-center",children:[(0,hn.jsx)("h3",{className:"mb-1",children:o.statistics.sessions_available}),(0,hn.jsx)("small",{children:"S\xe9ances Disponibles"})]})})})]}),(0,hn.jsxs)(Er.Container,{id:"profile-tabs",activeKey:d,onSelect:e=>u(e),children:[(0,hn.jsxs)(kl,{variant:"tabs",className:"mb-4",children:[(0,hn.jsx)(kl.Item,{children:(0,hn.jsxs)(kl.Link,{eventKey:"info",children:[(0,hn.jsx)("i",{className:"fas fa-info-circle me-2"}),"Informations Personnelles"]})}),(0,hn.jsx)(kl.Item,{children:(0,hn.jsxs)(kl.Link,{eventKey:"reservations",children:[(0,hn.jsx)("i",{className:"fas fa-list-ul me-2"}),"Liste des R\xe9servations"]})}),(0,hn.jsx)(kl.Item,{children:(0,hn.jsxs)(kl.Link,{eventKey:"calendar",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-alt me-2"}),"Vue Calendrier"]})}),(0,hn.jsx)(kl.Item,{children:(0,hn.jsxs)(kl.Link,{eventKey:"packs",children:[(0,hn.jsx)("i",{className:"fas fa-box me-2"}),"Mes Packs"]})}),(0,hn.jsx)(kl.Item,{children:(0,hn.jsxs)(kl.Link,{eventKey:"bilans",children:[(0,hn.jsx)("i",{className:"fas fa-file-medical-alt me-2"}),"Mes Bilans"]})})]}),(0,hn.jsxs)(Er.Content,{children:[(0,hn.jsx)(Er.Pane,{eventKey:"info",children:(0,hn.jsxs)("div",{className:"card",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsx)("h5",{className:"mb-0",children:"Informations Personnelles"})}),(0,hn.jsx)("div",{className:"card-body",children:(0,hn.jsxs)("div",{className:"row",children:[(0,hn.jsxs)("div",{className:"col-md-6",children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Matricule:"})," ",o.user.matricule]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Nom complet:"})," ",o.user.full_name||"Non renseign\xe9"]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Email:"})," ",o.user.email]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"T\xe9l\xe9phone:"})," ",o.user.phone||"Non renseign\xe9"]})]}),(0,hn.jsxs)("div",{className:"col-md-6",children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"\xc2ge:"})," ",o.user.age||"Non renseign\xe9"]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Genre:"})," ",o.user.gender||"Non renseign\xe9"]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Membre depuis:"})," ",y(o.user.member_since)]}),(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("strong",{children:"Objectif fitness:"})," ",o.user.goal||"Non renseign\xe9"]})]})]})})]})}),(0,hn.jsx)(Er.Pane,{eventKey:"reservations",children:(0,hn.jsx)(Pu,{sessions:o.sessions.list,groupSessions:x,onCancelSuccess:N,updatePoints:r,currentUser:s})}),(0,hn.jsx)(Er.Pane,{eventKey:"calendar",children:(0,hn.jsx)(Tu,{sessions:o.sessions.list,groupSessions:x,onCancelSuccess:N,updatePoints:r,currentUser:s})}),(0,hn.jsx)(Er.Pane,{eventKey:"packs",children:(0,hn.jsxs)("div",{className:"card",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsxs)("h5",{className:"mb-0",children:["Mes Packs (",o.packs.total_assigned,")"]})}),(0,hn.jsx)("div",{className:"card-body",children:o.packs.list.length>0?(0,hn.jsx)("div",{className:"table-responsive",children:(0,hn.jsxs)("table",{className:"table table-striped",children:[(0,hn.jsx)("thead",{children:(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("th",{children:"Nom du Pack"}),(0,hn.jsx)("th",{children:"Points Solo"}),(0,hn.jsx)("th",{children:"Points \xc9quipe"}),(0,hn.jsx)("th",{children:"Date d'Achat"}),(0,hn.jsx)("th",{children:"Statut"})]})}),(0,hn.jsx)("tbody",{children:o.packs.list.map((e=>(0,hn.jsxs)("tr",{children:[(0,hn.jsx)("td",{children:e.name}),(0,hn.jsxs)("td",{children:[e.solo_points||0," SP"]}),(0,hn.jsxs)("td",{children:[e.team_points||0," TP"]}),(0,hn.jsx)("td",{children:y(e.purchased_at)}),(0,hn.jsx)("td",{children:(0,hn.jsx)("span",{className:"badge bg-success",children:"completed"===e.payment_status?"Actif":e.payment_status})})]},e.id)))})]})}):(0,hn.jsxs)("div",{className:"text-center py-4",children:[(0,hn.jsx)("i",{className:"fas fa-box-open fa-3x text-muted mb-3"}),(0,hn.jsx)("p",{className:"text-muted",children:"Aucun pack attribu\xe9 pour le moment"})]})})]})}),(0,hn.jsx)(Er.Pane,{eventKey:"bilans",children:(0,hn.jsxs)("div",{className:"card",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)("i",{className:"fas fa-file-medical-alt me-2"}),"Mes Bilans (",(null===(e=o.bilans)||void 0===e?void 0:e.total)||0,")"]})}),(0,hn.jsx)("div",{className:"card-body",children:((null===(t=o.bilans)||void 0===t?void 0:t.list)||[]).length>0?(0,hn.jsx)("div",{className:"row",children:((null===(a=o.bilans)||void 0===a?void 0:a.list)||[]).map((e=>(0,hn.jsx)("div",{className:"col-md-6 mb-4",children:(0,hn.jsxs)("div",{className:"card border-left-primary h-100",children:[(0,hn.jsx)("div",{className:"card-header bg-light",children:(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,hn.jsxs)("div",{children:[(0,hn.jsxs)("h6",{className:"mb-0 fw-bold text-primary",children:[(0,hn.jsx)("i",{className:"fas fa-user-md me-2"}),e.coach_name]}),(0,hn.jsx)("small",{className:"text-muted",children:e.coach_specialty})]}),(0,hn.jsx)("span",{className:"badge bg-primary",children:"Coach"})]})}),(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsx)("div",{className:"bilan-content",children:(0,hn.jsx)("p",{className:"mb-3",style:{lineHeight:"1.6",whiteSpace:"pre-wrap"},children:e.bilan})}),(0,hn.jsx)("div",{className:"bilan-metadata mt-3 pt-3 border-top",children:(0,hn.jsxs)("div",{className:"row text-muted small",children:[(0,hn.jsxs)("div",{className:"col-6",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-plus me-1"}),(0,hn.jsx)("strong",{children:"Cr\xe9\xe9:"}),(0,hn.jsx)("br",{}),y(e.created_at)]}),(0,hn.jsxs)("div",{className:"col-6",children:[(0,hn.jsx)("i",{className:"fas fa-calendar-edit me-1"}),(0,hn.jsx)("strong",{children:"Modifi\xe9:"}),(0,hn.jsx)("br",{}),y(e.updated_at)]})]})})]})]})},e.id)))}):(0,hn.jsxs)("div",{className:"text-center py-5",children:[(0,hn.jsx)("i",{className:"fas fa-file-medical-alt fa-4x text-muted mb-3"}),(0,hn.jsx)("h5",{className:"text-muted",children:"Aucun bilan disponible"}),(0,hn.jsxs)("p",{className:"text-muted",children:["Vos coachs n'ont pas encore cr\xe9\xe9 de bilan pour vous.",(0,hn.jsx)("br",{}),"Les bilans appara\xeetront ici une fois qu'ils seront r\xe9dig\xe9s par vos coachs."]})]})})]})})]})]})]})}):b?(0,hn.jsx)("div",{className:"mobile-app-container",children:(0,hn.jsxs)("div",{className:"mobile-empty-state",children:[(0,hn.jsx)("div",{className:"mobile-empty-icon",children:(0,hn.jsx)("i",{className:"fas fa-user-slash"})}),(0,hn.jsx)("div",{className:"mobile-empty-title",children:"Profil non trouv\xe9"})]})}):(0,hn.jsx)("div",{className:"alert alert-warning",children:"Profile not found"});var w,k,S,C},Ru=()=>{const[e,t]=(0,n.useState)([]),[a,s]=(0,n.useState)(!0),[r,l]=(0,n.useState)(""),[i,o]=(0,n.useState)(window.innerWidth<768),{currentUser:c,logout:d}=(0,n.useContext)(pn),u=te();(0,n.useEffect)((()=>{const e=()=>{o(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]);return(0,n.useEffect)((()=>{(async()=>{try{s(!0);const e=await mn.get("/api/packs");t(e.data),s(!1)}catch(e){console.error("Error fetching packs:",e),l("Failed to load available packs. Please try again later."),s(!1)}})()}),[]),(0,hn.jsx)(hn.Fragment,{children:i?(0,hn.jsxs)("div",{className:"mobile-app-container",children:[(0,hn.jsx)("header",{className:"mobile-app-header",children:(0,hn.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,hn.jsxs)(Ee,{to:"/",className:"brand",children:[(0,hn.jsx)("img",{src:"/logo_white.png",alt:"Suite Coaching"}),"Suite Coaching"]}),c?(0,hn.jsxs)("div",{className:"dropdown",children:[(0,hn.jsx)("button",{className:"btn p-0 mobile-user-dropdown",type:"button",id:"mobileUserDropdown","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,hn.jsx)("div",{className:"user-avatar",children:(0,hn.jsx)("i",{className:"fas fa-user"})})}),(0,hn.jsxs)("ul",{className:"dropdown-menu dropdown-menu-end mobile-dropdown-menu","aria-labelledby":"mobileUserDropdown",children:[(0,hn.jsx)("li",{children:(0,hn.jsxs)("div",{className:"dropdown-item-text mobile-user-info",children:[(0,hn.jsx)("div",{className:"mobile-user-name",children:c.username}),(0,hn.jsx)("div",{className:"mobile-user-email",children:c.email})]})}),(0,hn.jsx)("li",{children:(0,hn.jsx)("hr",{className:"dropdown-divider"})}),(0,hn.jsx)("li",{children:(0,hn.jsxs)("button",{className:"dropdown-item mobile-logout-item",onClick:()=>{d("user"),u("/",{replace:!0})},children:[(0,hn.jsx)("i",{className:"fas fa-sign-out-alt me-2"}),"D\xe9connexion"]})})]})]}):(0,hn.jsx)(Ee,{to:"/login",className:"btn btn-sm btn-light",children:"Connexion"})]})}),(0,hn.jsx)("div",{className:"mobile-app-content",children:(0,hn.jsxs)("div",{className:"mobile-content-section",children:[(0,hn.jsxs)("div",{className:"mobile-section-header",children:[(0,hn.jsx)("i",{className:"fas fa-gift me-2"}),"Packs Disponibles"]}),(0,hn.jsxs)("div",{className:"mobile-section-content",children:[(0,hn.jsx)("p",{className:"text-muted mb-3",style:{fontSize:"0.9rem"},children:"Contactez votre administrateur pour obtenir un de ces packs."}),r&&(0,hn.jsx)(Ni,{variant:"danger",className:"mb-3",children:r}),a?(0,hn.jsxs)("div",{className:"text-center py-4",children:[(0,hn.jsx)("div",{className:"mobile-loading-spinner"}),(0,hn.jsx)("p",{className:"mt-2",children:"Chargement des packs..."})]}):(0,hn.jsx)(hn.Fragment,{children:0===e.length?(0,hn.jsxs)("div",{className:"mobile-empty-state",children:[(0,hn.jsx)("div",{className:"mobile-empty-icon",children:(0,hn.jsx)("i",{className:"fas fa-gift"})}),(0,hn.jsx)("div",{className:"mobile-empty-title",children:"Aucun pack disponible"}),(0,hn.jsx)("div",{className:"mobile-empty-text",children:"Veuillez contacter votre administrateur"})]}):(0,hn.jsx)("div",{className:"mobile-packs-grid",children:e.map((e=>(0,hn.jsxs)("div",{className:"mobile-pack-card",children:[(0,hn.jsxs)("div",{className:"mobile-pack-header",children:[(0,hn.jsx)("div",{className:"mobile-pack-icon",children:(0,hn.jsx)("i",{className:"fas fa-star"})}),(0,hn.jsx)("div",{className:"mobile-pack-name",children:e.name})]}),(0,hn.jsxs)("div",{className:"mobile-pack-points",children:[(0,hn.jsx)("span",{className:"mobile-pack-points-value",children:e.points}),(0,hn.jsx)("span",{className:"mobile-pack-points-label",children:"Points"})]}),e.description&&(0,hn.jsx)("div",{className:"mobile-pack-features",children:e.description.split("\n").map(((e,t)=>e.trim()?(0,hn.jsxs)("div",{className:"mobile-pack-feature",children:[(0,hn.jsx)("i",{className:"fas fa-check-circle me-2"}),e.trim()]},t):null))}),(0,hn.jsx)("div",{className:"mobile-pack-price",children:e.price?(0,hn.jsxs)("span",{className:"mobile-price-badge paid",children:[e.price," DH"]}):(0,hn.jsx)("span",{className:"mobile-price-badge free",children:"Gratuit"})}),(0,hn.jsx)("div",{className:"mobile-pack-footer",children:(0,hn.jsx)("small",{children:"Contactez l'admin pour obtenir ce pack"})})]},e.id)))})}),(0,hn.jsxs)("div",{className:"mobile-info-card mt-4",children:[(0,hn.jsx)("h6",{className:"mb-2",children:"Comment obtenir un pack :"}),(0,hn.jsx)("p",{className:"mb-0",style:{fontSize:"0.9rem"},children:"Contactez votre administrateur pour avoir un de ces packs assign\xe9 \xe0 votre compte. Une fois assign\xe9s, les points seront automatiquement ajout\xe9s \xe0 votre solde."})]})]})]})}),(0,hn.jsx)(Ln,{currentView:"packs"})]}):(0,hn.jsxs)(ts,{className:"my-4",children:[(0,hn.jsx)(Dr,{children:(0,hn.jsxs)(Lr,{children:[(0,hn.jsxs)("h2",{className:"mb-4",children:[(0,hn.jsx)(Dc,{className:"me-2"}),"Available Point Packs"]}),(0,hn.jsx)("p",{className:"text-muted mb-4",children:"Contact your administrator to get one of these packs assigned to your account."})]})}),r&&(0,hn.jsx)(Dr,{children:(0,hn.jsx)(Lr,{children:(0,hn.jsx)(Ni,{variant:"danger",children:r})})}),a?(0,hn.jsx)(Dr,{children:(0,hn.jsxs)(Lr,{className:"text-center py-5",children:[(0,hn.jsx)(Qc,{animation:"border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,hn.jsx)("p",{className:"mt-2",children:"Loading available packs..."})]})}):(0,hn.jsx)(Dr,{children:0===e.length?(0,hn.jsx)(Lr,{children:(0,hn.jsx)(Ni,{variant:"info",children:"No packs are currently available. Please check back later or contact your administrator."})}):e.map((e=>(0,hn.jsx)(Lr,{md:4,className:"mb-4",children:(0,hn.jsxs)(ni,{className:"h-100 shadow-sm border-0",children:[(0,hn.jsx)(ni.Header,{className:"bg-primary text-white text-center",children:(0,hn.jsxs)("h5",{className:"mb-0",children:[(0,hn.jsx)(Fc,{className:"me-2"}),e.name]})}),(0,hn.jsxs)(ni.Body,{className:"d-flex flex-column text-center",children:[(0,hn.jsxs)("div",{className:"mb-3",children:[(0,hn.jsx)("span",{className:"display-4 text-primary fw-bold",children:e.points}),(0,hn.jsx)("div",{className:"text-muted",children:"Points"})]}),e.description&&(0,hn.jsx)("div",{className:"flex-grow-1 text-start mt-3",children:(0,hn.jsx)("ul",{className:"list-unstyled pack-features",children:e.description.split("\n").map(((e,t)=>e.trim()?(0,hn.jsxs)("li",{className:"mb-2",children:[(0,hn.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),e.trim()]},t):null))})}),(0,hn.jsx)("div",{className:"mt-auto",children:e.price?(0,hn.jsxs)(Ei,{bg:"success",className:"fs-6 px-3 py-2",children:[e.price," DH"]}):(0,hn.jsx)(Ei,{bg:"info",className:"fs-6 px-3 py-2",children:"Free"})})]}),(0,hn.jsx)(ni.Footer,{className:"bg-light text-center",children:(0,hn.jsx)("small",{className:"text-muted",children:"Contact admin to get this pack"})})]})},e.id)))}),(0,hn.jsx)(Dr,{className:"mt-4",children:(0,hn.jsx)(Lr,{children:(0,hn.jsxs)(Ni,{variant:"light",className:"border",children:[(0,hn.jsx)("h6",{children:"How to get a pack:"}),(0,hn.jsx)("p",{className:"mb-0",children:"Contact your administrator to have one of these packs assigned to your account. Once assigned, the points will be automatically added to your balance and you can use them to book coaching sessions."})]})})})]})})},Ou=e=>{let{children:t,requiredRole:a="admin"}=e;const{currentUser:s,adminUser:r,coachUser:l,isAdmin:i,isCoach:o}=(0,n.useContext)(pn),[c,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(!1),h=te();return(0,n.useEffect)((()=>{(async()=>{if("admin"===a){if(r&&i)return console.log("User is already authenticated as admin"),m(!0),void d(!1);if(!r)return console.log("No admin user found, redirecting to admin login"),m(!1),void d(!1)}if("coach"===a){if(l&&"coach"===l.role)return console.log("User is already authenticated as coach"),m(!0),void d(!1);const t=localStorage.getItem("coachToken"),a=JSON.parse(localStorage.getItem("coachUser")||"null");if(!t||!a)return console.log("No coach token or user found, redirecting to coach login"),m(!1),void d(!1);try{return cn.defaults.headers.common.Authorization="Bearer ".concat(t),await cn.get("/api/auth/me"),m(!0),void d(!1)}catch(e){return console.error("Coach token verification failed:",e),localStorage.removeItem("coachToken"),localStorage.removeItem("coachUser"),m(!1),void d(!1)}}if("user"===a){if(s&&"user"===s.role)return console.log("User is already authenticated as client"),m(!0),void d(!1);const t=localStorage.getItem("clientToken"),a=JSON.parse(localStorage.getItem("clientUser")||"null");if(!t||!a)return console.log("No client token or user found, redirecting to client login"),m(!1),void d(!1);try{return cn.defaults.headers.common.Authorization="Bearer ".concat(t),await cn.get("/api/auth/me"),m(!0),void d(!1)}catch(e){return console.error("Client token verification failed:",e),localStorage.removeItem("clientToken"),localStorage.removeItem("clientUser"),m(!1),void d(!1)}}try{let e;if("admin"===a){if(e=localStorage.getItem("adminToken"),!e)throw new Error("No admin token found");cn.defaults.headers.common.Authorization="Bearer ".concat(e),await cn.get("/api/auth/me"),m(!0)}}catch(e){console.error("".concat(a," authentication verification failed:"),e),"admin"===a&&(localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser")),m(!1)}finally{d(!1)}})()}),[r,i,a,h]),c?(0,hn.jsxs)("div",{className:"container mt-5 text-center",children:[(0,hn.jsx)("div",{className:"spinner-border",role:"status",children:(0,hn.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,hn.jsx)("p",{className:"mt-3",children:"Verifying authentication..."})]}):u?t:"admin"===a?(0,hn.jsx)(xe,{to:"/admin/login",replace:!0}):"coach"===a?(0,hn.jsx)(xe,{to:"/coach/login",replace:!0}):"user"===a?(0,hn.jsx)(xe,{to:"/client/login",replace:!0}):(0,hn.jsx)(xe,{to:"/login",replace:!0})},Fu=()=>{const e=localStorage.getItem("clientToken"),t=localStorage.getItem("clientUser"),a=localStorage.getItem("adminToken"),n=localStorage.getItem("coachToken");let s=null;if(e)try{s=JSON.parse(atob(e.split(".")[1]))}catch(l){console.error("Error decoding token:",l)}const r=!!s&&1e3*s.exp<Date.now();return(0,hn.jsx)("div",{className:"container mt-4",children:(0,hn.jsxs)("div",{className:"card",children:[(0,hn.jsx)("div",{className:"card-header",children:(0,hn.jsx)("h3",{children:"\ud83d\udd10 Authentication Debug Information"})}),(0,hn.jsxs)("div",{className:"card-body",children:[(0,hn.jsxs)("h5",{children:["\ud83d\udcf1 Current Path: ",(0,hn.jsx)("code",{children:window.location.pathname})]}),(0,hn.jsxs)("div",{className:"row mt-3",children:[(0,hn.jsxs)("div",{className:"col-md-6",children:[(0,hn.jsx)("h6",{children:"Client Authentication:"}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Token:"})," ",e?(0,hn.jsx)("span",{className:"text-success",children:"\u2705 Present"}):(0,hn.jsx)("span",{className:"text-danger",children:"\u274c Missing"})]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"User Data:"})," ",t?(0,hn.jsx)("span",{className:"text-success",children:"\u2705 Present"}):(0,hn.jsx)("span",{className:"text-danger",children:"\u274c Missing"})]}),s&&(0,hn.jsxs)("div",{children:[(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Token Expires:"})," ",new Date(1e3*s.exp).toLocaleString()]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Is Expired:"})," ",r?(0,hn.jsx)("span",{className:"text-danger",children:"\u274c Yes"}):(0,hn.jsx)("span",{className:"text-success",children:"\u2705 No"})]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"User ID:"})," ",s.userId]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Role:"})," ",s.role]})]})]}),(0,hn.jsxs)("div",{className:"col-md-6",children:[(0,hn.jsx)("h6",{children:"Other Tokens:"}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Admin Token:"})," ",a?(0,hn.jsx)("span",{className:"text-info",children:"Present"}):(0,hn.jsx)("span",{className:"text-muted",children:"None"})]}),(0,hn.jsxs)("p",{children:[(0,hn.jsx)("strong",{children:"Coach Token:"})," ",n?(0,hn.jsx)("span",{className:"text-info",children:"Present"}):(0,hn.jsx)("span",{className:"text-muted",children:"None"})]})]})]}),t&&(0,hn.jsxs)("div",{className:"mt-3",children:[(0,hn.jsx)("h6",{children:"\ud83d\udc64 Client User Data:"}),(0,hn.jsx)("pre",{className:"bg-light p-2 rounded",children:JSON.stringify(JSON.parse(t),null,2)})]}),(0,hn.jsxs)("div",{className:"mt-3",children:[(0,hn.jsx)("h6",{children:"\ud83d\udd27 Quick Actions:"}),(0,hn.jsx)("button",{className:"btn btn-warning me-2",onClick:()=>{localStorage.removeItem("clientToken"),localStorage.removeItem("clientUser"),window.location.reload()},children:"Clear Client Auth"}),(0,hn.jsx)("button",{className:"btn btn-danger me-2",onClick:()=>{localStorage.clear(),window.location.reload()},children:"Clear All Storage"}),(0,hn.jsx)("button",{className:"btn btn-primary",onClick:()=>window.location.href="/login",children:"Go to Login"})]})]})]})})},Lu=()=>{const{currentUser:e,updatePoints:t}=(0,n.useContext)(pn),a=(0,n.useRef)(null);(0,n.useEffect)((()=>{let n=null;if(e&&e.id){const s="https:"===window.location.protocol?"wss:":"ws:",r=window.location.hostname,l=window.location.port,i="".concat(s,"//").concat(r).concat(l?":"+l:"","/ws");console.log("Connecting to WebSocket at: ".concat(i)),n=new WebSocket(i),a.current=n,n.onopen=()=>{console.log("WebSocket connection established"),n.send(JSON.stringify({type:"auth",userId:e.id}))},n.onmessage=a=>{try{const n=JSON.parse(a.data);switch(console.log("WebSocket message received:",n),n.type){case"auth_success":console.log("WebSocket authentication successful");break;case"points_updated":if(void 0!==n.points&&t){const a=Ie(Ie({},e),{},{points:n.points});t(a),kn(n.message||"Your points have been updated. New balance: ".concat(n.points," points."),{type:"info",title:"Points Updated",duration:7e3})}break;default:console.log("Unhandled WebSocket message type: ".concat(n.type))}}catch(n){console.error("Error parsing WebSocket message:",n)}},n.onerror=e=>{console.error("WebSocket error:",e)},n.onclose=t=>{console.log("WebSocket connection closed: ".concat(t.code," ").concat(t.reason)),setTimeout((()=>{e&&e.id&&console.log("Attempting to reconnect WebSocket...")}),5e3)}}return()=>{n&&(console.log("Closing WebSocket connection"),n.close())}}),[e,t]);return null};const Au=function(){return(0,hn.jsx)(xn,{children:(0,hn.jsx)(ku,{children:(0,hn.jsx)(Se,{children:(0,hn.jsxs)("div",{className:"App",children:[(0,hn.jsx)(Lu,{}),(0,hn.jsx)(Sn,{}),(0,hn.jsx)(On,{}),(0,hn.jsxs)(ge,{children:[(0,hn.jsx)(ve,{path:"/",element:(0,hn.jsxs)(bn,{showAdminLink:!1,children:[(0,hn.jsx)("div",{className:"container mt-4 desktop-only",children:(0,hn.jsx)(An,{})}),(0,hn.jsx)("div",{className:"mobile-only",children:(0,hn.jsx)(An,{})})]})}),(0,hn.jsx)(ve,{path:"/login",element:(0,hn.jsx)(bn,{showAdminLink:!1,children:(0,hn.jsx)("div",{className:"container mt-4",children:(0,hn.jsx)(zn,{})})})}),(0,hn.jsx)(ve,{path:"/client/login",element:(0,hn.jsx)(xe,{to:"/login"})}),(0,hn.jsx)(ve,{path:"/packs",element:(0,hn.jsx)(bn,{showAdminLink:!1,children:(0,hn.jsx)(Ru,{})})}),(0,hn.jsx)(ve,{path:"/auth-debug",element:(0,hn.jsx)(bn,{showAdminLink:!1,children:(0,hn.jsx)(Fu,{})})}),(0,hn.jsx)(ve,{path:"/profile",element:(0,hn.jsxs)(bn,{showAdminLink:!1,children:[(0,hn.jsx)("div",{className:"container mt-4 desktop-only",children:(0,hn.jsx)(Ou,{requiredRole:"user",children:(0,hn.jsx)(Du,{})})}),(0,hn.jsx)("div",{className:"mobile-only",children:(0,hn.jsx)(Ou,{requiredRole:"user",children:(0,hn.jsx)(Du,{})})})]})}),(0,hn.jsx)(ve,{path:"/coach/login",element:(0,hn.jsx)(bn,{showAdminLink:!1,showCoachLink:!0,children:(0,hn.jsx)("div",{className:"container mt-4",children:(0,hn.jsx)(Bn,{})})})}),(0,hn.jsx)(ve,{path:"/coach/",element:(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)(vn,{showAdminLink:!1,showCoachLink:!0}),(0,hn.jsx)(Ou,{requiredRole:"coach",children:(0,hn.jsx)(Eu,{})})]})}),(0,hn.jsx)(ve,{path:"/coach/*",element:(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)(vn,{showAdminLink:!1,showCoachLink:!0}),(0,hn.jsx)(Ou,{requiredRole:"coach",children:(0,hn.jsx)(Eu,{})})]})}),(0,hn.jsx)(ve,{path:"/coach",element:(0,hn.jsx)(xe,{to:"/coach/",replace:!0})}),(0,hn.jsx)(ve,{path:"/admin",element:(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)(vn,{showAdminLink:!0}),(0,hn.jsx)("div",{className:"container mt-4",children:(0,hn.jsx)(Ou,{requiredRole:"admin",children:(0,hn.jsx)(Nu,{})})})]})}),(0,hn.jsx)(ve,{path:"/admin/login",element:(0,hn.jsxs)(hn.Fragment,{children:[(0,hn.jsx)(vn,{showAdminLink:!0}),(0,hn.jsx)("div",{className:"container mt-4",children:(0,hn.jsx)(Mn,{})})]})})]})]})})})})};r.createRoot(document.getElementById("root")).render((0,hn.jsx)(n.StrictMode,{children:(0,hn.jsx)(Au,{})}))})()})();